(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var ff={exports:{}},mr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function vw(){if(_y)return mr;_y=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:t,type:i,key:c,ref:r!==void 0?r:null,props:l}}return mr.Fragment=e,mr.jsx=n,mr.jsxs=n,mr}var Cy;function Tw(){return Cy||(Cy=1,ff.exports=vw()),ff.exports}var x=Tw(),df={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function Sw(){if(xy)return ge;xy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function A(P,W,te){this.props=P,this.context=W,this.refs=E,this.updater=te||C}A.prototype.isReactComponent={},A.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function D(){}D.prototype=A.prototype;function I(P,W,te){this.props=P,this.context=W,this.refs=E,this.updater=te||C}var M=I.prototype=new D;M.constructor=I,b(M,A.prototype),M.isPureReactComponent=!0;var L=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function z(P,W,te,ee,ae,Ee){return te=Ee.ref,{$$typeof:t,type:P,key:W,ref:te!==void 0?te:null,props:Ee}}function X(P,W){return z(P.type,W,void 0,void 0,void 0,P.props)}function J(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function Q(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(te){return W[te]})}var Z=/\/+/g;function ne(P,W){return typeof P=="object"&&P!==null&&P.key!=null?Q(""+P.key):W.toString(36)}function Pe(){}function ue(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Pe,Pe):(P.status="pending",P.then(function(W){P.status==="pending"&&(P.status="fulfilled",P.value=W)},function(W){P.status==="pending"&&(P.status="rejected",P.reason=W)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ve(P,W,te,ee,ae){var Ee=typeof P;(Ee==="undefined"||Ee==="boolean")&&(P=null);var me=!1;if(P===null)me=!0;else switch(Ee){case"bigint":case"string":case"number":me=!0;break;case"object":switch(P.$$typeof){case t:case e:me=!0;break;case y:return me=P._init,ve(me(P._payload),W,te,ee,ae)}}if(me)return ae=ae(P),me=ee===""?"."+ne(P,0):ee,L(ae)?(te="",me!=null&&(te=me.replace(Z,"$&/")+"/"),ve(ae,W,te,"",function(On){return On})):ae!=null&&(J(ae)&&(ae=X(ae,te+(ae.key==null||P&&P.key===ae.key?"":(""+ae.key).replace(Z,"$&/")+"/")+me)),W.push(ae)),1;me=0;var Mt=ee===""?".":ee+":";if(L(P))for(var Ge=0;Ge<P.length;Ge++)ee=P[Ge],Ee=Mt+ne(ee,Ge),me+=ve(ee,W,te,Ee,ae);else if(Ge=S(P),typeof Ge=="function")for(P=Ge.call(P),Ge=0;!(ee=P.next()).done;)ee=ee.value,Ee=Mt+ne(ee,Ge++),me+=ve(ee,W,te,Ee,ae);else if(Ee==="object"){if(typeof P.then=="function")return ve(ue(P),W,te,ee,ae);throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return me}function F(P,W,te){if(P==null)return P;var ee=[],ae=0;return ve(P,ee,"","",function(Ee){return W.call(te,Ee,ae++)}),ee}function j(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(te){(P._status===0||P._status===-1)&&(P._status=1,P._result=te)},function(te){(P._status===0||P._status===-1)&&(P._status=2,P._result=te)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var ie=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function xe(){}return ge.Children={map:F,forEach:function(P,W,te){F(P,function(){W.apply(this,arguments)},te)},count:function(P){var W=0;return F(P,function(){W++}),W},toArray:function(P){return F(P,function(W){return W})||[]},only:function(P){if(!J(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ge.Component=A,ge.Fragment=n,ge.Profiler=r,ge.PureComponent=I,ge.StrictMode=i,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ge.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},ge.cache=function(P){return function(){return P.apply(null,arguments)}},ge.cloneElement=function(P,W,te){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ee=b({},P.props),ae=P.key,Ee=void 0;if(W!=null)for(me in W.ref!==void 0&&(Ee=void 0),W.key!==void 0&&(ae=""+W.key),W)!O.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(ee[me]=W[me]);var me=arguments.length-2;if(me===1)ee.children=te;else if(1<me){for(var Mt=Array(me),Ge=0;Ge<me;Ge++)Mt[Ge]=arguments[Ge+2];ee.children=Mt}return z(P.type,ae,void 0,void 0,Ee,ee)},ge.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},ge.createElement=function(P,W,te){var ee,ae={},Ee=null;if(W!=null)for(ee in W.key!==void 0&&(Ee=""+W.key),W)O.call(W,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ae[ee]=W[ee]);var me=arguments.length-2;if(me===1)ae.children=te;else if(1<me){for(var Mt=Array(me),Ge=0;Ge<me;Ge++)Mt[Ge]=arguments[Ge+2];ae.children=Mt}if(P&&P.defaultProps)for(ee in me=P.defaultProps,me)ae[ee]===void 0&&(ae[ee]=me[ee]);return z(P,Ee,void 0,void 0,null,ae)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(P){return{$$typeof:h,render:P}},ge.isValidElement=J,ge.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:j}},ge.memo=function(P,W){return{$$typeof:m,type:P,compare:W===void 0?null:W}},ge.startTransition=function(P){var W=N.T,te={};N.T=te;try{var ee=P(),ae=N.S;ae!==null&&ae(te,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(xe,ie)}catch(Ee){ie(Ee)}finally{N.T=W}},ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ge.use=function(P){return N.H.use(P)},ge.useActionState=function(P,W,te){return N.H.useActionState(P,W,te)},ge.useCallback=function(P,W){return N.H.useCallback(P,W)},ge.useContext=function(P){return N.H.useContext(P)},ge.useDebugValue=function(){},ge.useDeferredValue=function(P,W){return N.H.useDeferredValue(P,W)},ge.useEffect=function(P,W,te){var ee=N.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(P,W)},ge.useId=function(){return N.H.useId()},ge.useImperativeHandle=function(P,W,te){return N.H.useImperativeHandle(P,W,te)},ge.useInsertionEffect=function(P,W){return N.H.useInsertionEffect(P,W)},ge.useLayoutEffect=function(P,W){return N.H.useLayoutEffect(P,W)},ge.useMemo=function(P,W){return N.H.useMemo(P,W)},ge.useOptimistic=function(P,W){return N.H.useOptimistic(P,W)},ge.useReducer=function(P,W,te){return N.H.useReducer(P,W,te)},ge.useRef=function(P){return N.H.useRef(P)},ge.useState=function(P){return N.H.useState(P)},ge.useSyncExternalStore=function(P,W,te){return N.H.useSyncExternalStore(P,W,te)},ge.useTransition=function(){return N.H.useTransition()},ge.version="19.1.1",ge}var Ey;function Ud(){return Ey||(Ey=1,df.exports=Sw()),df.exports}var V=Ud();const _w=kd(V);var hf={exports:{}},pr={},mf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function Cw(){return wy||(wy=1,function(t){function e(F,j){var ie=F.length;F.push(j);e:for(;0<ie;){var xe=ie-1>>>1,P=F[xe];if(0<r(P,j))F[xe]=j,F[ie]=P,ie=xe;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var j=F[0],ie=F.pop();if(ie!==j){F[0]=ie;e:for(var xe=0,P=F.length,W=P>>>1;xe<W;){var te=2*(xe+1)-1,ee=F[te],ae=te+1,Ee=F[ae];if(0>r(ee,ie))ae<P&&0>r(Ee,ee)?(F[xe]=Ee,F[ae]=ie,xe=ae):(F[xe]=ee,F[te]=ie,xe=te);else if(ae<P&&0>r(Ee,ie))F[xe]=Ee,F[ae]=ie,xe=ae;else break e}}return j}function r(F,j){var ie=F.sortIndex-j.sortIndex;return ie!==0?ie:F.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,T=null,S=3,C=!1,b=!1,E=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function L(F){for(var j=n(m);j!==null;){if(j.callback===null)i(m);else if(j.startTime<=F)i(m),j.sortIndex=j.expirationTime,e(p,j);else break;j=n(m)}}function N(F){if(E=!1,L(F),!b)if(n(p)!==null)b=!0,O||(O=!0,ne());else{var j=n(m);j!==null&&ve(N,j.startTime-F)}}var O=!1,z=-1,X=5,J=-1;function Q(){return A?!0:!(t.unstable_now()-J<X)}function Z(){if(A=!1,O){var F=t.unstable_now();J=F;var j=!0;try{e:{b=!1,E&&(E=!1,I(z),z=-1),C=!0;var ie=S;try{t:{for(L(F),T=n(p);T!==null&&!(T.expirationTime>F&&Q());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,S=T.priorityLevel;var P=xe(T.expirationTime<=F);if(F=t.unstable_now(),typeof P=="function"){T.callback=P,L(F),j=!0;break t}T===n(p)&&i(p),L(F)}else i(p);T=n(p)}if(T!==null)j=!0;else{var W=n(m);W!==null&&ve(N,W.startTime-F),j=!1}}break e}finally{T=null,S=ie,C=!1}j=void 0}}finally{j?ne():O=!1}}}var ne;if(typeof M=="function")ne=function(){M(Z)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,ue=Pe.port2;Pe.port1.onmessage=Z,ne=function(){ue.postMessage(null)}}else ne=function(){D(Z,0)};function ve(F,j){z=D(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(F){switch(S){case 1:case 2:case 3:var j=3;break;default:j=S}var ie=S;S=j;try{return F()}finally{S=ie}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=S;S=F;try{return j()}finally{S=ie}},t.unstable_scheduleCallback=function(F,j,ie){var xe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,F){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ie+P,F={id:y++,callback:j,priorityLevel:F,startTime:ie,expirationTime:P,sortIndex:-1},ie>xe?(F.sortIndex=ie,e(m,F),n(p)===null&&F===n(m)&&(E?(I(z),z=-1):E=!0,ve(N,ie-xe))):(F.sortIndex=P,e(p,F),b||C||(b=!0,O||(O=!0,ne()))),F},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(F){var j=S;return function(){var ie=S;S=j;try{return F.apply(this,arguments)}finally{S=ie}}}}(pf)),pf}var by;function xw(){return by||(by=1,mf.exports=Cw()),mf.exports}var gf={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function Ew(){if(Ay)return mt;Ay=1;var t=Ud();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(p,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},mt.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},mt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},mt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},mt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):y==="script"&&i.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},mt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},mt.requestFormReset=function(p){i.d.r(p)},mt.unstable_batchedUpdates=function(p,m){return p(m)},mt.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},mt.version="19.1.1",mt}var My;function ww(){if(My)return gf.exports;My=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gf.exports=Ew(),gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function bw(){if(Ry)return pr;Ry=1;var t=xw(),e=Ud(),n=ww();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,a=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(a=o.return),s=o.return;while(s)}return o.tag===3?a:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(l(s)!==s)throw Error(i(188))}function p(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(i(188));return o!==s?null:s}for(var a=s,d=o;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){a=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return h(g),s;if(v===d)return h(g),o;v=v.sibling}throw Error(i(188))}if(a.return!==d.return)a=g,d=v;else{for(var _=!1,w=g.child;w;){if(w===a){_=!0,a=g,d=v;break}if(w===d){_=!0,d=g,a=v;break}w=w.sibling}if(!_){for(w=v.child;w;){if(w===a){_=!0,a=v,d=g;break}if(w===d){_=!0,d=v,a=g;break}w=w.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==d)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var Pe=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Pe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList";case J:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case M:return(s.displayName||"Context")+".Provider";case I:return(s._context.displayName||"Context")+".Consumer";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return o=s.displayName||null,o!==null?o:ue(s.type)||"Memo";case X:o=s._payload,s=s._init;try{return ue(s(o))}catch{}}return null}var ve=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},xe=[],P=-1;function W(s){return{current:s}}function te(s){0>P||(s.current=xe[P],xe[P]=null,P--)}function ee(s,o){P++,xe[P]=s.current,s.current=o}var ae=W(null),Ee=W(null),me=W(null),Mt=W(null);function Ge(s,o){switch(ee(me,o),ee(Ee,s),ee(ae,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Xg(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Xg(o),s=jg(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(ae),ee(ae,s)}function On(){te(ae),te(Ee),te(me)}function Xl(s){s.memoizedState!==null&&ee(Mt,s);var o=ae.current,a=jg(o,s.type);o!==a&&(ee(Ee,s),ee(ae,a))}function $r(s){Ee.current===s&&(te(ae),te(Ee)),Mt.current===s&&(te(Mt),ur._currentValue=ie)}var jl=Object.prototype.hasOwnProperty,Wl=t.unstable_scheduleCallback,Ql=t.unstable_cancelCallback,XC=t.unstable_shouldYield,jC=t.unstable_requestPaint,sn=t.unstable_now,WC=t.unstable_getCurrentPriorityLevel,Rh=t.unstable_ImmediatePriority,Dh=t.unstable_UserBlockingPriority,Jr=t.unstable_NormalPriority,QC=t.unstable_LowPriority,Nh=t.unstable_IdlePriority,ZC=t.log,ex=t.unstable_setDisableYieldValue,yo=null,Rt=null;function Bn(s){if(typeof ZC=="function"&&ex(s),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(yo,s)}catch{}}var Dt=Math.clz32?Math.clz32:ix,tx=Math.log,nx=Math.LN2;function ix(s){return s>>>=0,s===0?32:31-(tx(s)/nx|0)|0}var Yr=256,Kr=4194304;function vi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xr(s,o,a){var d=s.pendingLanes;if(d===0)return 0;var g=0,v=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var w=d&134217727;return w!==0?(d=w&~v,d!==0?g=vi(d):(_&=w,_!==0?g=vi(_):a||(a=w&~s,a!==0&&(g=vi(a))))):(w=d&~v,w!==0?g=vi(w):_!==0?g=vi(_):a||(a=d&~s,a!==0&&(g=vi(a)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,a=o&-o,v>=a||v===32&&(a&4194048)!==0)?o:g}function vo(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function sx(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ph(){var s=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),s}function Ih(){var s=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),s}function Zl(s){for(var o=[],a=0;31>a;a++)o.push(s);return o}function To(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ox(s,o,a,d,g,v){var _=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var w=s.entanglements,R=s.expirationTimes,q=s.hiddenUpdates;for(a=_&~a;0<a;){var $=31-Dt(a),K=1<<$;w[$]=0,R[$]=-1;var G=q[$];if(G!==null)for(q[$]=null,$=0;$<G.length;$++){var H=G[$];H!==null&&(H.lane&=-536870913)}a&=~K}d!==0&&kh(s,d,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(_&~o))}function kh(s,o,a){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Dt(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|a&4194090}function Uh(s,o){var a=s.entangledLanes|=o;for(s=s.entanglements;a;){var d=31-Dt(a),g=1<<d;g&o|s[d]&o&&(s[d]|=o),a&=~g}}function eu(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function tu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Lh(){var s=j.p;return s!==0?s:(s=window.event,s===void 0?32:py(s.type))}function rx(s,o){var a=j.p;try{return j.p=s,o()}finally{j.p=a}}var qn=Math.random().toString(36).slice(2),dt="__reactFiber$"+qn,Ct="__reactProps$"+qn,Wi="__reactContainer$"+qn,nu="__reactEvents$"+qn,ax="__reactListeners$"+qn,lx="__reactHandles$"+qn,Vh="__reactResources$"+qn,So="__reactMarker$"+qn;function iu(s){delete s[dt],delete s[Ct],delete s[nu],delete s[ax],delete s[lx]}function Qi(s){var o=s[dt];if(o)return o;for(var a=s.parentNode;a;){if(o=a[Wi]||a[dt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(s=ey(s);s!==null;){if(a=s[dt])return a;s=ey(s)}return o}s=a,a=s.parentNode}return null}function Zi(s){if(s=s[dt]||s[Wi]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function _o(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function es(s){var o=s[Vh];return o||(o=s[Vh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function nt(s){s[So]=!0}var Oh=new Set,Bh={};function Ti(s,o){ts(s,o),ts(s+"Capture",o)}function ts(s,o){for(Bh[s]=o,s=0;s<o.length;s++)Oh.add(o[s])}var ux=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qh={},Gh={};function cx(s){return jl.call(Gh,s)?!0:jl.call(qh,s)?!1:ux.test(s)?Gh[s]=!0:(qh[s]=!0,!1)}function jr(s,o,a){if(cx(o))if(a===null)s.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+a)}}function Wr(s,o,a){if(a===null)s.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+a)}}function gn(s,o,a,d){if(d===null)s.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(o,a,""+d)}}var su,Hh;function ns(s){if(su===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);su=o&&o[1]||"",Hh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+s+Hh}var ou=!1;function ru(s,o){if(!s||ou)return"";ou=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var G=H}Reflect.construct(s,[],K)}else{try{K.call()}catch(H){G=H}s.call(K.prototype)}}else{try{throw Error()}catch(H){G=H}(K=s())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&G&&typeof H.stack=="string")return[H.stack,G.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),_=v[0],w=v[1];if(_&&w){var R=_.split(`
`),q=w.split(`
`);for(g=d=0;d<R.length&&!R[d].includes("DetermineComponentFrameRoot");)d++;for(;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;if(d===R.length||g===q.length)for(d=R.length-1,g=q.length-1;1<=d&&0<=g&&R[d]!==q[g];)g--;for(;1<=d&&0<=g;d--,g--)if(R[d]!==q[g]){if(d!==1||g!==1)do if(d--,g--,0>g||R[d]!==q[g]){var $=`
`+R[d].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=d&&0<=g);break}}}finally{ou=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?ns(a):""}function fx(s){switch(s.tag){case 26:case 27:case 5:return ns(s.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 15:return ru(s.type,!1);case 11:return ru(s.type.render,!1);case 1:return ru(s.type,!0);case 31:return ns("Activity");default:return""}}function zh(s){try{var o="";do o+=fx(s),s=s.return;while(s);return o}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Bt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fh(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function dx(s){var o=Fh(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,v=a.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(_){d=""+_,v.call(this,_)}}),Object.defineProperty(s,o,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Qr(s){s._valueTracker||(s._valueTracker=dx(s))}function $h(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var a=o.getValue(),d="";return s&&(d=Fh(s)?s.checked?"true":"false":s.value),s=d,s!==a?(o.setValue(s),!0):!1}function Zr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var hx=/[\n"\\]/g;function qt(s){return s.replace(hx,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function au(s,o,a,d,g,v,_,w){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),o!=null?_==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Bt(o)):s.value!==""+Bt(o)&&(s.value=""+Bt(o)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),o!=null?lu(s,_,Bt(o)):a!=null?lu(s,_,Bt(a)):d!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+Bt(w):s.removeAttribute("name")}function Jh(s,o,a,d,g,v,_,w){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),o!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;a=a!=null?""+Bt(a):"",o=o!=null?""+Bt(o):a,w||o===s.value||(s.value=o),s.defaultValue=o}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=w?s.checked:!!d,s.defaultChecked=!!d,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_)}function lu(s,o,a){o==="number"&&Zr(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function is(s,o,a,d){if(s=s.options,o){o={};for(var g=0;g<a.length;g++)o["$"+a[g]]=!0;for(a=0;a<s.length;a++)g=o.hasOwnProperty("$"+s[a].value),s[a].selected!==g&&(s[a].selected=g),g&&d&&(s[a].defaultSelected=!0)}else{for(a=""+Bt(a),o=null,g=0;g<s.length;g++){if(s[g].value===a){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Yh(s,o,a){if(o!=null&&(o=""+Bt(o),o!==s.value&&(s.value=o),a==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=a!=null?""+Bt(a):""}function Kh(s,o,a,d){if(o==null){if(d!=null){if(a!=null)throw Error(i(92));if(ve(d)){if(1<d.length)throw Error(i(93));d=d[0]}a=d}a==null&&(a=""),o=a}a=Bt(o),s.defaultValue=a,d=s.textContent,d===a&&d!==""&&d!==null&&(s.value=d)}function ss(s,o){if(o){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=o;return}}s.textContent=o}var mx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xh(s,o,a){var d=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,a):typeof a!="number"||a===0||mx.has(o)?o==="float"?s.cssFloat=a:s[o]=(""+a).trim():s[o]=a+"px"}function jh(s,o,a){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,a!=null){for(var d in a)!a.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var g in o)d=o[g],o.hasOwnProperty(g)&&a[g]!==d&&Xh(s,g,d)}else for(var v in o)o.hasOwnProperty(v)&&Xh(s,v,o[v])}function uu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var px=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(s){return gx.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var cu=null;function fu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var os=null,rs=null;function Wh(s){var o=Zi(s);if(o&&(s=o.stateNode)){var a=s[Ct]||null;e:switch(s=o.stateNode,o.type){case"input":if(au(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var d=a[o];if(d!==s&&d.form===s.form){var g=d[Ct]||null;if(!g)throw Error(i(90));au(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<a.length;o++)d=a[o],d.form===s.form&&$h(d)}break e;case"textarea":Yh(s,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&is(s,!!a.multiple,o,!1)}}}var du=!1;function Qh(s,o,a){if(du)return s(o,a);du=!0;try{var d=s(o);return d}finally{if(du=!1,(os!==null||rs!==null)&&(Ba(),os&&(o=os,s=rs,rs=os=null,Wh(o),s)))for(o=0;o<s.length;o++)Wh(s[o])}}function Co(s,o){var a=s.stateNode;if(a===null)return null;var d=a[Ct]||null;if(d===null)return null;a=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(i(231,o,typeof a));return a}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=!1;if(yn)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){hu=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{hu=!1}var Gn=null,mu=null,ta=null;function Zh(){if(ta)return ta;var s,o=mu,a=o.length,d,g="value"in Gn?Gn.value:Gn.textContent,v=g.length;for(s=0;s<a&&o[s]===g[s];s++);var _=a-s;for(d=1;d<=_&&o[a-d]===g[v-d];d++);return ta=g.slice(s,1<d?1-d:void 0)}function na(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ia(){return!0}function em(){return!1}function xt(s){function o(a,d,g,v,_){this._reactName=a,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(a=s[w],this[w]=a?a(v):v[w]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ia:em,this.isPropagationStopped=em,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),o}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=xt(Si),Eo=y({},Si,{view:0,detail:0}),yx=xt(Eo),pu,gu,wo,oa=y({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wo&&(wo&&s.type==="mousemove"?(pu=s.screenX-wo.screenX,gu=s.screenY-wo.screenY):gu=pu=0,wo=s),pu)},movementY:function(s){return"movementY"in s?s.movementY:gu}}),tm=xt(oa),vx=y({},oa,{dataTransfer:0}),Tx=xt(vx),Sx=y({},Eo,{relatedTarget:0}),yu=xt(Sx),_x=y({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Cx=xt(_x),xx=y({},Si,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ex=xt(xx),wx=y({},Si,{data:0}),nm=xt(wx),bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rx(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Mx[s])?!!o[s]:!1}function vu(){return Rx}var Dx=y({},Eo,{key:function(s){if(s.key){var o=bx[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=na(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ax[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(s){return s.type==="keypress"?na(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?na(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Nx=xt(Dx),Px=y({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=xt(Px),Ix=y({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),kx=xt(Ix),Ux=y({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lx=xt(Ux),Vx=y({},oa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ox=xt(Vx),Bx=y({},Si,{newState:0,oldState:0}),qx=xt(Bx),Gx=[9,13,27,32],Tu=yn&&"CompositionEvent"in window,bo=null;yn&&"documentMode"in document&&(bo=document.documentMode);var Hx=yn&&"TextEvent"in window&&!bo,sm=yn&&(!Tu||bo&&8<bo&&11>=bo),om=" ",rm=!1;function am(s,o){switch(s){case"keyup":return Gx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var as=!1;function zx(s,o){switch(s){case"compositionend":return lm(o);case"keypress":return o.which!==32?null:(rm=!0,om);case"textInput":return s=o.data,s===om&&rm?null:s;default:return null}}function Fx(s,o){if(as)return s==="compositionend"||!Tu&&am(s,o)?(s=Zh(),ta=mu=Gn=null,as=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sm&&o.locale!=="ko"?null:o.data;default:return null}}var $x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!$x[s.type]:o==="textarea"}function cm(s,o,a,d){os?rs?rs.push(d):rs=[d]:os=d,o=$a(o,"onChange"),0<o.length&&(a=new sa("onChange","change",null,a,d),s.push({event:a,listeners:o}))}var Ao=null,Mo=null;function Jx(s){Fg(s,0)}function ra(s){var o=_o(s);if($h(o))return s}function fm(s,o){if(s==="change")return o}var dm=!1;if(yn){var Su;if(yn){var _u="oninput"in document;if(!_u){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),_u=typeof hm.oninput=="function"}Su=_u}else Su=!1;dm=Su&&(!document.documentMode||9<document.documentMode)}function mm(){Ao&&(Ao.detachEvent("onpropertychange",pm),Mo=Ao=null)}function pm(s){if(s.propertyName==="value"&&ra(Mo)){var o=[];cm(o,Mo,s,fu(s)),Qh(Jx,o)}}function Yx(s,o,a){s==="focusin"?(mm(),Ao=o,Mo=a,Ao.attachEvent("onpropertychange",pm)):s==="focusout"&&mm()}function Kx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ra(Mo)}function Xx(s,o){if(s==="click")return ra(o)}function jx(s,o){if(s==="input"||s==="change")return ra(o)}function Wx(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Nt=typeof Object.is=="function"?Object.is:Wx;function Ro(s,o){if(Nt(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var a=Object.keys(s),d=Object.keys(o);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var g=a[d];if(!jl.call(o,g)||!Nt(s[g],o[g]))return!1}return!0}function gm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ym(s,o){var a=gm(s);s=0;for(var d;a;){if(a.nodeType===3){if(d=s+a.textContent.length,s<=o&&d>=o)return{node:a,offset:o-s};s=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gm(a)}}function vm(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?vm(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Tm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Zr(s.document);o instanceof s.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)s=o.contentWindow;else break;o=Zr(s.document)}return o}function Cu(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Qx=yn&&"documentMode"in document&&11>=document.documentMode,ls=null,xu=null,Do=null,Eu=!1;function Sm(s,o,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Eu||ls==null||ls!==Zr(d)||(d=ls,"selectionStart"in d&&Cu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Do&&Ro(Do,d)||(Do=d,d=$a(xu,"onSelect"),0<d.length&&(o=new sa("onSelect","select",null,o,a),s.push({event:o,listeners:d}),o.target=ls)))}function _i(s,o){var a={};return a[s.toLowerCase()]=o.toLowerCase(),a["Webkit"+s]="webkit"+o,a["Moz"+s]="moz"+o,a}var us={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},wu={},_m={};yn&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Ci(s){if(wu[s])return wu[s];if(!us[s])return s;var o=us[s],a;for(a in o)if(o.hasOwnProperty(a)&&a in _m)return wu[s]=o[a];return s}var Cm=Ci("animationend"),xm=Ci("animationiteration"),Em=Ci("animationstart"),Zx=Ci("transitionrun"),eE=Ci("transitionstart"),tE=Ci("transitioncancel"),wm=Ci("transitionend"),bm=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function Wt(s,o){bm.set(s,o),Ti(o,[s])}var Am=new WeakMap;function Gt(s,o){if(typeof s=="object"&&s!==null){var a=Am.get(s);return a!==void 0?a:(o={value:s,source:o,stack:zh(o)},Am.set(s,o),o)}return{value:s,source:o,stack:zh(o)}}var Ht=[],cs=0,Au=0;function aa(){for(var s=cs,o=Au=cs=0;o<s;){var a=Ht[o];Ht[o++]=null;var d=Ht[o];Ht[o++]=null;var g=Ht[o];Ht[o++]=null;var v=Ht[o];if(Ht[o++]=null,d!==null&&g!==null){var _=d.pending;_===null?g.next=g:(g.next=_.next,_.next=g),d.pending=g}v!==0&&Mm(a,g,v)}}function la(s,o,a,d){Ht[cs++]=s,Ht[cs++]=o,Ht[cs++]=a,Ht[cs++]=d,Au|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Mu(s,o,a,d){return la(s,o,a,d),ua(s)}function fs(s,o){return la(s,null,null,o),ua(s)}function Mm(s,o,a){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a);for(var g=!1,v=s.return;v!==null;)v.childLanes|=a,d=v.alternate,d!==null&&(d.childLanes|=a),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&o!==null&&(g=31-Dt(a),s=v.hiddenUpdates,d=s[g],d===null?s[g]=[o]:d.push(o),o.lane=a|536870912),v):null}function ua(s){if(50<tr)throw tr=0,kc=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ds={};function nE(s,o,a,d){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(s,o,a,d){return new nE(s,o,a,d)}function Ru(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vn(s,o){var a=s.alternate;return a===null?(a=Pt(s.tag,o,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=o,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,o=s.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function Rm(s,o){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,o=a.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function ca(s,o,a,d,g,v){var _=0;if(d=s,typeof s=="function")Ru(s)&&(_=1);else if(typeof s=="string")_=sw(s,a,ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case J:return s=Pt(31,a,o,g),s.elementType=J,s.lanes=v,s;case b:return xi(a.children,g,v,o);case E:_=8,g|=24;break;case A:return s=Pt(12,a,o,g|2),s.elementType=A,s.lanes=v,s;case N:return s=Pt(13,a,o,g),s.elementType=N,s.lanes=v,s;case O:return s=Pt(19,a,o,g),s.elementType=O,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:case M:_=10;break e;case I:_=9;break e;case L:_=11;break e;case z:_=14;break e;case X:_=16,d=null;break e}_=29,a=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=Pt(_,a,o,g),o.elementType=s,o.type=d,o.lanes=v,o}function xi(s,o,a,d){return s=Pt(7,s,d,o),s.lanes=a,s}function Du(s,o,a){return s=Pt(6,s,null,o),s.lanes=a,s}function Nu(s,o,a){return o=Pt(4,s.children!==null?s.children:[],s.key,o),o.lanes=a,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var hs=[],ms=0,fa=null,da=0,zt=[],Ft=0,Ei=null,Tn=1,Sn="";function wi(s,o){hs[ms++]=da,hs[ms++]=fa,fa=s,da=o}function Dm(s,o,a){zt[Ft++]=Tn,zt[Ft++]=Sn,zt[Ft++]=Ei,Ei=s;var d=Tn;s=Sn;var g=32-Dt(d)-1;d&=~(1<<g),a+=1;var v=32-Dt(o)+g;if(30<v){var _=g-g%5;v=(d&(1<<_)-1).toString(32),d>>=_,g-=_,Tn=1<<32-Dt(o)+g|a<<g|d,Sn=v+s}else Tn=1<<v|a<<g|d,Sn=s}function Pu(s){s.return!==null&&(wi(s,1),Dm(s,1,0))}function Iu(s){for(;s===fa;)fa=hs[--ms],hs[ms]=null,da=hs[--ms],hs[ms]=null;for(;s===Ei;)Ei=zt[--Ft],zt[Ft]=null,Sn=zt[--Ft],zt[Ft]=null,Tn=zt[--Ft],zt[Ft]=null}var Tt=null,$e=null,Ae=!1,bi=null,on=!1,ku=Error(i(519));function Ai(s){var o=Error(i(418,""));throw Io(Gt(o,s)),ku}function Nm(s){var o=s.stateNode,a=s.type,d=s.memoizedProps;switch(o[dt]=s,o[Ct]=d,a){case"dialog":_e("cancel",o),_e("close",o);break;case"iframe":case"object":case"embed":_e("load",o);break;case"video":case"audio":for(a=0;a<ir.length;a++)_e(ir[a],o);break;case"source":_e("error",o);break;case"img":case"image":case"link":_e("error",o),_e("load",o);break;case"details":_e("toggle",o);break;case"input":_e("invalid",o),Jh(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Qr(o);break;case"select":_e("invalid",o);break;case"textarea":_e("invalid",o),Kh(o,d.value,d.defaultValue,d.children),Qr(o)}a=d.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||d.suppressHydrationWarning===!0||Kg(o.textContent,a)?(d.popover!=null&&(_e("beforetoggle",o),_e("toggle",o)),d.onScroll!=null&&_e("scroll",o),d.onScrollEnd!=null&&_e("scrollend",o),d.onClick!=null&&(o.onclick=Ja),o=!0):o=!1,o||Ai(s)}function Pm(s){for(Tt=s.return;Tt;)switch(Tt.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Tt=Tt.return}}function No(s){if(s!==Tt)return!1;if(!Ae)return Pm(s),Ae=!0,!1;var o=s.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||jc(s.type,s.memoizedProps)),a=!a),a&&$e&&Ai(s),Pm(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(a=s.data,a==="/$"){if(o===0){$e=Zt(s.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++;s=s.nextSibling}$e=null}}else o===27?(o=$e,ii(s.type)?(s=ef,ef=null,$e=s):$e=o):$e=Tt?Zt(s.stateNode.nextSibling):null;return!0}function Po(){$e=Tt=null,Ae=!1}function Im(){var s=bi;return s!==null&&(bt===null?bt=s:bt.push.apply(bt,s),bi=null),s}function Io(s){bi===null?bi=[s]:bi.push(s)}var Uu=W(null),Mi=null,_n=null;function Hn(s,o,a){ee(Uu,o._currentValue),o._currentValue=a}function Cn(s){s._currentValue=Uu.current,te(Uu)}function Lu(s,o,a){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===a)break;s=s.return}}function Vu(s,o,a,d){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var _=g.child;v=v.firstContext;e:for(;v!==null;){var w=v;v=g;for(var R=0;R<o.length;R++)if(w.context===o[R]){v.lanes|=a,w=v.alternate,w!==null&&(w.lanes|=a),Lu(v.return,a,s),d||(_=null);break e}v=w.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(i(341));_.lanes|=a,v=_.alternate,v!==null&&(v.lanes|=a),Lu(_,a,s),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function ko(s,o,a,d){s=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var w=g.type;Nt(g.pendingProps.value,_.value)||(s!==null?s.push(w):s=[w])}}else if(g===Mt.current){if(_=g.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(ur):s=[ur])}g=g.return}s!==null&&Vu(o,s,a,d),o.flags|=262144}function ha(s){for(s=s.firstContext;s!==null;){if(!Nt(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ri(s){Mi=s,_n=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ht(s){return km(Mi,s)}function ma(s,o){return Mi===null&&Ri(s),km(s,o)}function km(s,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},_n===null){if(s===null)throw Error(i(308));_n=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else _n=_n.next=o;return a}var iE=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(a,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(a){return a()})}},sE=t.unstable_scheduleCallback,oE=t.unstable_NormalPriority,Ze={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ou(){return{controller:new iE,data:new Map,refCount:0}}function Uo(s){s.refCount--,s.refCount===0&&sE(oE,function(){s.controller.abort()})}var Lo=null,Bu=0,ps=0,gs=null;function rE(s,o){if(Lo===null){var a=Lo=[];Bu=0,ps=Gc(),gs={status:"pending",value:void 0,then:function(d){a.push(d)}}}return Bu++,o.then(Um,Um),o}function Um(){if(--Bu===0&&Lo!==null){gs!==null&&(gs.status="fulfilled");var s=Lo;Lo=null,ps=0,gs=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function aE(s,o){var a=[],d={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var g=0;g<a.length;g++)(0,a[g])(o)},function(g){for(d.status="rejected",d.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),d}var Lm=F.S;F.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&rE(s,o),Lm!==null&&Lm(s,o)};var Di=W(null);function qu(){var s=Di.current;return s!==null?s:Oe.pooledCache}function pa(s,o){o===null?ee(Di,Di.current):ee(Di,o.pool)}function Vm(){var s=qu();return s===null?null:{parent:Ze._currentValue,pool:s}}var Vo=Error(i(460)),Om=Error(i(474)),ga=Error(i(542)),Gu={then:function(){}};function Bm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ya(){}function qm(s,o,a){switch(a=s[a],a===void 0?s.push(o):a!==o&&(o.then(ya,ya),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Hm(s),s;default:if(typeof o.status=="string")o.then(ya,ya);else{if(s=Oe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=d}},function(d){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Hm(s),s}throw Oo=o,Vo}}var Oo=null;function Gm(){if(Oo===null)throw Error(i(459));var s=Oo;return Oo=null,s}function Hm(s){if(s===Vo||s===ga)throw Error(i(483))}var zn=!1;function Hu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Fn(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function $n(s,o,a){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Re&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,o=ua(s),Mm(s,null,a),o}return la(s,d,o,a),ua(s)}function Bo(s,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,a|=d,o.lanes=a,Uh(s,a)}}function Fu(s,o){var a=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=_:v=v.next=_,a=a.next}while(a!==null);v===null?g=v=o:v=v.next=o}else g=v=o;a={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=o:s.next=o,a.lastBaseUpdate=o}var $u=!1;function qo(){if($u){var s=gs;if(s!==null)throw s}}function Go(s,o,a,d){$u=!1;var g=s.updateQueue;zn=!1;var v=g.firstBaseUpdate,_=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var R=w,q=R.next;R.next=null,_===null?v=q:_.next=q,_=R;var $=s.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==_&&(w===null?$.firstBaseUpdate=q:w.next=q,$.lastBaseUpdate=R))}if(v!==null){var K=g.baseState;_=0,$=q=R=null,w=v;do{var G=w.lane&-536870913,H=G!==w.lane;if(H?(we&G)===G:(d&G)===G){G!==0&&G===ps&&($u=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=s,ce=w;G=o;var Ue=a;switch(ce.tag){case 1:if(he=ce.payload,typeof he=="function"){K=he.call(Ue,K,G);break e}K=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ce.payload,G=typeof he=="function"?he.call(Ue,K,G):he,G==null)break e;K=y({},K,G);break e;case 2:zn=!0}}G=w.callback,G!==null&&(s.flags|=64,H&&(s.flags|=8192),H=g.callbacks,H===null?g.callbacks=[G]:H.push(G))}else H={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(q=$=H,R=K):$=$.next=H,_|=G;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;H=w,w=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);$===null&&(R=K),g.baseState=R,g.firstBaseUpdate=q,g.lastBaseUpdate=$,v===null&&(g.shared.lanes=0),Zn|=_,s.lanes=_,s.memoizedState=K}}function zm(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Fm(s,o){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)zm(a[s],o)}var ys=W(null),va=W(0);function $m(s,o){s=Rn,ee(va,s),ee(ys,o),Rn=s|o.baseLanes}function Ju(){ee(va,Rn),ee(ys,ys.current)}function Yu(){Rn=va.current,te(ys),te(va)}var Jn=0,ye=null,Ie=null,We=null,Ta=!1,vs=!1,Ni=!1,Sa=0,Ho=0,Ts=null,lE=0;function Ke(){throw Error(i(321))}function Ku(s,o){if(o===null)return!1;for(var a=0;a<o.length&&a<s.length;a++)if(!Nt(s[a],o[a]))return!1;return!0}function Xu(s,o,a,d,g,v){return Jn=v,ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=s===null||s.memoizedState===null?Mp:Rp,Ni=!1,v=a(d,g),Ni=!1,vs&&(v=Ym(o,a,d,g)),Jm(s),v}function Jm(s){F.H=ba;var o=Ie!==null&&Ie.next!==null;if(Jn=0,We=Ie=ye=null,Ta=!1,Ho=0,Ts=null,o)throw Error(i(300));s===null||it||(s=s.dependencies,s!==null&&ha(s)&&(it=!0))}function Ym(s,o,a,d){ye=s;var g=0;do{if(vs&&(Ts=null),Ho=0,vs=!1,25<=g)throw Error(i(301));if(g+=1,We=Ie=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}F.H=pE,v=o(a,d)}while(vs);return v}function uE(){var s=F.H,o=s.useState()[0];return o=typeof o.then=="function"?zo(o):o,s=s.useState()[0],(Ie!==null?Ie.memoizedState:null)!==s&&(ye.flags|=1024),o}function ju(){var s=Sa!==0;return Sa=0,s}function Wu(s,o,a){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~a}function Qu(s){if(Ta){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ta=!1}Jn=0,We=Ie=ye=null,vs=!1,Ho=Sa=0,Ts=null}function Et(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?ye.memoizedState=We=s:We=We.next=s,We}function Qe(){if(Ie===null){var s=ye.alternate;s=s!==null?s.memoizedState:null}else s=Ie.next;var o=We===null?ye.memoizedState:We.next;if(o!==null)We=o,Ie=s;else{if(s===null)throw ye.alternate===null?Error(i(467)):Error(i(310));Ie=s,s={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},We===null?ye.memoizedState=We=s:We=We.next=s}return We}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(s){var o=Ho;return Ho+=1,Ts===null&&(Ts=[]),s=qm(Ts,s,o),o=ye,(We===null?o.memoizedState:We.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?Mp:Rp),s}function _a(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return zo(s);if(s.$$typeof===M)return ht(s)}throw Error(i(438,String(s)))}function ec(s){var o=null,a=ye.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var d=ye.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Zu(),ye.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(s),d=0;d<s;d++)a[d]=Q;return o.index++,a}function xn(s,o){return typeof o=="function"?o(s):o}function Ca(s){var o=Qe();return tc(o,Ie,s)}function tc(s,o,a){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var g=s.baseQueue,v=d.pending;if(v!==null){if(g!==null){var _=g.next;g.next=v.next,v.next=_}o.baseQueue=g=v,d.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{o=g.next;var w=_=null,R=null,q=o,$=!1;do{var K=q.lane&-536870913;if(K!==q.lane?(we&K)===K:(Jn&K)===K){var G=q.revertLane;if(G===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),K===ps&&($=!0);else if((Jn&G)===G){q=q.next,G===ps&&($=!0);continue}else K={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(w=R=K,_=v):R=R.next=K,ye.lanes|=G,Zn|=G;K=q.action,Ni&&a(v,K),v=q.hasEagerState?q.eagerState:a(v,K)}else G={lane:K,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(w=R=G,_=v):R=R.next=G,ye.lanes|=K,Zn|=K;q=q.next}while(q!==null&&q!==o);if(R===null?_=v:R.next=w,!Nt(v,s.memoizedState)&&(it=!0,$&&(a=gs,a!==null)))throw a;s.memoizedState=v,s.baseState=_,s.baseQueue=R,d.lastRenderedState=v}return g===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function nc(s){var o=Qe(),a=o.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=s;var d=a.dispatch,g=a.pending,v=o.memoizedState;if(g!==null){a.pending=null;var _=g=g.next;do v=s(v,_.action),_=_.next;while(_!==g);Nt(v,o.memoizedState)||(it=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),a.lastRenderedState=v}return[v,d]}function Km(s,o,a){var d=ye,g=Qe(),v=Ae;if(v){if(a===void 0)throw Error(i(407));a=a()}else a=o();var _=!Nt((Ie||g).memoizedState,a);_&&(g.memoizedState=a,it=!0),g=g.queue;var w=Wm.bind(null,d,g,s);if(Fo(2048,8,w,[s]),g.getSnapshot!==o||_||We!==null&&We.memoizedState.tag&1){if(d.flags|=2048,Ss(9,xa(),jm.bind(null,d,g,a,o),null),Oe===null)throw Error(i(349));v||(Jn&124)!==0||Xm(d,o,a)}return a}function Xm(s,o,a){s.flags|=16384,s={getSnapshot:o,value:a},o=ye.updateQueue,o===null?(o=Zu(),ye.updateQueue=o,o.stores=[s]):(a=o.stores,a===null?o.stores=[s]:a.push(s))}function jm(s,o,a,d){o.value=a,o.getSnapshot=d,Qm(o)&&Zm(s)}function Wm(s,o,a){return a(function(){Qm(o)&&Zm(s)})}function Qm(s){var o=s.getSnapshot;s=s.value;try{var a=o();return!Nt(s,a)}catch{return!0}}function Zm(s){var o=fs(s,2);o!==null&&Vt(o,s,2)}function ic(s){var o=Et();if(typeof s=="function"){var a=s;if(s=a(),Ni){Bn(!0);try{a()}finally{Bn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:s},o}function ep(s,o,a,d){return s.baseState=a,tc(s,Ie,typeof d=="function"?d:xn)}function cE(s,o,a,d,g){if(wa(s))throw Error(i(485));if(s=o.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};F.T!==null?a(!0):v.isTransition=!1,d(v),a=o.pending,a===null?(v.next=o.pending=v,tp(o,v)):(v.next=a.next,o.pending=a.next=v)}}function tp(s,o){var a=o.action,d=o.payload,g=s.state;if(o.isTransition){var v=F.T,_={};F.T=_;try{var w=a(g,d),R=F.S;R!==null&&R(_,w),np(s,o,w)}catch(q){sc(s,o,q)}finally{F.T=v}}else try{v=a(g,d),np(s,o,v)}catch(q){sc(s,o,q)}}function np(s,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(d){ip(s,o,d)},function(d){return sc(s,o,d)}):ip(s,o,a)}function ip(s,o,a){o.status="fulfilled",o.value=a,sp(o),s.state=a,o=s.pending,o!==null&&(a=o.next,a===o?s.pending=null:(a=a.next,o.next=a,tp(s,a)))}function sc(s,o,a){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=a,sp(o),o=o.next;while(o!==d)}s.action=null}function sp(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function op(s,o){return o}function rp(s,o){if(Ae){var a=Oe.formState;if(a!==null){e:{var d=ye;if(Ae){if($e){t:{for(var g=$e,v=on;g.nodeType!==8;){if(!v){g=null;break t}if(g=Zt(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){$e=Zt(g.nextSibling),d=g.data==="F!";break e}}Ai(d)}d=!1}d&&(o=a[0])}}return a=Et(),a.memoizedState=a.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:o},a.queue=d,a=wp.bind(null,ye,d),d.dispatch=a,d=ic(!1),v=uc.bind(null,ye,!1,d.queue),d=Et(),g={state:o,dispatch:null,action:s,pending:null},d.queue=g,a=cE.bind(null,ye,g,v,a),g.dispatch=a,d.memoizedState=s,[o,a,!1]}function ap(s){var o=Qe();return lp(o,Ie,s)}function lp(s,o,a){if(o=tc(s,o,op)[0],s=Ca(xn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=zo(o)}catch(_){throw _===Vo?ga:_}else d=o;o=Qe();var g=o.queue,v=g.dispatch;return a!==o.memoizedState&&(ye.flags|=2048,Ss(9,xa(),fE.bind(null,g,a),null)),[d,v,s]}function fE(s,o){s.action=o}function up(s){var o=Qe(),a=Ie;if(a!==null)return lp(o,a,s);Qe(),o=o.memoizedState,a=Qe();var d=a.queue.dispatch;return a.memoizedState=s,[o,d,!1]}function Ss(s,o,a,d){return s={tag:s,create:a,deps:d,inst:o,next:null},o=ye.updateQueue,o===null&&(o=Zu(),ye.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=s.next=s:(d=a.next,a.next=s,s.next=d,o.lastEffect=s),s}function xa(){return{destroy:void 0,resource:void 0}}function cp(){return Qe().memoizedState}function Ea(s,o,a,d){var g=Et();d=d===void 0?null:d,ye.flags|=s,g.memoizedState=Ss(1|o,xa(),a,d)}function Fo(s,o,a,d){var g=Qe();d=d===void 0?null:d;var v=g.memoizedState.inst;Ie!==null&&d!==null&&Ku(d,Ie.memoizedState.deps)?g.memoizedState=Ss(o,v,a,d):(ye.flags|=s,g.memoizedState=Ss(1|o,v,a,d))}function fp(s,o){Ea(8390656,8,s,o)}function dp(s,o){Fo(2048,8,s,o)}function hp(s,o){return Fo(4,2,s,o)}function mp(s,o){return Fo(4,4,s,o)}function pp(s,o){if(typeof o=="function"){s=s();var a=o(s);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function gp(s,o,a){a=a!=null?a.concat([s]):null,Fo(4,4,pp.bind(null,o,s),a)}function oc(){}function yp(s,o){var a=Qe();o=o===void 0?null:o;var d=a.memoizedState;return o!==null&&Ku(o,d[1])?d[0]:(a.memoizedState=[s,o],s)}function vp(s,o){var a=Qe();o=o===void 0?null:o;var d=a.memoizedState;if(o!==null&&Ku(o,d[1]))return d[0];if(d=s(),Ni){Bn(!0);try{s()}finally{Bn(!1)}}return a.memoizedState=[d,o],d}function rc(s,o,a){return a===void 0||(Jn&1073741824)!==0?s.memoizedState=o:(s.memoizedState=a,s=_g(),ye.lanes|=s,Zn|=s,a)}function Tp(s,o,a,d){return Nt(a,o)?a:ys.current!==null?(s=rc(s,a,d),Nt(s,o)||(it=!0),s):(Jn&42)===0?(it=!0,s.memoizedState=a):(s=_g(),ye.lanes|=s,Zn|=s,o)}function Sp(s,o,a,d,g){var v=j.p;j.p=v!==0&&8>v?v:8;var _=F.T,w={};F.T=w,uc(s,!1,o,a);try{var R=g(),q=F.S;if(q!==null&&q(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var $=aE(R,d);$o(s,o,$,Lt(s))}else $o(s,o,d,Lt(s))}catch(K){$o(s,o,{then:function(){},status:"rejected",reason:K},Lt())}finally{j.p=v,F.T=_}}function dE(){}function ac(s,o,a,d){if(s.tag!==5)throw Error(i(476));var g=_p(s).queue;Sp(s,g,o,ie,a===null?dE:function(){return Cp(s),a(d)})}function _p(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:ie},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:a},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Cp(s){var o=_p(s).next.queue;$o(s,o,{},Lt())}function lc(){return ht(ur)}function xp(){return Qe().memoizedState}function Ep(){return Qe().memoizedState}function hE(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var a=Lt();s=Fn(a);var d=$n(o,s,a);d!==null&&(Vt(d,o,a),Bo(d,o,a)),o={cache:Ou()},s.payload=o;return}o=o.return}}function mE(s,o,a){var d=Lt();a={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wa(s)?bp(o,a):(a=Mu(s,o,a,d),a!==null&&(Vt(a,s,d),Ap(a,o,d)))}function wp(s,o,a){var d=Lt();$o(s,o,a,d)}function $o(s,o,a,d){var g={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wa(s))bp(o,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var _=o.lastRenderedState,w=v(_,a);if(g.hasEagerState=!0,g.eagerState=w,Nt(w,_))return la(s,o,g,0),Oe===null&&aa(),!1}catch{}finally{}if(a=Mu(s,o,g,d),a!==null)return Vt(a,s,d),Ap(a,o,d),!0}return!1}function uc(s,o,a,d){if(d={lane:2,revertLane:Gc(),action:d,hasEagerState:!1,eagerState:null,next:null},wa(s)){if(o)throw Error(i(479))}else o=Mu(s,a,d,2),o!==null&&Vt(o,s,2)}function wa(s){var o=s.alternate;return s===ye||o!==null&&o===ye}function bp(s,o){vs=Ta=!0;var a=s.pending;a===null?o.next=o:(o.next=a.next,a.next=o),s.pending=o}function Ap(s,o,a){if((a&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,a|=d,o.lanes=a,Uh(s,a)}}var ba={readContext:ht,use:_a,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},Mp={readContext:ht,use:_a,useCallback:function(s,o){return Et().memoizedState=[s,o===void 0?null:o],s},useContext:ht,useEffect:fp,useImperativeHandle:function(s,o,a){a=a!=null?a.concat([s]):null,Ea(4194308,4,pp.bind(null,o,s),a)},useLayoutEffect:function(s,o){return Ea(4194308,4,s,o)},useInsertionEffect:function(s,o){Ea(4,2,s,o)},useMemo:function(s,o){var a=Et();o=o===void 0?null:o;var d=s();if(Ni){Bn(!0);try{s()}finally{Bn(!1)}}return a.memoizedState=[d,o],d},useReducer:function(s,o,a){var d=Et();if(a!==void 0){var g=a(o);if(Ni){Bn(!0);try{a(o)}finally{Bn(!1)}}}else g=o;return d.memoizedState=d.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},d.queue=s,s=s.dispatch=mE.bind(null,ye,s),[d.memoizedState,s]},useRef:function(s){var o=Et();return s={current:s},o.memoizedState=s},useState:function(s){s=ic(s);var o=s.queue,a=wp.bind(null,ye,o);return o.dispatch=a,[s.memoizedState,a]},useDebugValue:oc,useDeferredValue:function(s,o){var a=Et();return rc(a,s,o)},useTransition:function(){var s=ic(!1);return s=Sp.bind(null,ye,s.queue,!0,!1),Et().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,a){var d=ye,g=Et();if(Ae){if(a===void 0)throw Error(i(407));a=a()}else{if(a=o(),Oe===null)throw Error(i(349));(we&124)!==0||Xm(d,o,a)}g.memoizedState=a;var v={value:a,getSnapshot:o};return g.queue=v,fp(Wm.bind(null,d,v,s),[s]),d.flags|=2048,Ss(9,xa(),jm.bind(null,d,v,a,o),null),a},useId:function(){var s=Et(),o=Oe.identifierPrefix;if(Ae){var a=Sn,d=Tn;a=(d&~(1<<32-Dt(d)-1)).toString(32)+a,o=""+o+"R"+a,a=Sa++,0<a&&(o+="H"+a.toString(32)),o+=""}else a=lE++,o=""+o+"r"+a.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:lc,useFormState:rp,useActionState:rp,useOptimistic:function(s){var o=Et();o.memoizedState=o.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=uc.bind(null,ye,!0,a),a.dispatch=o,[s,o]},useMemoCache:ec,useCacheRefresh:function(){return Et().memoizedState=hE.bind(null,ye)}},Rp={readContext:ht,use:_a,useCallback:yp,useContext:ht,useEffect:dp,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:mp,useMemo:vp,useReducer:Ca,useRef:cp,useState:function(){return Ca(xn)},useDebugValue:oc,useDeferredValue:function(s,o){var a=Qe();return Tp(a,Ie.memoizedState,s,o)},useTransition:function(){var s=Ca(xn)[0],o=Qe().memoizedState;return[typeof s=="boolean"?s:zo(s),o]},useSyncExternalStore:Km,useId:xp,useHostTransitionStatus:lc,useFormState:ap,useActionState:ap,useOptimistic:function(s,o){var a=Qe();return ep(a,Ie,s,o)},useMemoCache:ec,useCacheRefresh:Ep},pE={readContext:ht,use:_a,useCallback:yp,useContext:ht,useEffect:dp,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:mp,useMemo:vp,useReducer:nc,useRef:cp,useState:function(){return nc(xn)},useDebugValue:oc,useDeferredValue:function(s,o){var a=Qe();return Ie===null?rc(a,s,o):Tp(a,Ie.memoizedState,s,o)},useTransition:function(){var s=nc(xn)[0],o=Qe().memoizedState;return[typeof s=="boolean"?s:zo(s),o]},useSyncExternalStore:Km,useId:xp,useHostTransitionStatus:lc,useFormState:up,useActionState:up,useOptimistic:function(s,o){var a=Qe();return Ie!==null?ep(a,Ie,s,o):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:ec,useCacheRefresh:Ep},_s=null,Jo=0;function Aa(s){var o=Jo;return Jo+=1,_s===null&&(_s=[]),qm(_s,s,o)}function Yo(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Ma(s,o){throw o.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Dp(s){var o=s._init;return o(s._payload)}function Np(s){function o(U,k){if(s){var B=U.deletions;B===null?(U.deletions=[k],U.flags|=16):B.push(k)}}function a(U,k){if(!s)return null;for(;k!==null;)o(U,k),k=k.sibling;return null}function d(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function g(U,k){return U=vn(U,k),U.index=0,U.sibling=null,U}function v(U,k,B){return U.index=B,s?(B=U.alternate,B!==null?(B=B.index,B<k?(U.flags|=67108866,k):B):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function _(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function w(U,k,B,Y){return k===null||k.tag!==6?(k=Du(B,U.mode,Y),k.return=U,k):(k=g(k,B),k.return=U,k)}function R(U,k,B,Y){var se=B.type;return se===b?$(U,k,B.props.children,Y,B.key):k!==null&&(k.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===X&&Dp(se)===k.type)?(k=g(k,B.props),Yo(k,B),k.return=U,k):(k=ca(B.type,B.key,B.props,null,U.mode,Y),Yo(k,B),k.return=U,k)}function q(U,k,B,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Nu(B,U.mode,Y),k.return=U,k):(k=g(k,B.children||[]),k.return=U,k)}function $(U,k,B,Y,se){return k===null||k.tag!==7?(k=xi(B,U.mode,Y,se),k.return=U,k):(k=g(k,B),k.return=U,k)}function K(U,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Du(""+k,U.mode,B),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return B=ca(k.type,k.key,k.props,null,U.mode,B),Yo(B,k),B.return=U,B;case C:return k=Nu(k,U.mode,B),k.return=U,k;case X:var Y=k._init;return k=Y(k._payload),K(U,k,B)}if(ve(k)||ne(k))return k=xi(k,U.mode,B,null),k.return=U,k;if(typeof k.then=="function")return K(U,Aa(k),B);if(k.$$typeof===M)return K(U,ma(U,k),B);Ma(U,k)}return null}function G(U,k,B,Y){var se=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return se!==null?null:w(U,k,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===se?R(U,k,B,Y):null;case C:return B.key===se?q(U,k,B,Y):null;case X:return se=B._init,B=se(B._payload),G(U,k,B,Y)}if(ve(B)||ne(B))return se!==null?null:$(U,k,B,Y,null);if(typeof B.then=="function")return G(U,k,Aa(B),Y);if(B.$$typeof===M)return G(U,k,ma(U,B),Y);Ma(U,B)}return null}function H(U,k,B,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(B)||null,w(k,U,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return U=U.get(Y.key===null?B:Y.key)||null,R(k,U,Y,se);case C:return U=U.get(Y.key===null?B:Y.key)||null,q(k,U,Y,se);case X:var Te=Y._init;return Y=Te(Y._payload),H(U,k,B,Y,se)}if(ve(Y)||ne(Y))return U=U.get(B)||null,$(k,U,Y,se,null);if(typeof Y.then=="function")return H(U,k,B,Aa(Y),se);if(Y.$$typeof===M)return H(U,k,B,ma(k,Y),se);Ma(k,Y)}return null}function he(U,k,B,Y){for(var se=null,Te=null,le=k,fe=k=0,ot=null;le!==null&&fe<B.length;fe++){le.index>fe?(ot=le,le=null):ot=le.sibling;var be=G(U,le,B[fe],Y);if(be===null){le===null&&(le=ot);break}s&&le&&be.alternate===null&&o(U,le),k=v(be,k,fe),Te===null?se=be:Te.sibling=be,Te=be,le=ot}if(fe===B.length)return a(U,le),Ae&&wi(U,fe),se;if(le===null){for(;fe<B.length;fe++)le=K(U,B[fe],Y),le!==null&&(k=v(le,k,fe),Te===null?se=le:Te.sibling=le,Te=le);return Ae&&wi(U,fe),se}for(le=d(le);fe<B.length;fe++)ot=H(le,U,fe,B[fe],Y),ot!==null&&(s&&ot.alternate!==null&&le.delete(ot.key===null?fe:ot.key),k=v(ot,k,fe),Te===null?se=ot:Te.sibling=ot,Te=ot);return s&&le.forEach(function(li){return o(U,li)}),Ae&&wi(U,fe),se}function ce(U,k,B,Y){if(B==null)throw Error(i(151));for(var se=null,Te=null,le=k,fe=k=0,ot=null,be=B.next();le!==null&&!be.done;fe++,be=B.next()){le.index>fe?(ot=le,le=null):ot=le.sibling;var li=G(U,le,be.value,Y);if(li===null){le===null&&(le=ot);break}s&&le&&li.alternate===null&&o(U,le),k=v(li,k,fe),Te===null?se=li:Te.sibling=li,Te=li,le=ot}if(be.done)return a(U,le),Ae&&wi(U,fe),se;if(le===null){for(;!be.done;fe++,be=B.next())be=K(U,be.value,Y),be!==null&&(k=v(be,k,fe),Te===null?se=be:Te.sibling=be,Te=be);return Ae&&wi(U,fe),se}for(le=d(le);!be.done;fe++,be=B.next())be=H(le,U,fe,be.value,Y),be!==null&&(s&&be.alternate!==null&&le.delete(be.key===null?fe:be.key),k=v(be,k,fe),Te===null?se=be:Te.sibling=be,Te=be);return s&&le.forEach(function(gw){return o(U,gw)}),Ae&&wi(U,fe),se}function Ue(U,k,B,Y){if(typeof B=="object"&&B!==null&&B.type===b&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var se=B.key;k!==null;){if(k.key===se){if(se=B.type,se===b){if(k.tag===7){a(U,k.sibling),Y=g(k,B.props.children),Y.return=U,U=Y;break e}}else if(k.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===X&&Dp(se)===k.type){a(U,k.sibling),Y=g(k,B.props),Yo(Y,B),Y.return=U,U=Y;break e}a(U,k);break}else o(U,k);k=k.sibling}B.type===b?(Y=xi(B.props.children,U.mode,Y,B.key),Y.return=U,U=Y):(Y=ca(B.type,B.key,B.props,null,U.mode,Y),Yo(Y,B),Y.return=U,U=Y)}return _(U);case C:e:{for(se=B.key;k!==null;){if(k.key===se)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(U,k.sibling),Y=g(k,B.children||[]),Y.return=U,U=Y;break e}else{a(U,k);break}else o(U,k);k=k.sibling}Y=Nu(B,U.mode,Y),Y.return=U,U=Y}return _(U);case X:return se=B._init,B=se(B._payload),Ue(U,k,B,Y)}if(ve(B))return he(U,k,B,Y);if(ne(B)){if(se=ne(B),typeof se!="function")throw Error(i(150));return B=se.call(B),ce(U,k,B,Y)}if(typeof B.then=="function")return Ue(U,k,Aa(B),Y);if(B.$$typeof===M)return Ue(U,k,ma(U,B),Y);Ma(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(U,k.sibling),Y=g(k,B),Y.return=U,U=Y):(a(U,k),Y=Du(B,U.mode,Y),Y.return=U,U=Y),_(U)):a(U,k)}return function(U,k,B,Y){try{Jo=0;var se=Ue(U,k,B,Y);return _s=null,se}catch(le){if(le===Vo||le===ga)throw le;var Te=Pt(29,le,null,U.mode);return Te.lanes=Y,Te.return=U,Te}finally{}}}var Cs=Np(!0),Pp=Np(!1),$t=W(null),rn=null;function Yn(s){var o=s.alternate;ee(et,et.current&1),ee($t,s),rn===null&&(o===null||ys.current!==null||o.memoizedState!==null)&&(rn=s)}function Ip(s){if(s.tag===22){if(ee(et,et.current),ee($t,s),rn===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(rn=s)}}else Kn()}function Kn(){ee(et,et.current),ee($t,$t.current)}function En(s){te($t),rn===s&&(rn=null),te(et)}var et=W(0);function Ra(s){for(var o=s;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zc(a)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function cc(s,o,a,d){o=s.memoizedState,a=a(d,o),a=a==null?o:y({},o,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var fc={enqueueSetState:function(s,o,a){s=s._reactInternals;var d=Lt(),g=Fn(d);g.payload=o,a!=null&&(g.callback=a),o=$n(s,g,d),o!==null&&(Vt(o,s,d),Bo(o,s,d))},enqueueReplaceState:function(s,o,a){s=s._reactInternals;var d=Lt(),g=Fn(d);g.tag=1,g.payload=o,a!=null&&(g.callback=a),o=$n(s,g,d),o!==null&&(Vt(o,s,d),Bo(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var a=Lt(),d=Fn(a);d.tag=2,o!=null&&(d.callback=o),o=$n(s,d,a),o!==null&&(Vt(o,s,a),Bo(o,s,a))}};function kp(s,o,a,d,g,v,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,_):o.prototype&&o.prototype.isPureReactComponent?!Ro(a,d)||!Ro(g,v):!0}function Up(s,o,a,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,d),o.state!==s&&fc.enqueueReplaceState(o,o.state,null)}function Pi(s,o){var a=o;if("ref"in o){a={};for(var d in o)d!=="ref"&&(a[d]=o[d])}if(s=s.defaultProps){a===o&&(a=y({},a));for(var g in s)a[g]===void 0&&(a[g]=s[g])}return a}var Da=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Lp(s){Da(s)}function Vp(s){console.error(s)}function Op(s){Da(s)}function Na(s,o){try{var a=s.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Bp(s,o,a){try{var d=s.onCaughtError;d(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function dc(s,o,a){return a=Fn(a),a.tag=3,a.payload={element:null},a.callback=function(){Na(s,o)},a}function qp(s){return s=Fn(s),s.tag=3,s}function Gp(s,o,a,d){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;s.payload=function(){return g(v)},s.callback=function(){Bp(o,a,d)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Bp(o,a,d),typeof g!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var w=d.stack;this.componentDidCatch(d.value,{componentStack:w!==null?w:""})})}function gE(s,o,a,d,g){if(a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=a.alternate,o!==null&&ko(o,a,g,!0),a=$t.current,a!==null){switch(a.tag){case 13:return rn===null?Lc():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=g,d===Gu?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([d]):o.add(d),Oc(s,d,g)),!1;case 22:return a.flags|=65536,d===Gu?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([d]):a.add(d)),Oc(s,d,g)),!1}throw Error(i(435,a.tag))}return Oc(s,d,g),Lc(),!1}if(Ae)return o=$t.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,d!==ku&&(s=Error(i(422),{cause:d}),Io(Gt(s,a)))):(d!==ku&&(o=Error(i(423),{cause:d}),Io(Gt(o,a))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,d=Gt(d,a),g=dc(s.stateNode,d,g),Fu(s,g),Je!==4&&(Je=2)),!1;var v=Error(i(520),{cause:d});if(v=Gt(v,a),er===null?er=[v]:er.push(v),Je!==4&&(Je=2),o===null)return!0;d=Gt(d,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,s=g&-g,a.lanes|=s,s=dc(a.stateNode,d,s),Fu(a,s),!1;case 1:if(o=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ei===null||!ei.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=qp(g),Gp(g,s,a,d),Fu(a,g),!1}a=a.return}while(a!==null);return!1}var Hp=Error(i(461)),it=!1;function ut(s,o,a,d){o.child=s===null?Pp(o,null,a,d):Cs(o,s.child,a,d)}function zp(s,o,a,d,g){a=a.render;var v=o.ref;if("ref"in d){var _={};for(var w in d)w!=="ref"&&(_[w]=d[w])}else _=d;return Ri(o),d=Xu(s,o,a,_,v,g),w=ju(),s!==null&&!it?(Wu(s,o,g),wn(s,o,g)):(Ae&&w&&Pu(o),o.flags|=1,ut(s,o,d,g),o.child)}function Fp(s,o,a,d,g){if(s===null){var v=a.type;return typeof v=="function"&&!Ru(v)&&v.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=v,$p(s,o,v,d,g)):(s=ca(a.type,null,d,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!Sc(s,g)){var _=v.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(_,d)&&s.ref===o.ref)return wn(s,o,g)}return o.flags|=1,s=vn(v,d),s.ref=o.ref,s.return=o,o.child=s}function $p(s,o,a,d,g){if(s!==null){var v=s.memoizedProps;if(Ro(v,d)&&s.ref===o.ref)if(it=!1,o.pendingProps=d=v,Sc(s,g))(s.flags&131072)!==0&&(it=!0);else return o.lanes=s.lanes,wn(s,o,g)}return hc(s,o,a,d,g)}function Jp(s,o,a){var d=o.pendingProps,g=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|a:a,s!==null){for(g=o.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return Yp(s,o,d,a)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&pa(o,v!==null?v.cachePool:null),v!==null?$m(o,v):Ju(),Ip(o);else return o.lanes=o.childLanes=536870912,Yp(s,o,v!==null?v.baseLanes|a:a,a)}else v!==null?(pa(o,v.cachePool),$m(o,v),Kn(),o.memoizedState=null):(s!==null&&pa(o,null),Ju(),Kn());return ut(s,o,g,a),o.child}function Yp(s,o,a,d){var g=qu();return g=g===null?null:{parent:Ze._currentValue,pool:g},o.memoizedState={baseLanes:a,cachePool:g},s!==null&&pa(o,null),Ju(),Ip(o),s!==null&&ko(s,o,d,!0),null}function Pa(s,o){var a=o.ref;if(a===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(s===null||s.ref!==a)&&(o.flags|=4194816)}}function hc(s,o,a,d,g){return Ri(o),a=Xu(s,o,a,d,void 0,g),d=ju(),s!==null&&!it?(Wu(s,o,g),wn(s,o,g)):(Ae&&d&&Pu(o),o.flags|=1,ut(s,o,a,g),o.child)}function Kp(s,o,a,d,g,v){return Ri(o),o.updateQueue=null,a=Ym(o,d,a,g),Jm(s),d=ju(),s!==null&&!it?(Wu(s,o,v),wn(s,o,v)):(Ae&&d&&Pu(o),o.flags|=1,ut(s,o,a,v),o.child)}function Xp(s,o,a,d,g){if(Ri(o),o.stateNode===null){var v=ds,_=a.contextType;typeof _=="object"&&_!==null&&(v=ht(_)),v=new a(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=fc,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},Hu(o),_=a.contextType,v.context=typeof _=="object"&&_!==null?ht(_):ds,v.state=o.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cc(o,a,_,d),v.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&fc.enqueueReplaceState(v,v.state,null),Go(o,d,v,g),qo(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){v=o.stateNode;var w=o.memoizedProps,R=Pi(a,w);v.props=R;var q=v.context,$=a.contextType;_=ds,typeof $=="object"&&$!==null&&(_=ht($));var K=a.getDerivedStateFromProps;$=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function",w=o.pendingProps!==w,$||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w||q!==_)&&Up(o,v,d,_),zn=!1;var G=o.memoizedState;v.state=G,Go(o,d,v,g),qo(),q=o.memoizedState,w||G!==q||zn?(typeof K=="function"&&(cc(o,a,K,d),q=o.memoizedState),(R=zn||kp(o,a,R,d,G,q,_))?($||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=q),v.props=d,v.state=q,v.context=_,d=R):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,zu(s,o),_=o.memoizedProps,$=Pi(a,_),v.props=$,K=o.pendingProps,G=v.context,q=a.contextType,R=ds,typeof q=="object"&&q!==null&&(R=ht(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==K||G!==R)&&Up(o,v,d,R),zn=!1,G=o.memoizedState,v.state=G,Go(o,d,v,g),qo();var H=o.memoizedState;_!==K||G!==H||zn||s!==null&&s.dependencies!==null&&ha(s.dependencies)?(typeof w=="function"&&(cc(o,a,w,d),H=o.memoizedState),($=zn||kp(o,a,$,d,G,H,R)||s!==null&&s.dependencies!==null&&ha(s.dependencies))?(q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,H,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,H,R)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===s.memoizedProps&&G===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&G===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=H),v.props=d,v.state=H,v.context=R,d=$):(typeof v.componentDidUpdate!="function"||_===s.memoizedProps&&G===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&G===s.memoizedState||(o.flags|=1024),d=!1)}return v=d,Pa(s,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,a=d&&typeof a.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,s!==null&&d?(o.child=Cs(o,s.child,null,g),o.child=Cs(o,null,a,g)):ut(s,o,a,g),o.memoizedState=v.state,s=o.child):s=wn(s,o,g),s}function jp(s,o,a,d){return Po(),o.flags|=256,ut(s,o,a,d),o.child}var mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pc(s){return{baseLanes:s,cachePool:Vm()}}function gc(s,o,a){return s=s!==null?s.childLanes&~a:0,o&&(s|=Jt),s}function Wp(s,o,a){var d=o.pendingProps,g=!1,v=(o.flags&128)!==0,_;if((_=v)||(_=s!==null&&s.memoizedState===null?!1:(et.current&2)!==0),_&&(g=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ae){if(g?Yn(o):Kn(),Ae){var w=$e,R;if(R=w){e:{for(R=w,w=on;R.nodeType!==8;){if(!w){w=null;break e}if(R=Zt(R.nextSibling),R===null){w=null;break e}}w=R}w!==null?(o.memoizedState={dehydrated:w,treeContext:Ei!==null?{id:Tn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},R=Pt(18,null,null,0),R.stateNode=w,R.return=o,o.child=R,Tt=o,$e=null,R=!0):R=!1}R||Ai(o)}if(w=o.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Zc(w)?o.lanes=32:o.lanes=536870912,null;En(o)}return w=d.children,d=d.fallback,g?(Kn(),g=o.mode,w=Ia({mode:"hidden",children:w},g),d=xi(d,g,a,null),w.return=o,d.return=o,w.sibling=d,o.child=w,g=o.child,g.memoizedState=pc(a),g.childLanes=gc(s,_,a),o.memoizedState=mc,d):(Yn(o),yc(o,w))}if(R=s.memoizedState,R!==null&&(w=R.dehydrated,w!==null)){if(v)o.flags&256?(Yn(o),o.flags&=-257,o=vc(s,o,a)):o.memoizedState!==null?(Kn(),o.child=s.child,o.flags|=128,o=null):(Kn(),g=d.fallback,w=o.mode,d=Ia({mode:"visible",children:d.children},w),g=xi(g,w,a,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,Cs(o,s.child,null,a),d=o.child,d.memoizedState=pc(a),d.childLanes=gc(s,_,a),o.memoizedState=mc,o=g);else if(Yn(o),Zc(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var q=_.dgst;_=q,d=Error(i(419)),d.stack="",d.digest=_,Io({value:d,source:null,stack:null}),o=vc(s,o,a)}else if(it||ko(s,o,a,!1),_=(a&s.childLanes)!==0,it||_){if(_=Oe,_!==null&&(d=a&-a,d=(d&42)!==0?1:eu(d),d=(d&(_.suspendedLanes|a))!==0?0:d,d!==0&&d!==R.retryLane))throw R.retryLane=d,fs(s,d),Vt(_,s,d),Hp;w.data==="$?"||Lc(),o=vc(s,o,a)}else w.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=R.treeContext,$e=Zt(w.nextSibling),Tt=o,Ae=!0,bi=null,on=!1,s!==null&&(zt[Ft++]=Tn,zt[Ft++]=Sn,zt[Ft++]=Ei,Tn=s.id,Sn=s.overflow,Ei=o),o=yc(o,d.children),o.flags|=4096);return o}return g?(Kn(),g=d.fallback,w=o.mode,R=s.child,q=R.sibling,d=vn(R,{mode:"hidden",children:d.children}),d.subtreeFlags=R.subtreeFlags&65011712,q!==null?g=vn(q,g):(g=xi(g,w,a,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,w=s.child.memoizedState,w===null?w=pc(a):(R=w.cachePool,R!==null?(q=Ze._currentValue,R=R.parent!==q?{parent:q,pool:q}:R):R=Vm(),w={baseLanes:w.baseLanes|a,cachePool:R}),g.memoizedState=w,g.childLanes=gc(s,_,a),o.memoizedState=mc,d):(Yn(o),a=s.child,s=a.sibling,a=vn(a,{mode:"visible",children:d.children}),a.return=o,a.sibling=null,s!==null&&(_=o.deletions,_===null?(o.deletions=[s],o.flags|=16):_.push(s)),o.child=a,o.memoizedState=null,a)}function yc(s,o){return o=Ia({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Ia(s,o){return s=Pt(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function vc(s,o,a){return Cs(o,s.child,null,a),s=yc(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Qp(s,o,a){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Lu(s.return,o,a)}function Tc(s,o,a,d,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=a,v.tailMode=g)}function Zp(s,o,a){var d=o.pendingProps,g=d.revealOrder,v=d.tail;if(ut(s,o,d.children,a),d=et.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Qp(s,a,o);else if(s.tag===19)Qp(s,a,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(ee(et,d),g){case"forwards":for(a=o.child,g=null;a!==null;)s=a.alternate,s!==null&&Ra(s)===null&&(g=a),a=a.sibling;a=g,a===null?(g=o.child,o.child=null):(g=a.sibling,a.sibling=null),Tc(o,!1,g,a,v);break;case"backwards":for(a=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Ra(s)===null){o.child=g;break}s=g.sibling,g.sibling=a,a=g,g=s}Tc(o,!0,a,null,v);break;case"together":Tc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function wn(s,o,a){if(s!==null&&(o.dependencies=s.dependencies),Zn|=o.lanes,(a&o.childLanes)===0)if(s!==null){if(ko(s,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,a=vn(s,s.pendingProps),o.child=a,a.return=o;s.sibling!==null;)s=s.sibling,a=a.sibling=vn(s,s.pendingProps),a.return=o;a.sibling=null}return o.child}function Sc(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&ha(s)))}function yE(s,o,a){switch(o.tag){case 3:Ge(o,o.stateNode.containerInfo),Hn(o,Ze,s.memoizedState.cache),Po();break;case 27:case 5:Xl(o);break;case 4:Ge(o,o.stateNode.containerInfo);break;case 10:Hn(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Yn(o),o.flags|=128,null):(a&o.child.childLanes)!==0?Wp(s,o,a):(Yn(o),s=wn(s,o,a),s!==null?s.sibling:null);Yn(o);break;case 19:var g=(s.flags&128)!==0;if(d=(a&o.childLanes)!==0,d||(ko(s,o,a,!1),d=(a&o.childLanes)!==0),g){if(d)return Zp(s,o,a);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ee(et,et.current),d)break;return null;case 22:case 23:return o.lanes=0,Jp(s,o,a);case 24:Hn(o,Ze,s.memoizedState.cache)}return wn(s,o,a)}function eg(s,o,a){if(s!==null)if(s.memoizedProps!==o.pendingProps)it=!0;else{if(!Sc(s,a)&&(o.flags&128)===0)return it=!1,yE(s,o,a);it=(s.flags&131072)!==0}else it=!1,Ae&&(o.flags&1048576)!==0&&Dm(o,da,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var d=o.elementType,g=d._init;if(d=g(d._payload),o.type=d,typeof d=="function")Ru(d)?(s=Pi(d,s),o.tag=1,o=Xp(null,o,d,s,a)):(o.tag=0,o=hc(null,o,d,s,a));else{if(d!=null){if(g=d.$$typeof,g===L){o.tag=11,o=zp(null,o,d,s,a);break e}else if(g===z){o.tag=14,o=Fp(null,o,d,s,a);break e}}throw o=ue(d)||d,Error(i(306,o,""))}}return o;case 0:return hc(s,o,o.type,o.pendingProps,a);case 1:return d=o.type,g=Pi(d,o.pendingProps),Xp(s,o,d,g,a);case 3:e:{if(Ge(o,o.stateNode.containerInfo),s===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;g=v.element,zu(s,o),Go(o,d,null,a);var _=o.memoizedState;if(d=_.cache,Hn(o,Ze,d),d!==v.cache&&Vu(o,[Ze],a,!0),qo(),d=_.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=jp(s,o,d,a);break e}else if(d!==g){g=Gt(Error(i(424)),o),Io(g),o=jp(s,o,d,a);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for($e=Zt(s.firstChild),Tt=o,Ae=!0,bi=null,on=!0,a=Pp(o,null,d,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Po(),d===g){o=wn(s,o,a);break e}ut(s,o,d,a)}o=o.child}return o;case 26:return Pa(s,o),s===null?(a=sy(o.type,null,o.pendingProps,null))?o.memoizedState=a:Ae||(a=o.type,s=o.pendingProps,d=Ya(me.current).createElement(a),d[dt]=o,d[Ct]=s,ft(d,a,s),nt(d),o.stateNode=d):o.memoizedState=sy(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Xl(o),s===null&&Ae&&(d=o.stateNode=ty(o.type,o.pendingProps,me.current),Tt=o,on=!0,g=$e,ii(o.type)?(ef=g,$e=Zt(d.firstChild)):$e=g),ut(s,o,o.pendingProps.children,a),Pa(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Ae&&((g=d=$e)&&(d=$E(d,o.type,o.pendingProps,on),d!==null?(o.stateNode=d,Tt=o,$e=Zt(d.firstChild),on=!1,g=!0):g=!1),g||Ai(o)),Xl(o),g=o.type,v=o.pendingProps,_=s!==null?s.memoizedProps:null,d=v.children,jc(g,v)?d=null:_!==null&&jc(g,_)&&(o.flags|=32),o.memoizedState!==null&&(g=Xu(s,o,uE,null,null,a),ur._currentValue=g),Pa(s,o),ut(s,o,d,a),o.child;case 6:return s===null&&Ae&&((s=a=$e)&&(a=JE(a,o.pendingProps,on),a!==null?(o.stateNode=a,Tt=o,$e=null,s=!0):s=!1),s||Ai(o)),null;case 13:return Wp(s,o,a);case 4:return Ge(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Cs(o,null,d,a):ut(s,o,d,a),o.child;case 11:return zp(s,o,o.type,o.pendingProps,a);case 7:return ut(s,o,o.pendingProps,a),o.child;case 8:return ut(s,o,o.pendingProps.children,a),o.child;case 12:return ut(s,o,o.pendingProps.children,a),o.child;case 10:return d=o.pendingProps,Hn(o,o.type,d.value),ut(s,o,d.children,a),o.child;case 9:return g=o.type._context,d=o.pendingProps.children,Ri(o),g=ht(g),d=d(g),o.flags|=1,ut(s,o,d,a),o.child;case 14:return Fp(s,o,o.type,o.pendingProps,a);case 15:return $p(s,o,o.type,o.pendingProps,a);case 19:return Zp(s,o,a);case 31:return d=o.pendingProps,a=o.mode,d={mode:d.mode,children:d.children},s===null?(a=Ia(d,a),a.ref=o.ref,o.child=a,a.return=o,o=a):(a=vn(s.child,d),a.ref=o.ref,o.child=a,a.return=o,o=a),o;case 22:return Jp(s,o,a);case 24:return Ri(o),d=ht(Ze),s===null?(g=qu(),g===null&&(g=Oe,v=Ou(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),o.memoizedState={parent:d,cache:g},Hu(o),Hn(o,Ze,g)):((s.lanes&a)!==0&&(zu(s,o),Go(o,null,null,a),qo()),g=s.memoizedState,v=o.memoizedState,g.parent!==d?(g={parent:d,cache:d},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Hn(o,Ze,d)):(d=v.cache,Hn(o,Ze,d),d!==g.cache&&Vu(o,[Ze],a,!0))),ut(s,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function bn(s){s.flags|=4}function tg(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!uy(o)){if(o=$t.current,o!==null&&((we&4194048)===we?rn!==null:(we&62914560)!==we&&(we&536870912)===0||o!==rn))throw Oo=Gu,Om;s.flags|=8192}}function ka(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ih():536870912,s.lanes|=o,bs|=o)}function Ko(s,o){if(!Ae)switch(s.tailMode){case"hidden":o=s.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function ze(s){var o=s.alternate!==null&&s.alternate.child===s.child,a=0,d=0;if(o)for(var g=s.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=a,o}function vE(s,o,a){var d=o.pendingProps;switch(Iu(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(o),null;case 1:return ze(o),null;case 3:return a=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Cn(Ze),On(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(No(o)?bn(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Im())),ze(o),null;case 26:return a=o.memoizedState,s===null?(bn(o),a!==null?(ze(o),tg(o,a)):(ze(o),o.flags&=-16777217)):a?a!==s.memoizedState?(bn(o),ze(o),tg(o,a)):(ze(o),o.flags&=-16777217):(s.memoizedProps!==d&&bn(o),ze(o),o.flags&=-16777217),null;case 27:$r(o),a=me.current;var g=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&bn(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return ze(o),null}s=ae.current,No(o)?Nm(o):(s=ty(g,d,a),o.stateNode=s,bn(o))}return ze(o),null;case 5:if($r(o),a=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&bn(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return ze(o),null}if(s=ae.current,No(o))Nm(o);else{switch(g=Ya(me.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?g.createElement(a,{is:d.is}):g.createElement(a)}}s[dt]=o,s[Ct]=d;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=s;e:switch(ft(s,a,d),a){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&bn(o)}}return ze(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&bn(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=me.current,No(o)){if(s=o.stateNode,a=o.memoizedProps,d=null,g=Tt,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}s[dt]=o,s=!!(s.nodeValue===a||d!==null&&d.suppressHydrationWarning===!0||Kg(s.nodeValue,a)),s||Ai(o)}else s=Ya(s).createTextNode(d),s[dt]=o,o.stateNode=s}return ze(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=No(o),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[dt]=o}else Po(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ze(o),g=!1}else g=Im(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(En(o),o):(En(o),null)}if(En(o),(o.flags&128)!==0)return o.lanes=a,o;if(a=d!==null,s=s!==null&&s.memoizedState!==null,a){d=o.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return a!==s&&a&&(o.child.flags|=8192),ka(o,o.updateQueue),ze(o),null;case 4:return On(),s===null&&$c(o.stateNode.containerInfo),ze(o),null;case 10:return Cn(o.type),ze(o),null;case 19:if(te(et),g=o.memoizedState,g===null)return ze(o),null;if(d=(o.flags&128)!==0,v=g.rendering,v===null)if(d)Ko(g,!1);else{if(Je!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(v=Ra(s),v!==null){for(o.flags|=128,Ko(g,!1),s=v.updateQueue,o.updateQueue=s,ka(o,s),o.subtreeFlags=0,s=a,a=o.child;a!==null;)Rm(a,s),a=a.sibling;return ee(et,et.current&1|2),o.child}s=s.sibling}g.tail!==null&&sn()>Va&&(o.flags|=128,d=!0,Ko(g,!1),o.lanes=4194304)}else{if(!d)if(s=Ra(v),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,ka(o,s),Ko(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Ae)return ze(o),null}else 2*sn()-g.renderingStartTime>Va&&a!==536870912&&(o.flags|=128,d=!0,Ko(g,!1),o.lanes=4194304);g.isBackwards?(v.sibling=o.child,o.child=v):(s=g.last,s!==null?s.sibling=v:o.child=v,g.last=v)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=sn(),o.sibling=null,s=et.current,ee(et,d?s&1|2:s&1),o):(ze(o),null);case 22:case 23:return En(o),Yu(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(a&536870912)!==0&&(o.flags&128)===0&&(ze(o),o.subtreeFlags&6&&(o.flags|=8192)):ze(o),a=o.updateQueue,a!==null&&ka(o,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==a&&(o.flags|=2048),s!==null&&te(Di),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),Cn(Ze),ze(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function TE(s,o){switch(Iu(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Cn(Ze),On(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return $r(o),null;case 13:if(En(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Po()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return te(et),null;case 4:return On(),null;case 10:return Cn(o.type),null;case 22:case 23:return En(o),Yu(),s!==null&&te(Di),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Cn(Ze),null;case 25:return null;default:return null}}function ng(s,o){switch(Iu(o),o.tag){case 3:Cn(Ze),On();break;case 26:case 27:case 5:$r(o);break;case 4:On();break;case 13:En(o);break;case 19:te(et);break;case 10:Cn(o.type);break;case 22:case 23:En(o),Yu(),s!==null&&te(Di);break;case 24:Cn(Ze)}}function Xo(s,o){try{var a=o.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var g=d.next;a=g;do{if((a.tag&s)===s){d=void 0;var v=a.create,_=a.inst;d=v(),_.destroy=d}a=a.next}while(a!==g)}}catch(w){Le(o,o.return,w)}}function Xn(s,o,a){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&s)===s){var _=d.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,g=o;var R=a,q=w;try{q()}catch($){Le(g,R,$)}}}d=d.next}while(d!==v)}}catch($){Le(o,o.return,$)}}function ig(s){var o=s.updateQueue;if(o!==null){var a=s.stateNode;try{Fm(o,a)}catch(d){Le(s,s.return,d)}}}function sg(s,o,a){a.props=Pi(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(d){Le(s,o,d)}}function jo(s,o){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof a=="function"?s.refCleanup=a(d):a.current=d}}catch(g){Le(s,o,g)}}function an(s,o){var a=s.ref,d=s.refCleanup;if(a!==null)if(typeof d=="function")try{d()}catch(g){Le(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Le(s,o,g)}else a.current=null}function og(s){var o=s.type,a=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&d.focus();break e;case"img":a.src?d.src=a.src:a.srcSet&&(d.srcset=a.srcSet)}}catch(g){Le(s,s.return,g)}}function _c(s,o,a){try{var d=s.stateNode;qE(d,s.type,a,o),d[Ct]=o}catch(g){Le(s,s.return,g)}}function rg(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ii(s.type)||s.tag===4}function Cc(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rg(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ii(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xc(s,o,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(s),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Ja));else if(d!==4&&(d===27&&ii(s.type)&&(a=s.stateNode,o=null),s=s.child,s!==null))for(xc(s,o,a),s=s.sibling;s!==null;)xc(s,o,a),s=s.sibling}function Ua(s,o,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?a.insertBefore(s,o):a.appendChild(s);else if(d!==4&&(d===27&&ii(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(Ua(s,o,a),s=s.sibling;s!==null;)Ua(s,o,a),s=s.sibling}function ag(s){var o=s.stateNode,a=s.memoizedProps;try{for(var d=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);ft(o,d,a),o[dt]=s,o[Ct]=a}catch(v){Le(s,s.return,v)}}var An=!1,Xe=!1,Ec=!1,lg=typeof WeakSet=="function"?WeakSet:Set,st=null;function SE(s,o){if(s=s.containerInfo,Kc=Za,s=Tm(s),Cu(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var _=0,w=-1,R=-1,q=0,$=0,K=s,G=null;t:for(;;){for(var H;K!==a||g!==0&&K.nodeType!==3||(w=_+g),K!==v||d!==0&&K.nodeType!==3||(R=_+d),K.nodeType===3&&(_+=K.nodeValue.length),(H=K.firstChild)!==null;)G=K,K=H;for(;;){if(K===s)break t;if(G===a&&++q===g&&(w=_),G===v&&++$===d&&(R=_),(H=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=H}a=w===-1||R===-1?null:{start:w,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xc={focusedElem:s,selectionRange:a},Za=!1,st=o;st!==null;)if(o=st,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,st=s;else for(;st!==null;){switch(o=st,v=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,a=o,g=v.memoizedProps,v=v.memoizedState,d=a.stateNode;try{var he=Pi(a.type,g,a.elementType===a.type);s=d.getSnapshotBeforeUpdate(he,v),d.__reactInternalSnapshotBeforeUpdate=s}catch(ce){Le(a,a.return,ce)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,a=s.nodeType,a===9)Qc(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Qc(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,st=s;break}st=o.return}}function ug(s,o,a){var d=a.flags;switch(a.tag){case 0:case 11:case 15:jn(s,a),d&4&&Xo(5,a);break;case 1:if(jn(s,a),d&4)if(s=a.stateNode,o===null)try{s.componentDidMount()}catch(_){Le(a,a.return,_)}else{var g=Pi(a.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(_){Le(a,a.return,_)}}d&64&&ig(a),d&512&&jo(a,a.return);break;case 3:if(jn(s,a),d&64&&(s=a.updateQueue,s!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{Fm(s,o)}catch(_){Le(a,a.return,_)}}break;case 27:o===null&&d&4&&ag(a);case 26:case 5:jn(s,a),o===null&&d&4&&og(a),d&512&&jo(a,a.return);break;case 12:jn(s,a);break;case 13:jn(s,a),d&4&&dg(s,a),d&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=RE.bind(null,a),YE(s,a))));break;case 22:if(d=a.memoizedState!==null||An,!d){o=o!==null&&o.memoizedState!==null||Xe,g=An;var v=Xe;An=d,(Xe=o)&&!v?Wn(s,a,(a.subtreeFlags&8772)!==0):jn(s,a),An=g,Xe=v}break;case 30:break;default:jn(s,a)}}function cg(s){var o=s.alternate;o!==null&&(s.alternate=null,cg(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&iu(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var He=null,wt=!1;function Mn(s,o,a){for(a=a.child;a!==null;)fg(s,o,a),a=a.sibling}function fg(s,o,a){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(yo,a)}catch{}switch(a.tag){case 26:Xe||an(a,o),Mn(s,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||an(a,o);var d=He,g=wt;ii(a.type)&&(He=a.stateNode,wt=!1),Mn(s,o,a),or(a.stateNode),He=d,wt=g;break;case 5:Xe||an(a,o);case 6:if(d=He,g=wt,He=null,Mn(s,o,a),He=d,wt=g,He!==null)if(wt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(v){Le(a,o,v)}else try{He.removeChild(a.stateNode)}catch(v){Le(a,o,v)}break;case 18:He!==null&&(wt?(s=He,Zg(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),hr(s)):Zg(He,a.stateNode));break;case 4:d=He,g=wt,He=a.stateNode.containerInfo,wt=!0,Mn(s,o,a),He=d,wt=g;break;case 0:case 11:case 14:case 15:Xe||Xn(2,a,o),Xe||Xn(4,a,o),Mn(s,o,a);break;case 1:Xe||(an(a,o),d=a.stateNode,typeof d.componentWillUnmount=="function"&&sg(a,o,d)),Mn(s,o,a);break;case 21:Mn(s,o,a);break;case 22:Xe=(d=Xe)||a.memoizedState!==null,Mn(s,o,a),Xe=d;break;default:Mn(s,o,a)}}function dg(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{hr(s)}catch(a){Le(o,o.return,a)}}function _E(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new lg),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new lg),o;default:throw Error(i(435,s.tag))}}function wc(s,o){var a=_E(s);o.forEach(function(d){var g=DE.bind(null,s,d);a.has(d)||(a.add(d),d.then(g,g))})}function It(s,o){var a=o.deletions;if(a!==null)for(var d=0;d<a.length;d++){var g=a[d],v=s,_=o,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(ii(w.type)){He=w.stateNode,wt=!1;break e}break;case 5:He=w.stateNode,wt=!1;break e;case 3:case 4:He=w.stateNode.containerInfo,wt=!0;break e}w=w.return}if(He===null)throw Error(i(160));fg(v,_,g),He=null,wt=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)hg(o,s),o=o.sibling}var Qt=null;function hg(s,o){var a=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:It(o,s),kt(s),d&4&&(Xn(3,s,s.return),Xo(3,s),Xn(5,s,s.return));break;case 1:It(o,s),kt(s),d&512&&(Xe||a===null||an(a,a.return)),d&64&&An&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?d:a.concat(d))));break;case 26:var g=Qt;if(It(o,s),kt(s),d&512&&(Xe||a===null||an(a,a.return)),d&4){var v=a!==null?a.memoizedState:null;if(d=s.memoizedState,a===null)if(d===null)if(s.stateNode===null){e:{d=s.type,a=s.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[So]||v[dt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),ft(v,d,a),v[dt]=s,nt(v),d=v;break e;case"link":var _=ay("link","href",g).get(d+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(v=_[w],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}v=g.createElement(d),ft(v,d,a),g.head.appendChild(v);break;case"meta":if(_=ay("meta","content",g).get(d+(a.content||""))){for(w=0;w<_.length;w++)if(v=_[w],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}v=g.createElement(d),ft(v,d,a),g.head.appendChild(v);break;default:throw Error(i(468,d))}v[dt]=s,nt(v),d=v}s.stateNode=d}else ly(g,s.type,s.stateNode);else s.stateNode=ry(g,d,s.memoizedProps);else v!==d?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,d===null?ly(g,s.type,s.stateNode):ry(g,d,s.memoizedProps)):d===null&&s.stateNode!==null&&_c(s,s.memoizedProps,a.memoizedProps)}break;case 27:It(o,s),kt(s),d&512&&(Xe||a===null||an(a,a.return)),a!==null&&d&4&&_c(s,s.memoizedProps,a.memoizedProps);break;case 5:if(It(o,s),kt(s),d&512&&(Xe||a===null||an(a,a.return)),s.flags&32){g=s.stateNode;try{ss(g,"")}catch(H){Le(s,s.return,H)}}d&4&&s.stateNode!=null&&(g=s.memoizedProps,_c(s,g,a!==null?a.memoizedProps:g)),d&1024&&(Ec=!0);break;case 6:if(It(o,s),kt(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,a=s.stateNode;try{a.nodeValue=d}catch(H){Le(s,s.return,H)}}break;case 3:if(ja=null,g=Qt,Qt=Ka(o.containerInfo),It(o,s),Qt=g,kt(s),d&4&&a!==null&&a.memoizedState.isDehydrated)try{hr(o.containerInfo)}catch(H){Le(s,s.return,H)}Ec&&(Ec=!1,mg(s));break;case 4:d=Qt,Qt=Ka(s.stateNode.containerInfo),It(o,s),kt(s),Qt=d;break;case 12:It(o,s),kt(s);break;case 13:It(o,s),kt(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=sn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,wc(s,d)));break;case 22:g=s.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,q=An,$=Xe;if(An=q||g,Xe=$||R,It(o,s),Xe=$,An=q,kt(s),d&8192)e:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(a===null||R||An||Xe||Ii(s)),a=null,o=s;;){if(o.tag===5||o.tag===26){if(a===null){R=a=o;try{if(v=R.stateNode,g)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=R.stateNode;var K=R.memoizedProps.style,G=K!=null&&K.hasOwnProperty("display")?K.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(H){Le(R,R.return,H)}}}else if(o.tag===6){if(a===null){R=o;try{R.stateNode.nodeValue=g?"":R.memoizedProps}catch(H){Le(R,R.return,H)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(a=d.retryQueue,a!==null&&(d.retryQueue=null,wc(s,a))));break;case 19:It(o,s),kt(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,wc(s,d)));break;case 30:break;case 21:break;default:It(o,s),kt(s)}}function kt(s){var o=s.flags;if(o&2){try{for(var a,d=s.return;d!==null;){if(rg(d)){a=d;break}d=d.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var g=a.stateNode,v=Cc(s);Ua(s,v,g);break;case 5:var _=a.stateNode;a.flags&32&&(ss(_,""),a.flags&=-33);var w=Cc(s);Ua(s,w,_);break;case 3:case 4:var R=a.stateNode.containerInfo,q=Cc(s);xc(s,q,R);break;default:throw Error(i(161))}}catch($){Le(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function mg(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;mg(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function jn(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ug(s,o.alternate,o),o=o.sibling}function Ii(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Xn(4,o,o.return),Ii(o);break;case 1:an(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&sg(o,o.return,a),Ii(o);break;case 27:or(o.stateNode);case 26:case 5:an(o,o.return),Ii(o);break;case 22:o.memoizedState===null&&Ii(o);break;case 30:Ii(o);break;default:Ii(o)}s=s.sibling}}function Wn(s,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,g=s,v=o,_=v.flags;switch(v.tag){case 0:case 11:case 15:Wn(g,v,a),Xo(4,v);break;case 1:if(Wn(g,v,a),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(q){Le(d,d.return,q)}if(d=v,g=d.updateQueue,g!==null){var w=d.stateNode;try{var R=g.shared.hiddenCallbacks;if(R!==null)for(g.shared.hiddenCallbacks=null,g=0;g<R.length;g++)zm(R[g],w)}catch(q){Le(d,d.return,q)}}a&&_&64&&ig(v),jo(v,v.return);break;case 27:ag(v);case 26:case 5:Wn(g,v,a),a&&d===null&&_&4&&og(v),jo(v,v.return);break;case 12:Wn(g,v,a);break;case 13:Wn(g,v,a),a&&_&4&&dg(g,v);break;case 22:v.memoizedState===null&&Wn(g,v,a),jo(v,v.return);break;case 30:break;default:Wn(g,v,a)}o=o.sibling}}function bc(s,o){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&Uo(a))}function Ac(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Uo(s))}function ln(s,o,a,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pg(s,o,a,d),o=o.sibling}function pg(s,o,a,d){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ln(s,o,a,d),g&2048&&Xo(9,o);break;case 1:ln(s,o,a,d);break;case 3:ln(s,o,a,d),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Uo(s)));break;case 12:if(g&2048){ln(s,o,a,d),s=o.stateNode;try{var v=o.memoizedProps,_=v.id,w=v.onPostCommit;typeof w=="function"&&w(_,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(R){Le(o,o.return,R)}}else ln(s,o,a,d);break;case 13:ln(s,o,a,d);break;case 23:break;case 22:v=o.stateNode,_=o.alternate,o.memoizedState!==null?v._visibility&2?ln(s,o,a,d):Wo(s,o):v._visibility&2?ln(s,o,a,d):(v._visibility|=2,xs(s,o,a,d,(o.subtreeFlags&10256)!==0)),g&2048&&bc(_,o);break;case 24:ln(s,o,a,d),g&2048&&Ac(o.alternate,o);break;default:ln(s,o,a,d)}}function xs(s,o,a,d,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=s,_=o,w=a,R=d,q=_.flags;switch(_.tag){case 0:case 11:case 15:xs(v,_,w,R,g),Xo(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?xs(v,_,w,R,g):Wo(v,_):($._visibility|=2,xs(v,_,w,R,g)),g&&q&2048&&bc(_.alternate,_);break;case 24:xs(v,_,w,R,g),g&&q&2048&&Ac(_.alternate,_);break;default:xs(v,_,w,R,g)}o=o.sibling}}function Wo(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=s,d=o,g=d.flags;switch(d.tag){case 22:Wo(a,d),g&2048&&bc(d.alternate,d);break;case 24:Wo(a,d),g&2048&&Ac(d.alternate,d);break;default:Wo(a,d)}o=o.sibling}}var Qo=8192;function Es(s){if(s.subtreeFlags&Qo)for(s=s.child;s!==null;)gg(s),s=s.sibling}function gg(s){switch(s.tag){case 26:Es(s),s.flags&Qo&&s.memoizedState!==null&&rw(Qt,s.memoizedState,s.memoizedProps);break;case 5:Es(s);break;case 3:case 4:var o=Qt;Qt=Ka(s.stateNode.containerInfo),Es(s),Qt=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Qo,Qo=16777216,Es(s),Qo=o):Es(s));break;default:Es(s)}}function yg(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Zo(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];st=d,Tg(d,s)}yg(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vg(s),s=s.sibling}function vg(s){switch(s.tag){case 0:case 11:case 15:Zo(s),s.flags&2048&&Xn(9,s,s.return);break;case 3:Zo(s);break;case 12:Zo(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,La(s)):Zo(s);break;default:Zo(s)}}function La(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];st=d,Tg(d,s)}yg(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Xn(8,o,o.return),La(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,La(o));break;default:La(o)}s=s.sibling}}function Tg(s,o){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Xn(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var d=a.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Uo(a.memoizedState.cache)}if(d=a.child,d!==null)d.return=a,st=d;else e:for(a=s;st!==null;){d=st;var g=d.sibling,v=d.return;if(cg(d),d===a){st=null;break e}if(g!==null){g.return=v,st=g;break e}st=v}}}var CE={getCacheForType:function(s){var o=ht(Ze),a=o.data.get(s);return a===void 0&&(a=s(),o.data.set(s,a)),a}},xE=typeof WeakMap=="function"?WeakMap:Map,Re=0,Oe=null,Se=null,we=0,De=0,Ut=null,Qn=!1,ws=!1,Mc=!1,Rn=0,Je=0,Zn=0,ki=0,Rc=0,Jt=0,bs=0,er=null,bt=null,Dc=!1,Nc=0,Va=1/0,Oa=null,ei=null,ct=0,ti=null,As=null,Ms=0,Pc=0,Ic=null,Sg=null,tr=0,kc=null;function Lt(){if((Re&2)!==0&&we!==0)return we&-we;if(F.T!==null){var s=ps;return s!==0?s:Gc()}return Lh()}function _g(){Jt===0&&(Jt=(we&536870912)===0||Ae?Ph():536870912);var s=$t.current;return s!==null&&(s.flags|=32),Jt}function Vt(s,o,a){(s===Oe&&(De===2||De===9)||s.cancelPendingCommit!==null)&&(Rs(s,0),ni(s,we,Jt,!1)),To(s,a),((Re&2)===0||s!==Oe)&&(s===Oe&&((Re&2)===0&&(ki|=a),Je===4&&ni(s,we,Jt,!1)),un(s))}function Cg(s,o,a){if((Re&6)!==0)throw Error(i(327));var d=!a&&(o&124)===0&&(o&s.expiredLanes)===0||vo(s,o),g=d?bE(s,o):Vc(s,o,!0),v=d;do{if(g===0){ws&&!d&&ni(s,o,0,!1);break}else{if(a=s.current.alternate,v&&!EE(a)){g=Vc(s,o,!1),v=!1;continue}if(g===2){if(v=o,s.errorRecoveryDisabledLanes&v)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var w=s;g=er;var R=w.current.memoizedState.isDehydrated;if(R&&(Rs(w,_).flags|=256),_=Vc(w,_,!1),_!==2){if(Mc&&!R){w.errorRecoveryDisabledLanes|=v,ki|=v,g=4;break e}v=bt,bt=g,v!==null&&(bt===null?bt=v:bt.push.apply(bt,v))}g=_}if(v=!1,g!==2)continue}}if(g===1){Rs(s,0),ni(s,o,0,!0);break}e:{switch(d=s,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:ni(d,o,Jt,!Qn);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=Nc+300-sn(),10<g)){if(ni(d,o,Jt,!Qn),Xr(d,0,!0)!==0)break e;d.timeoutHandle=Wg(xg.bind(null,d,a,bt,Oa,Dc,o,Jt,ki,bs,Qn,v,2,-0,0),g);break e}xg(d,a,bt,Oa,Dc,o,Jt,ki,bs,Qn,v,0,-0,0)}}break}while(!0);un(s)}function xg(s,o,a,d,g,v,_,w,R,q,$,K,G,H){if(s.timeoutHandle=-1,K=o.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(lr={stylesheets:null,count:0,unsuspend:ow},gg(o),K=aw(),K!==null)){s.cancelPendingCommit=K(Dg.bind(null,s,o,v,a,d,g,_,w,R,$,1,G,H)),ni(s,v,_,!q);return}Dg(s,o,v,a,d,g,_,w,R)}function EE(s){for(var o=s;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var d=0;d<a.length;d++){var g=a[d],v=g.getSnapshot;g=g.value;try{if(!Nt(v(),g))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ni(s,o,a,d){o&=~Rc,o&=~ki,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var g=o;0<g;){var v=31-Dt(g),_=1<<v;d[v]=-1,g&=~_}a!==0&&kh(s,a,o)}function Ba(){return(Re&6)===0?(nr(0),!1):!0}function Uc(){if(Se!==null){if(De===0)var s=Se.return;else s=Se,_n=Mi=null,Qu(s),_s=null,Jo=0,s=Se;for(;s!==null;)ng(s.alternate,s),s=s.return;Se=null}}function Rs(s,o){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,HE(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),Uc(),Oe=s,Se=a=vn(s.current,null),we=o,De=0,Ut=null,Qn=!1,ws=vo(s,o),Mc=!1,bs=Jt=Rc=ki=Zn=Je=0,bt=er=null,Dc=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var g=31-Dt(d),v=1<<g;o|=s[g],d&=~v}return Rn=o,aa(),a}function Eg(s,o){ye=null,F.H=ba,o===Vo||o===ga?(o=Gm(),De=3):o===Om?(o=Gm(),De=4):De=o===Hp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ut=o,Se===null&&(Je=1,Na(s,Gt(o,s.current)))}function wg(){var s=F.H;return F.H=ba,s===null?ba:s}function bg(){var s=F.A;return F.A=CE,s}function Lc(){Je=4,Qn||(we&4194048)!==we&&$t.current!==null||(ws=!0),(Zn&134217727)===0&&(ki&134217727)===0||Oe===null||ni(Oe,we,Jt,!1)}function Vc(s,o,a){var d=Re;Re|=2;var g=wg(),v=bg();(Oe!==s||we!==o)&&(Oa=null,Rs(s,o)),o=!1;var _=Je;e:do try{if(De!==0&&Se!==null){var w=Se,R=Ut;switch(De){case 8:Uc(),_=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(o=!0);var q=De;if(De=0,Ut=null,Ds(s,w,R,q),a&&ws){_=0;break e}break;default:q=De,De=0,Ut=null,Ds(s,w,R,q)}}wE(),_=Je;break}catch($){Eg(s,$)}while(!0);return o&&s.shellSuspendCounter++,_n=Mi=null,Re=d,F.H=g,F.A=v,Se===null&&(Oe=null,we=0,aa()),_}function wE(){for(;Se!==null;)Ag(Se)}function bE(s,o){var a=Re;Re|=2;var d=wg(),g=bg();Oe!==s||we!==o?(Oa=null,Va=sn()+500,Rs(s,o)):ws=vo(s,o);e:do try{if(De!==0&&Se!==null){o=Se;var v=Ut;t:switch(De){case 1:De=0,Ut=null,Ds(s,o,v,1);break;case 2:case 9:if(Bm(v)){De=0,Ut=null,Mg(o);break}o=function(){De!==2&&De!==9||Oe!==s||(De=7),un(s)},v.then(o,o);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Bm(v)?(De=0,Ut=null,Mg(o)):(De=0,Ut=null,Ds(s,o,v,7));break;case 5:var _=null;switch(Se.tag){case 26:_=Se.memoizedState;case 5:case 27:var w=Se;if(!_||uy(_)){De=0,Ut=null;var R=w.sibling;if(R!==null)Se=R;else{var q=w.return;q!==null?(Se=q,qa(q)):Se=null}break t}}De=0,Ut=null,Ds(s,o,v,5);break;case 6:De=0,Ut=null,Ds(s,o,v,6);break;case 8:Uc(),Je=6;break e;default:throw Error(i(462))}}AE();break}catch($){Eg(s,$)}while(!0);return _n=Mi=null,F.H=d,F.A=g,Re=a,Se!==null?0:(Oe=null,we=0,aa(),Je)}function AE(){for(;Se!==null&&!XC();)Ag(Se)}function Ag(s){var o=eg(s.alternate,s,Rn);s.memoizedProps=s.pendingProps,o===null?qa(s):Se=o}function Mg(s){var o=s,a=o.alternate;switch(o.tag){case 15:case 0:o=Kp(a,o,o.pendingProps,o.type,void 0,we);break;case 11:o=Kp(a,o,o.pendingProps,o.type.render,o.ref,we);break;case 5:Qu(o);default:ng(a,o),o=Se=Rm(o,Rn),o=eg(a,o,Rn)}s.memoizedProps=s.pendingProps,o===null?qa(s):Se=o}function Ds(s,o,a,d){_n=Mi=null,Qu(o),_s=null,Jo=0;var g=o.return;try{if(gE(s,g,o,a,we)){Je=1,Na(s,Gt(a,s.current)),Se=null;return}}catch(v){if(g!==null)throw Se=g,v;Je=1,Na(s,Gt(a,s.current)),Se=null;return}o.flags&32768?(Ae||d===1?s=!0:ws||(we&536870912)!==0?s=!1:(Qn=s=!0,(d===2||d===9||d===3||d===6)&&(d=$t.current,d!==null&&d.tag===13&&(d.flags|=16384))),Rg(o,s)):qa(o)}function qa(s){var o=s;do{if((o.flags&32768)!==0){Rg(o,Qn);return}s=o.return;var a=vE(o.alternate,o,Rn);if(a!==null){Se=a;return}if(o=o.sibling,o!==null){Se=o;return}Se=o=s}while(o!==null);Je===0&&(Je=5)}function Rg(s,o){do{var a=TE(s.alternate,s);if(a!==null){a.flags&=32767,Se=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(s=s.sibling,s!==null)){Se=s;return}Se=s=a}while(s!==null);Je=6,Se=null}function Dg(s,o,a,d,g,v,_,w,R){s.cancelPendingCommit=null;do Ga();while(ct!==0);if((Re&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=Au,ox(s,a,v,_,w,R),s===Oe&&(Se=Oe=null,we=0),As=o,ti=s,Ms=a,Pc=v,Ic=g,Sg=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,NE(Jr,function(){return Ug(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=F.T,F.T=null,g=j.p,j.p=2,_=Re,Re|=4;try{SE(s,o,a)}finally{Re=_,j.p=g,F.T=d}}ct=1,Ng(),Pg(),Ig()}}function Ng(){if(ct===1){ct=0;var s=ti,o=As,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var d=j.p;j.p=2;var g=Re;Re|=4;try{hg(o,s);var v=Xc,_=Tm(s.containerInfo),w=v.focusedElem,R=v.selectionRange;if(_!==w&&w&&w.ownerDocument&&vm(w.ownerDocument.documentElement,w)){if(R!==null&&Cu(w)){var q=R.start,$=R.end;if($===void 0&&($=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min($,w.value.length);else{var K=w.ownerDocument||document,G=K&&K.defaultView||window;if(G.getSelection){var H=G.getSelection(),he=w.textContent.length,ce=Math.min(R.start,he),Ue=R.end===void 0?ce:Math.min(R.end,he);!H.extend&&ce>Ue&&(_=Ue,Ue=ce,ce=_);var U=ym(w,ce),k=ym(w,Ue);if(U&&k&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var B=K.createRange();B.setStart(U.node,U.offset),H.removeAllRanges(),ce>Ue?(H.addRange(B),H.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),H.addRange(B))}}}}for(K=[],H=w;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<K.length;w++){var Y=K[w];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Za=!!Kc,Xc=Kc=null}finally{Re=g,j.p=d,F.T=a}}s.current=o,ct=2}}function Pg(){if(ct===2){ct=0;var s=ti,o=As,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var d=j.p;j.p=2;var g=Re;Re|=4;try{ug(s,o.alternate,o)}finally{Re=g,j.p=d,F.T=a}}ct=3}}function Ig(){if(ct===4||ct===3){ct=0,jC();var s=ti,o=As,a=Ms,d=Sg;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ct=5:(ct=0,As=ti=null,kg(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ei=null),tu(a),o=o.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(yo,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=F.T,g=j.p,j.p=2,F.T=null;try{for(var v=s.onRecoverableError,_=0;_<d.length;_++){var w=d[_];v(w.value,{componentStack:w.stack})}}finally{F.T=o,j.p=g}}(Ms&3)!==0&&Ga(),un(s),g=s.pendingLanes,(a&4194090)!==0&&(g&42)!==0?s===kc?tr++:(tr=0,kc=s):tr=0,nr(0)}}function kg(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Uo(o)))}function Ga(s){return Ng(),Pg(),Ig(),Ug()}function Ug(){if(ct!==5)return!1;var s=ti,o=Pc;Pc=0;var a=tu(Ms),d=F.T,g=j.p;try{j.p=32>a?32:a,F.T=null,a=Ic,Ic=null;var v=ti,_=Ms;if(ct=0,As=ti=null,Ms=0,(Re&6)!==0)throw Error(i(331));var w=Re;if(Re|=4,vg(v.current),pg(v,v.current,_,a),Re=w,nr(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(yo,v)}catch{}return!0}finally{j.p=g,F.T=d,kg(s,o)}}function Lg(s,o,a){o=Gt(a,o),o=dc(s.stateNode,o,2),s=$n(s,o,2),s!==null&&(To(s,2),un(s))}function Le(s,o,a){if(s.tag===3)Lg(s,s,a);else for(;o!==null;){if(o.tag===3){Lg(o,s,a);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ei===null||!ei.has(d))){s=Gt(a,s),a=qp(2),d=$n(o,a,2),d!==null&&(Gp(a,d,o,s),To(d,2),un(d));break}}o=o.return}}function Oc(s,o,a){var d=s.pingCache;if(d===null){d=s.pingCache=new xE;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(a)||(Mc=!0,g.add(a),s=ME.bind(null,s,o,a),o.then(s,s))}function ME(s,o,a){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,Oe===s&&(we&a)===a&&(Je===4||Je===3&&(we&62914560)===we&&300>sn()-Nc?(Re&2)===0&&Rs(s,0):Rc|=a,bs===we&&(bs=0)),un(s)}function Vg(s,o){o===0&&(o=Ih()),s=fs(s,o),s!==null&&(To(s,o),un(s))}function RE(s){var o=s.memoizedState,a=0;o!==null&&(a=o.retryLane),Vg(s,a)}function DE(s,o){var a=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(a=g.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),Vg(s,a)}function NE(s,o){return Wl(s,o)}var Ha=null,Ns=null,Bc=!1,za=!1,qc=!1,Ui=0;function un(s){s!==Ns&&s.next===null&&(Ns===null?Ha=Ns=s:Ns=Ns.next=s),za=!0,Bc||(Bc=!0,IE())}function nr(s,o){if(!qc&&za){qc=!0;do for(var a=!1,d=Ha;d!==null;){if(s!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var _=d.suspendedLanes,w=d.pingedLanes;v=(1<<31-Dt(42|s)+1)-1,v&=g&~(_&~w),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Gg(d,v))}else v=we,v=Xr(d,d===Oe?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||vo(d,v)||(a=!0,Gg(d,v));d=d.next}while(a);qc=!1}}function PE(){Og()}function Og(){za=Bc=!1;var s=0;Ui!==0&&(GE()&&(s=Ui),Ui=0);for(var o=sn(),a=null,d=Ha;d!==null;){var g=d.next,v=Bg(d,o);v===0?(d.next=null,a===null?Ha=g:a.next=g,g===null&&(Ns=a)):(a=d,(s!==0||(v&3)!==0)&&(za=!0)),d=g}nr(s)}function Bg(s,o){for(var a=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var _=31-Dt(v),w=1<<_,R=g[_];R===-1?((w&a)===0||(w&d)!==0)&&(g[_]=sx(w,o)):R<=o&&(s.expiredLanes|=w),v&=~w}if(o=Oe,a=we,a=Xr(s,s===o?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,a===0||s===o&&(De===2||De===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Ql(d),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||vo(s,a)){if(o=a&-a,o===s.callbackPriority)return o;switch(d!==null&&Ql(d),tu(a)){case 2:case 8:a=Dh;break;case 32:a=Jr;break;case 268435456:a=Nh;break;default:a=Jr}return d=qg.bind(null,s),a=Wl(a,d),s.callbackPriority=o,s.callbackNode=a,o}return d!==null&&d!==null&&Ql(d),s.callbackPriority=2,s.callbackNode=null,2}function qg(s,o){if(ct!==0&&ct!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(Ga()&&s.callbackNode!==a)return null;var d=we;return d=Xr(s,s===Oe?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(Cg(s,d,o),Bg(s,sn()),s.callbackNode!=null&&s.callbackNode===a?qg.bind(null,s):null)}function Gg(s,o){if(Ga())return null;Cg(s,o,!0)}function IE(){zE(function(){(Re&6)!==0?Wl(Rh,PE):Og()})}function Gc(){return Ui===0&&(Ui=Ph()),Ui}function Hg(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ea(""+s)}function zg(s,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,s.id&&a.setAttribute("form",s.id),o.parentNode.insertBefore(a,o),s=new FormData(s),a.parentNode.removeChild(a),s}function kE(s,o,a,d,g){if(o==="submit"&&a&&a.stateNode===g){var v=Hg((g[Ct]||null).action),_=d.submitter;_&&(o=(o=_[Ct]||null)?Hg(o.formAction):_.getAttribute("formAction"),o!==null&&(v=o,_=null));var w=new sa("action","action",null,d,g);s.push({event:w,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ui!==0){var R=_?zg(g,_):new FormData(g);ac(a,{pending:!0,data:R,method:g.method,action:v},null,R)}}else typeof v=="function"&&(w.preventDefault(),R=_?zg(g,_):new FormData(g),ac(a,{pending:!0,data:R,method:g.method,action:v},v,R))},currentTarget:g}]})}}for(var Hc=0;Hc<bu.length;Hc++){var zc=bu[Hc],UE=zc.toLowerCase(),LE=zc[0].toUpperCase()+zc.slice(1);Wt(UE,"on"+LE)}Wt(Cm,"onAnimationEnd"),Wt(xm,"onAnimationIteration"),Wt(Em,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Zx,"onTransitionRun"),Wt(eE,"onTransitionStart"),Wt(tE,"onTransitionCancel"),Wt(wm,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ir));function Fg(s,o){o=(o&4)!==0;for(var a=0;a<s.length;a++){var d=s[a],g=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var _=d.length-1;0<=_;_--){var w=d[_],R=w.instance,q=w.currentTarget;if(w=w.listener,R!==v&&g.isPropagationStopped())break e;v=w,g.currentTarget=q;try{v(g)}catch($){Da($)}g.currentTarget=null,v=R}else for(_=0;_<d.length;_++){if(w=d[_],R=w.instance,q=w.currentTarget,w=w.listener,R!==v&&g.isPropagationStopped())break e;v=w,g.currentTarget=q;try{v(g)}catch($){Da($)}g.currentTarget=null,v=R}}}}function _e(s,o){var a=o[nu];a===void 0&&(a=o[nu]=new Set);var d=s+"__bubble";a.has(d)||($g(o,s,2,!1),a.add(d))}function Fc(s,o,a){var d=0;o&&(d|=4),$g(a,s,d,o)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function $c(s){if(!s[Fa]){s[Fa]=!0,Oh.forEach(function(a){a!=="selectionchange"&&(VE.has(a)||Fc(a,!1,s),Fc(a,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Fa]||(o[Fa]=!0,Fc("selectionchange",!1,o))}}function $g(s,o,a,d){switch(py(o)){case 2:var g=cw;break;case 8:g=fw;break;default:g=rf}a=g.bind(null,o,a,s),g=void 0,!hu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(o,a,{capture:!0,passive:g}):s.addEventListener(o,a,!0):g!==void 0?s.addEventListener(o,a,{passive:g}):s.addEventListener(o,a,!1)}function Jc(s,o,a,d,g){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var w=d.stateNode.containerInfo;if(w===g)break;if(_===4)for(_=d.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;w!==null;){if(_=Qi(w),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){d=v=_;continue e}w=w.parentNode}}d=d.return}Qh(function(){var q=v,$=fu(a),K=[];e:{var G=bm.get(s);if(G!==void 0){var H=sa,he=s;switch(s){case"keypress":if(na(a)===0)break e;case"keydown":case"keyup":H=Nx;break;case"focusin":he="focus",H=yu;break;case"focusout":he="blur",H=yu;break;case"beforeblur":case"afterblur":H=yu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=kx;break;case Cm:case xm:case Em:H=Cx;break;case wm:H=Lx;break;case"scroll":case"scrollend":H=yx;break;case"wheel":H=Ox;break;case"copy":case"cut":case"paste":H=Ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=im;break;case"toggle":case"beforetoggle":H=qx}var ce=(o&4)!==0,Ue=!ce&&(s==="scroll"||s==="scrollend"),U=ce?G!==null?G+"Capture":null:G;ce=[];for(var k=q,B;k!==null;){var Y=k;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||U===null||(Y=Co(k,U),Y!=null&&ce.push(sr(k,Y,B))),Ue)break;k=k.return}0<ce.length&&(G=new H(G,he,null,a,$),K.push({event:G,listeners:ce}))}}if((o&7)===0){e:{if(G=s==="mouseover"||s==="pointerover",H=s==="mouseout"||s==="pointerout",G&&a!==cu&&(he=a.relatedTarget||a.fromElement)&&(Qi(he)||he[Wi]))break e;if((H||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=q,he=he?Qi(he):null,he!==null&&(Ue=l(he),ce=he.tag,he!==Ue||ce!==5&&ce!==27&&ce!==6)&&(he=null)):(H=null,he=q),H!==he)){if(ce=tm,Y="onMouseLeave",U="onMouseEnter",k="mouse",(s==="pointerout"||s==="pointerover")&&(ce=im,Y="onPointerLeave",U="onPointerEnter",k="pointer"),Ue=H==null?G:_o(H),B=he==null?G:_o(he),G=new ce(Y,k+"leave",H,a,$),G.target=Ue,G.relatedTarget=B,Y=null,Qi($)===q&&(ce=new ce(U,k+"enter",he,a,$),ce.target=B,ce.relatedTarget=Ue,Y=ce),Ue=Y,H&&he)t:{for(ce=H,U=he,k=0,B=ce;B;B=Ps(B))k++;for(B=0,Y=U;Y;Y=Ps(Y))B++;for(;0<k-B;)ce=Ps(ce),k--;for(;0<B-k;)U=Ps(U),B--;for(;k--;){if(ce===U||U!==null&&ce===U.alternate)break t;ce=Ps(ce),U=Ps(U)}ce=null}else ce=null;H!==null&&Jg(K,G,H,ce,!1),he!==null&&Ue!==null&&Jg(K,Ue,he,ce,!0)}}e:{if(G=q?_o(q):window,H=G.nodeName&&G.nodeName.toLowerCase(),H==="select"||H==="input"&&G.type==="file")var se=fm;else if(um(G))if(dm)se=jx;else{se=Kx;var Te=Yx}else H=G.nodeName,!H||H.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&uu(q.elementType)&&(se=fm):se=Xx;if(se&&(se=se(s,q))){cm(K,se,a,$);break e}Te&&Te(s,G,q),s==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&lu(G,"number",G.value)}switch(Te=q?_o(q):window,s){case"focusin":(um(Te)||Te.contentEditable==="true")&&(ls=Te,xu=q,Do=null);break;case"focusout":Do=xu=ls=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,Sm(K,a,$);break;case"selectionchange":if(Qx)break;case"keydown":case"keyup":Sm(K,a,$)}var le;if(Tu)e:{switch(s){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else as?am(s,a)&&(fe="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&(sm&&a.locale!=="ko"&&(as||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&as&&(le=Zh()):(Gn=$,mu="value"in Gn?Gn.value:Gn.textContent,as=!0)),Te=$a(q,fe),0<Te.length&&(fe=new nm(fe,s,null,a,$),K.push({event:fe,listeners:Te}),le?fe.data=le:(le=lm(a),le!==null&&(fe.data=le)))),(le=Hx?zx(s,a):Fx(s,a))&&(fe=$a(q,"onBeforeInput"),0<fe.length&&(Te=new nm("onBeforeInput","beforeinput",null,a,$),K.push({event:Te,listeners:fe}),Te.data=le)),kE(K,s,q,a,$)}Fg(K,o)})}function sr(s,o,a){return{instance:s,listener:o,currentTarget:a}}function $a(s,o){for(var a=o+"Capture",d=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Co(s,a),g!=null&&d.unshift(sr(s,g,v)),g=Co(s,o),g!=null&&d.push(sr(s,g,v))),s.tag===3)return d;s=s.return}return[]}function Ps(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Jg(s,o,a,d,g){for(var v=o._reactName,_=[];a!==null&&a!==d;){var w=a,R=w.alternate,q=w.stateNode;if(w=w.tag,R!==null&&R===d)break;w!==5&&w!==26&&w!==27||q===null||(R=q,g?(q=Co(a,v),q!=null&&_.unshift(sr(a,q,R))):g||(q=Co(a,v),q!=null&&_.push(sr(a,q,R)))),a=a.return}_.length!==0&&s.push({event:o,listeners:_})}var OE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function Yg(s){return(typeof s=="string"?s:""+s).replace(OE,`
`).replace(BE,"")}function Kg(s,o){return o=Yg(o),Yg(s)===o}function Ja(){}function ke(s,o,a,d,g,v){switch(a){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ss(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ss(s,""+d);break;case"className":Wr(s,"class",d);break;case"tabIndex":Wr(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Wr(s,a,d);break;case"style":jh(s,d,v);break;case"data":if(o!=="object"){Wr(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||a!=="href")){s.removeAttribute(a);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(a);break}d=ea(""+d),s.setAttribute(a,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(o!=="input"&&ke(s,o,"name",g.name,g,null),ke(s,o,"formEncType",g.formEncType,g,null),ke(s,o,"formMethod",g.formMethod,g,null),ke(s,o,"formTarget",g.formTarget,g,null)):(ke(s,o,"encType",g.encType,g,null),ke(s,o,"method",g.method,g,null),ke(s,o,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(a);break}d=ea(""+d),s.setAttribute(a,d);break;case"onClick":d!=null&&(s.onclick=Ja);break;case"onScroll":d!=null&&_e("scroll",s);break;case"onScrollEnd":d!=null&&_e("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}a=ea(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,""+d):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":d===!0?s.setAttribute(a,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,d):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(a,d):s.removeAttribute(a);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(a):s.setAttribute(a,d);break;case"popover":_e("beforetoggle",s),_e("toggle",s),jr(s,"popover",d);break;case"xlinkActuate":gn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":gn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":gn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":gn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":gn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":gn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":gn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":gn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":gn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":jr(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=px.get(a)||a,jr(s,a,d))}}function Yc(s,o,a,d,g,v){switch(a){case"style":jh(s,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"children":typeof d=="string"?ss(s,d):(typeof d=="number"||typeof d=="bigint")&&ss(s,""+d);break;case"onScroll":d!=null&&_e("scroll",s);break;case"onScrollEnd":d!=null&&_e("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),o=a.slice(2,g?a.length-7:void 0),v=s[Ct]||null,v=v!=null?v[a]:null,typeof v=="function"&&s.removeEventListener(o,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(o,d,g);break e}a in s?s[a]=d:d===!0?s.setAttribute(a,""):jr(s,a,d)}}}function ft(s,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",s),_e("load",s);var d=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var _=a[v];if(_!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(s,o,v,_,a,null)}}g&&ke(s,o,"srcSet",a.srcSet,a,null),d&&ke(s,o,"src",a.src,a,null);return;case"input":_e("invalid",s);var w=v=_=g=null,R=null,q=null;for(d in a)if(a.hasOwnProperty(d)){var $=a[d];if($!=null)switch(d){case"name":g=$;break;case"type":_=$;break;case"checked":R=$;break;case"defaultChecked":q=$;break;case"value":v=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,o));break;default:ke(s,o,d,$,a,null)}}Jh(s,v,w,R,q,_,g,!1),Qr(s);return;case"select":_e("invalid",s),d=_=v=null;for(g in a)if(a.hasOwnProperty(g)&&(w=a[g],w!=null))switch(g){case"value":v=w;break;case"defaultValue":_=w;break;case"multiple":d=w;default:ke(s,o,g,w,a,null)}o=v,a=_,s.multiple=!!d,o!=null?is(s,!!d,o,!1):a!=null&&is(s,!!d,a,!0);return;case"textarea":_e("invalid",s),v=g=d=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":d=w;break;case"defaultValue":g=w;break;case"children":v=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ke(s,o,_,w,a,null)}Kh(s,d,g,v),Qr(s);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(d=a[R],d!=null))switch(R){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ke(s,o,R,d,a,null)}return;case"dialog":_e("beforetoggle",s),_e("toggle",s),_e("cancel",s),_e("close",s);break;case"iframe":case"object":_e("load",s);break;case"video":case"audio":for(d=0;d<ir.length;d++)_e(ir[d],s);break;case"image":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"embed":case"source":case"link":_e("error",s),_e("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(d=a[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(s,o,q,d,a,null)}return;default:if(uu(o)){for($ in a)a.hasOwnProperty($)&&(d=a[$],d!==void 0&&Yc(s,o,$,d,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(d=a[w],d!=null&&ke(s,o,w,d,a,null))}function qE(s,o,a,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,_=null,w=null,R=null,q=null,$=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=K;default:d.hasOwnProperty(H)||ke(s,o,H,null,d,K)}}for(var G in d){var H=d[G];if(K=a[G],d.hasOwnProperty(G)&&(H!=null||K!=null))switch(G){case"type":v=H;break;case"name":g=H;break;case"checked":q=H;break;case"defaultChecked":$=H;break;case"value":_=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,o));break;default:H!==K&&ke(s,o,G,H,d,K)}}au(s,_,w,R,q,$,v,g);return;case"select":H=_=w=G=null;for(v in a)if(R=a[v],a.hasOwnProperty(v)&&R!=null)switch(v){case"value":break;case"multiple":H=R;default:d.hasOwnProperty(v)||ke(s,o,v,null,d,R)}for(g in d)if(v=d[g],R=a[g],d.hasOwnProperty(g)&&(v!=null||R!=null))switch(g){case"value":G=v;break;case"defaultValue":w=v;break;case"multiple":_=v;default:v!==R&&ke(s,o,g,v,d,R)}o=w,a=_,d=H,G!=null?is(s,!!a,G,!1):!!d!=!!a&&(o!=null?is(s,!!a,o,!0):is(s,!!a,a?[]:"",!1));return;case"textarea":H=G=null;for(w in a)if(g=a[w],a.hasOwnProperty(w)&&g!=null&&!d.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ke(s,o,w,null,d,g)}for(_ in d)if(g=d[_],v=a[_],d.hasOwnProperty(_)&&(g!=null||v!=null))switch(_){case"value":G=g;break;case"defaultValue":H=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&ke(s,o,_,g,d,v)}Yh(s,G,H);return;case"option":for(var he in a)if(G=a[he],a.hasOwnProperty(he)&&G!=null&&!d.hasOwnProperty(he))switch(he){case"selected":s.selected=!1;break;default:ke(s,o,he,null,d,G)}for(R in d)if(G=d[R],H=a[R],d.hasOwnProperty(R)&&G!==H&&(G!=null||H!=null))switch(R){case"selected":s.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ke(s,o,R,G,d,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)G=a[ce],a.hasOwnProperty(ce)&&G!=null&&!d.hasOwnProperty(ce)&&ke(s,o,ce,null,d,G);for(q in d)if(G=d[q],H=a[q],d.hasOwnProperty(q)&&G!==H&&(G!=null||H!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,o));break;default:ke(s,o,q,G,d,H)}return;default:if(uu(o)){for(var Ue in a)G=a[Ue],a.hasOwnProperty(Ue)&&G!==void 0&&!d.hasOwnProperty(Ue)&&Yc(s,o,Ue,void 0,d,G);for($ in d)G=d[$],H=a[$],!d.hasOwnProperty($)||G===H||G===void 0&&H===void 0||Yc(s,o,$,G,d,H);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!d.hasOwnProperty(U)&&ke(s,o,U,null,d,G);for(K in d)G=d[K],H=a[K],!d.hasOwnProperty(K)||G===H||G==null&&H==null||ke(s,o,K,G,d,H)}var Kc=null,Xc=null;function Ya(s){return s.nodeType===9?s:s.ownerDocument}function Xg(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jg(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function jc(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Wc=null;function GE(){var s=window.event;return s&&s.type==="popstate"?s===Wc?!1:(Wc=s,!0):(Wc=null,!1)}var Wg=typeof setTimeout=="function"?setTimeout:void 0,HE=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(s){return Qg.resolve(null).then(s).catch(FE)}:Wg;function FE(s){setTimeout(function(){throw s})}function ii(s){return s==="head"}function Zg(s,o){var a=o,d=0,g=0;do{var v=a.nextSibling;if(s.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"){if(0<d&&8>d){a=d;var _=s.ownerDocument;if(a&1&&or(_.documentElement),a&2&&or(_.body),a&4)for(a=_.head,or(a),_=a.firstChild;_;){var w=_.nextSibling,R=_.nodeName;_[So]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=w}}if(g===0){s.removeChild(v),hr(o);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:d=a.charCodeAt(0)-48;else d=0;a=v}while(a);hr(o)}function Qc(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qc(a),iu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function $E(s,o,a,d){for(;s.nodeType===1;){var g=a;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[So])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Zt(s.nextSibling),s===null)break}return null}function JE(s,o,a){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Zt(s.nextSibling),s===null))return null;return s}function Zc(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function YE(s,o){var a=s.ownerDocument;if(s.data!=="$?"||a.readyState==="complete")o();else{var d=function(){o(),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Zt(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var ef=null;function ey(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return s;o--}else a==="/$"&&o++}s=s.previousSibling}return null}function ty(s,o,a){switch(o=Ya(a),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function or(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);iu(s)}var Yt=new Map,ny=new Set;function Ka(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Dn=j.d;j.d={f:KE,r:XE,D:jE,C:WE,L:QE,m:ZE,X:tw,S:ew,M:nw};function KE(){var s=Dn.f(),o=Ba();return s||o}function XE(s){var o=Zi(s);o!==null&&o.tag===5&&o.type==="form"?Cp(o):Dn.r(s)}var Is=typeof document>"u"?null:document;function iy(s,o,a){var d=Is;if(d&&typeof o=="string"&&o){var g=qt(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),ny.has(g)||(ny.add(g),s={rel:s,crossOrigin:a,href:o},d.querySelector(g)===null&&(o=d.createElement("link"),ft(o,"link",s),nt(o),d.head.appendChild(o)))}}function jE(s){Dn.D(s),iy("dns-prefetch",s,null)}function WE(s,o){Dn.C(s,o),iy("preconnect",s,o)}function QE(s,o,a){Dn.L(s,o,a);var d=Is;if(d&&s&&o){var g='link[rel="preload"][as="'+qt(o)+'"]';o==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+qt(a.imageSizes)+'"]')):g+='[href="'+qt(s)+'"]';var v=g;switch(o){case"style":v=ks(s);break;case"script":v=Us(s)}Yt.has(v)||(s=y({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:s,as:o},a),Yt.set(v,s),d.querySelector(g)!==null||o==="style"&&d.querySelector(rr(v))||o==="script"&&d.querySelector(ar(v))||(o=d.createElement("link"),ft(o,"link",s),nt(o),d.head.appendChild(o)))}}function ZE(s,o){Dn.m(s,o);var a=Is;if(a&&s){var d=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+qt(d)+'"][href="'+qt(s)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Us(s)}if(!Yt.has(v)&&(s=y({rel:"modulepreload",href:s},o),Yt.set(v,s),a.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ar(v)))return}d=a.createElement("link"),ft(d,"link",s),nt(d),a.head.appendChild(d)}}}function ew(s,o,a){Dn.S(s,o,a);var d=Is;if(d&&s){var g=es(d).hoistableStyles,v=ks(s);o=o||"default";var _=g.get(v);if(!_){var w={loading:0,preload:null};if(_=d.querySelector(rr(v)))w.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":o},a),(a=Yt.get(v))&&tf(s,a);var R=_=d.createElement("link");nt(R),ft(R,"link",s),R._p=new Promise(function(q,$){R.onload=q,R.onerror=$}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Xa(_,o,d)}_={type:"stylesheet",instance:_,count:1,state:w},g.set(v,_)}}}function tw(s,o){Dn.X(s,o);var a=Is;if(a&&s){var d=es(a).hoistableScripts,g=Us(s),v=d.get(g);v||(v=a.querySelector(ar(g)),v||(s=y({src:s,async:!0},o),(o=Yt.get(g))&&nf(s,o),v=a.createElement("script"),nt(v),ft(v,"link",s),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function nw(s,o){Dn.M(s,o);var a=Is;if(a&&s){var d=es(a).hoistableScripts,g=Us(s),v=d.get(g);v||(v=a.querySelector(ar(g)),v||(s=y({src:s,async:!0,type:"module"},o),(o=Yt.get(g))&&nf(s,o),v=a.createElement("script"),nt(v),ft(v,"link",s),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function sy(s,o,a,d){var g=(g=me.current)?Ka(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=ks(a.href),a=es(g).hoistableStyles,d=a.get(o),d||(d={type:"style",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=ks(a.href);var v=es(g).hoistableStyles,_=v.get(s);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,_),(v=g.querySelector(rr(s)))&&!v._p&&(_.instance=v,_.state.loading=5),Yt.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(s,a),v||iw(g,s,a,_.state))),o&&d===null)throw Error(i(528,""));return _}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Us(a),a=es(g).hoistableScripts,d=a.get(o),d||(d={type:"script",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ks(s){return'href="'+qt(s)+'"'}function rr(s){return'link[rel="stylesheet"]['+s+"]"}function oy(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function iw(s,o,a,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),ft(o,"link",a),nt(o),s.head.appendChild(o))}function Us(s){return'[src="'+qt(s)+'"]'}function ar(s){return"script[async]"+s}function ry(s,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+qt(a.href)+'"]');if(d)return o.instance=d,nt(d),d;var g=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),nt(d),ft(d,"style",g),Xa(d,a.precedence,s),o.instance=d;case"stylesheet":g=ks(a.href);var v=s.querySelector(rr(g));if(v)return o.state.loading|=4,o.instance=v,nt(v),v;d=oy(a),(g=Yt.get(g))&&tf(d,g),v=(s.ownerDocument||s).createElement("link"),nt(v);var _=v;return _._p=new Promise(function(w,R){_.onload=w,_.onerror=R}),ft(v,"link",d),o.state.loading|=4,Xa(v,a.precedence,s),o.instance=v;case"script":return v=Us(a.src),(g=s.querySelector(ar(v)))?(o.instance=g,nt(g),g):(d=a,(g=Yt.get(v))&&(d=y({},a),nf(d,g)),s=s.ownerDocument||s,g=s.createElement("script"),nt(g),ft(g,"link",d),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Xa(d,a.precedence,s));return o.instance}function Xa(s,o,a){for(var d=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,_=0;_<d.length;_++){var w=d[_];if(w.dataset.precedence===o)v=w;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(s,o.firstChild))}function tf(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function nf(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var ja=null;function ay(s,o,a){if(ja===null){var d=new Map,g=ja=new Map;g.set(a,d)}else g=ja,d=g.get(a),d||(d=new Map,g.set(a,d));if(d.has(s))return d;for(d.set(s,null),a=a.getElementsByTagName(s),g=0;g<a.length;g++){var v=a[g];if(!(v[So]||v[dt]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(o)||"";_=s+_;var w=d.get(_);w?w.push(v):d.set(_,[v])}}return d}function ly(s,o,a){s=s.ownerDocument||s,s.head.insertBefore(a,o==="title"?s.querySelector("head > title"):null)}function sw(s,o,a){if(a===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function uy(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var lr=null;function ow(){}function rw(s,o,a){if(lr===null)throw Error(i(475));var d=lr;if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=ks(a.href),v=s.querySelector(rr(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Wa.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=v,nt(v);return}v=s.ownerDocument||s,a=oy(a),(g=Yt.get(g))&&tf(a,g),v=v.createElement("link"),nt(v);var _=v;_._p=new Promise(function(w,R){_.onload=w,_.onerror=R}),ft(v,"link",a),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Wa.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function aw(){if(lr===null)throw Error(i(475));var s=lr;return s.stylesheets&&s.count===0&&sf(s,s.stylesheets),0<s.count?function(o){var a=setTimeout(function(){if(s.stylesheets&&sf(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(a)}}:null}function Wa(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qa=null;function sf(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qa=new Map,o.forEach(lw,s),Qa=null,Wa.call(s))}function lw(s,o){if(!(o.state.loading&4)){var a=Qa.get(s);if(a)var d=a.get(null);else{a=new Map,Qa.set(s,a);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var _=g[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),d=_)}d&&a.set(null,d)}g=o.instance,_=g.getAttribute("data-precedence"),v=a.get(_)||d,v===d&&a.set(null,g),a.set(_,g),this.count++,d=Wa.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var ur={$$typeof:M,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function uw(s,o,a,d,g,v,_,w){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.hiddenUpdates=Zl(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function cy(s,o,a,d,g,v,_,w,R,q,$,K){return s=new uw(s,o,a,_,w,R,q,K),o=1,v===!0&&(o|=24),v=Pt(3,null,null,o),s.current=v,v.stateNode=s,o=Ou(),o.refCount++,s.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:a,cache:o},Hu(v),s}function fy(s){return s?(s=ds,s):ds}function dy(s,o,a,d,g,v){g=fy(g),d.context===null?d.context=g:d.pendingContext=g,d=Fn(o),d.payload={element:a},v=v===void 0?null:v,v!==null&&(d.callback=v),a=$n(s,d,o),a!==null&&(Vt(a,s,o),Bo(a,s,o))}function hy(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<o?a:o}}function of(s,o){hy(s,o),(s=s.alternate)&&hy(s,o)}function my(s){if(s.tag===13){var o=fs(s,67108864);o!==null&&Vt(o,s,67108864),of(s,67108864)}}var Za=!0;function cw(s,o,a,d){var g=F.T;F.T=null;var v=j.p;try{j.p=2,rf(s,o,a,d)}finally{j.p=v,F.T=g}}function fw(s,o,a,d){var g=F.T;F.T=null;var v=j.p;try{j.p=8,rf(s,o,a,d)}finally{j.p=v,F.T=g}}function rf(s,o,a,d){if(Za){var g=af(d);if(g===null)Jc(s,o,d,el,a),gy(s,d);else if(hw(g,s,o,a,d))d.stopPropagation();else if(gy(s,d),o&4&&-1<dw.indexOf(s)){for(;g!==null;){var v=Zi(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=vi(v.pendingLanes);if(_!==0){var w=v;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var R=1<<31-Dt(_);w.entanglements[1]|=R,_&=~R}un(v),(Re&6)===0&&(Va=sn()+500,nr(0))}}break;case 13:w=fs(v,2),w!==null&&Vt(w,v,2),Ba(),of(v,2)}if(v=af(d),v===null&&Jc(s,o,d,el,a),v===g)break;g=v}g!==null&&d.stopPropagation()}else Jc(s,o,d,null,a)}}function af(s){return s=fu(s),lf(s)}var el=null;function lf(s){if(el=null,s=Qi(s),s!==null){var o=l(s);if(o===null)s=null;else{var a=o.tag;if(a===13){if(s=c(o),s!==null)return s;s=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return el=s,null}function py(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(WC()){case Rh:return 2;case Dh:return 8;case Jr:case QC:return 32;case Nh:return 268435456;default:return 32}default:return 32}}var uf=!1,si=null,oi=null,ri=null,cr=new Map,fr=new Map,ai=[],dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(s,o){switch(s){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":cr.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(o.pointerId)}}function dr(s,o,a,d,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:a,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Zi(o),o!==null&&my(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function hw(s,o,a,d,g){switch(o){case"focusin":return si=dr(si,s,o,a,d,g),!0;case"dragenter":return oi=dr(oi,s,o,a,d,g),!0;case"mouseover":return ri=dr(ri,s,o,a,d,g),!0;case"pointerover":var v=g.pointerId;return cr.set(v,dr(cr.get(v)||null,s,o,a,d,g)),!0;case"gotpointercapture":return v=g.pointerId,fr.set(v,dr(fr.get(v)||null,s,o,a,d,g)),!0}return!1}function yy(s){var o=Qi(s.target);if(o!==null){var a=l(o);if(a!==null){if(o=a.tag,o===13){if(o=c(a),o!==null){s.blockedOn=o,rx(s.priority,function(){if(a.tag===13){var d=Lt();d=eu(d);var g=fs(a,d);g!==null&&Vt(g,a,d),of(a,d)}});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tl(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var a=af(s.nativeEvent);if(a===null){a=s.nativeEvent;var d=new a.constructor(a.type,a);cu=d,a.target.dispatchEvent(d),cu=null}else return o=Zi(a),o!==null&&my(o),s.blockedOn=a,!1;o.shift()}return!0}function vy(s,o,a){tl(s)&&a.delete(o)}function mw(){uf=!1,si!==null&&tl(si)&&(si=null),oi!==null&&tl(oi)&&(oi=null),ri!==null&&tl(ri)&&(ri=null),cr.forEach(vy),fr.forEach(vy)}function nl(s,o){s.blockedOn===o&&(s.blockedOn=null,uf||(uf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mw)))}var il=null;function Ty(s){il!==s&&(il=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){il===s&&(il=null);for(var o=0;o<s.length;o+=3){var a=s[o],d=s[o+1],g=s[o+2];if(typeof d!="function"){if(lf(d||a)===null)continue;break}var v=Zi(a);v!==null&&(s.splice(o,3),o-=3,ac(v,{pending:!0,data:g,method:a.method,action:d},d,g))}}))}function hr(s){function o(R){return nl(R,s)}si!==null&&nl(si,s),oi!==null&&nl(oi,s),ri!==null&&nl(ri,s),cr.forEach(o),fr.forEach(o);for(var a=0;a<ai.length;a++){var d=ai[a];d.blockedOn===s&&(d.blockedOn=null)}for(;0<ai.length&&(a=ai[0],a.blockedOn===null);)yy(a),a.blockedOn===null&&ai.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(d=0;d<a.length;d+=3){var g=a[d],v=a[d+1],_=g[Ct]||null;if(typeof v=="function")_||Ty(a);else if(_){var w=null;if(v&&v.hasAttribute("formAction")){if(g=v,_=v[Ct]||null)w=_.formAction;else if(lf(g)!==null)continue}else w=_.action;typeof w=="function"?a[d+1]=w:(a.splice(d,3),d-=3),Ty(a)}}}function cf(s){this._internalRoot=s}sl.prototype.render=cf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var a=o.current,d=Lt();dy(a,d,s,o,null,null)},sl.prototype.unmount=cf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;dy(s.current,2,null,s,null,null),Ba(),o[Wi]=null}};function sl(s){this._internalRoot=s}sl.prototype.unstable_scheduleHydration=function(s){if(s){var o=Lh();s={blockedOn:null,target:s,priority:o};for(var a=0;a<ai.length&&o!==0&&o<ai[a].priority;a++);ai.splice(a,0,s),a===0&&yy(s)}};var Sy=e.version;if(Sy!=="19.1.1")throw Error(i(527,Sy,"19.1.1"));j.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var pw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{yo=ol.inject(pw),Rt=ol}catch{}}return pr.createRoot=function(s,o){if(!r(s))throw Error(i(299));var a=!1,d="",g=Lp,v=Vp,_=Op,w=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(w=o.unstable_transitionCallbacks)),o=cy(s,1,!1,null,null,a,d,g,v,_,w,null),s[Wi]=o.current,$c(s),new cf(o)},pr.hydrateRoot=function(s,o,a){if(!r(s))throw Error(i(299));var d=!1,g="",v=Lp,_=Vp,w=Op,R=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),o=cy(s,1,!0,o,a??null,d,g,v,_,w,R,q),o.context=fy(null),a=o.current,d=Lt(),d=eu(d),g=Fn(d),g.callback=null,$n(a,g,d),a=d,o.current.lanes=a,To(o,a),un(o),s[Wi]=o.current,$c(s),new sl(o)},pr.version="19.1.1",pr}var Dy;function Aw(){if(Dy)return hf.exports;Dy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hf.exports=bw(),hf.exports}var Mw=Aw();const Rw=kd(Mw),Dw="modulepreload",Nw=function(t){return"/"+t},Ny={},Or=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=c(n.map(m=>{if(m=Nw(m),m in Ny)return;Ny[m]=!0;const y=m.endsWith(".css"),T=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${T}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":Dw,y||(S.as="script"),S.crossOrigin="",S.href=m,p&&S.setAttribute("nonce",p),document.head.appendChild(S),y)return new Promise((C,b)=>{S.addEventListener("load",C),S.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},Pw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Or(async()=>{const{default:i}=await Promise.resolve().then(()=>lo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class Ld extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class Iw extends Ld{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Py extends Ld{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Iy extends Ld{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $f;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($f||($f={}));var kw=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class Uw{constructor(e,{headers:n={},customFetch:i,region:r=$f.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=Pw(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return kw(this,void 0,void 0,function*(){try{const{headers:r,method:l,body:c}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;c&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)));const T=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),r),body:y}).catch(E=>{throw new Iw(E)}),S=T.headers.get("x-relay-error");if(S&&S==="true")throw new Py(T);if(!T.ok)throw new Iy(T);let C=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return C==="application/json"?b=yield T.json():C==="application/octet-stream"?b=yield T.blob():C==="text/event-stream"?b=T:C==="multipart/form-data"?b=yield T.formData():b=yield T.text(),{data:b,error:null,response:T}}catch(r){return{data:null,error:r,response:r instanceof Iy||r instanceof Py?r.context:void 0}}})}}var rt={},Ls={},Vs={},Os={},Bs={},qs={},Lw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oo=Lw();const Vw=oo.fetch,tS=oo.fetch.bind(oo),nS=oo.Headers,Ow=oo.Request,Bw=oo.Response,lo=Object.freeze(Object.defineProperty({__proto__:null,Headers:nS,Request:Ow,Response:Bw,default:tS,fetch:Vw},Symbol.toStringTag,{value:"Module"})),qw=yw(lo);var rl={},ky;function iS(){if(ky)return rl;ky=1,Object.defineProperty(rl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return rl.default=t,rl}var Uy;function sS(){if(Uy)return qs;Uy=1;var t=qs&&qs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qs,"__esModule",{value:!0});const e=t(qw),n=t(iS());class i{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,T,S;let C=null,b=null,E=null,A=m.status,D=m.statusText;if(m.ok){if(this.method!=="HEAD"){const N=await m.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=N:b=JSON.parse(N))}const M=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),L=(T=m.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");M&&L&&L.length>1&&(E=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(C={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,E=null,A=406,D="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const M=await m.text();try{C=JSON.parse(M),Array.isArray(C)&&m.status===404&&(b=[],C=null,A=200,D="OK")}catch{m.status===404&&M===""?(A=204,D="No Content"):C={message:M}}if(C&&this.isMaybeSingle&&(!((S=C==null?void 0:C.details)===null||S===void 0)&&S.includes("0 rows"))&&(C=null,A=200,D="OK"),C&&this.shouldThrowOnError)throw new n.default(C)}return{error:C,data:b,count:E,status:A,statusText:D}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,T,S;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(T=m==null?void 0:m.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(S=m==null?void 0:m.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return qs.default=i,qs}var Ly;function oS(){if(Ly)return Bs;Ly=1;var t=Bs&&Bs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bs,"__esModule",{value:!0});const e=t(sS());class n extends e.default{select(r){let l=!1;const c=(r??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${r}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${r}`),this}range(r,l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${r}`),this.url.searchParams.set(m,`${l-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var y;const T=[r?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${S}"; options=${T};`,m==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Bs.default=n,Bs}var Vy;function Vd(){if(Vy)return Os;Vy=1;var t=Os&&Os.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Os,"__esModule",{value:!0});const e=t(oS());class n extends e.default{eq(r,l){return this.url.searchParams.append(r,`eq.${l}`),this}neq(r,l){return this.url.searchParams.append(r,`neq.${l}`),this}gt(r,l){return this.url.searchParams.append(r,`gt.${l}`),this}gte(r,l){return this.url.searchParams.append(r,`gte.${l}`),this}lt(r,l){return this.url.searchParams.append(r,`lt.${l}`),this}lte(r,l){return this.url.searchParams.append(r,`lte.${l}`),this}like(r,l){return this.url.searchParams.append(r,`like.${l}`),this}likeAllOf(r,l){return this.url.searchParams.append(r,`like(all).{${l.join(",")}}`),this}likeAnyOf(r,l){return this.url.searchParams.append(r,`like(any).{${l.join(",")}}`),this}ilike(r,l){return this.url.searchParams.append(r,`ilike.${l}`),this}ilikeAllOf(r,l){return this.url.searchParams.append(r,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(r,l){return this.url.searchParams.append(r,`ilike(any).{${l.join(",")}}`),this}is(r,l){return this.url.searchParams.append(r,`is.${l}`),this}in(r,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(r,`in.(${c})`),this}contains(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cs.{${l.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(l)}`),this}containedBy(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cd.{${l.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(l)}`),this}rangeGt(r,l){return this.url.searchParams.append(r,`sr.${l}`),this}rangeGte(r,l){return this.url.searchParams.append(r,`nxl.${l}`),this}rangeLt(r,l){return this.url.searchParams.append(r,`sl.${l}`),this}rangeLte(r,l){return this.url.searchParams.append(r,`nxr.${l}`),this}rangeAdjacent(r,l){return this.url.searchParams.append(r,`adj.${l}`),this}overlaps(r,l){return typeof l=="string"?this.url.searchParams.append(r,`ov.${l}`):this.url.searchParams.append(r,`ov.{${l.join(",")}}`),this}textSearch(r,l,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(r,`${p}fts${m}.${l}`),this}match(r){return Object.entries(r).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(r,l,c){return this.url.searchParams.append(r,`not.${l}.${c}`),this}or(r,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${r})`),this}filter(r,l,c){return this.url.searchParams.append(r,`${l}.${c}`),this}}return Os.default=n,Os}var Oy;function rS(){if(Oy)return Vs;Oy=1;var t=Vs&&Vs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vs,"__esModule",{value:!0});const e=t(Vd());class n{constructor(r,{headers:l={},schema:c,fetch:h}){this.url=r,this.headers=l,this.schema=c,this.fetch=h}select(r,{head:l=!1,count:c}={}){const h=l?"HEAD":"GET";let p=!1;const m=(r??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:l,defaultToNull:c=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),l&&p.push(`count=${l}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(r)){const m=r.reduce((y,T)=>y.concat(Object.keys(T)),[]);if(m.length>0){const y=[...new Set(m)].map(T=>`"${T}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){const m="POST",y=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(r)){const T=r.reduce((S,C)=>S.concat(Object.keys(C)),[]);if(T.length>0){const S=[...new Set(T)].map(C=>`"${C}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:l}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const l="DELETE",c=[];return r&&c.push(`count=${r}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Vs.default=n,Vs}var gr={},yr={},By;function Gw(){return By||(By=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.version=void 0,yr.version="0.0.0-automated"),yr}var qy;function Hw(){if(qy)return gr;qy=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.DEFAULT_HEADERS=void 0;const t=Gw();return gr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},gr}var Gy;function zw(){if(Gy)return Ls;Gy=1;var t=Ls&&Ls.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ls,"__esModule",{value:!0});const e=t(rS()),n=t(Vd()),i=Hw();class r{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new r(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){let T;const S=new URL(`${this.url}/rpc/${c}`);let C;p||m?(T=p?"HEAD":"GET",Object.entries(h).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{S.searchParams.append(E,A)})):(T="POST",C=h);const b=Object.assign({},this.headers);return y&&(b.Prefer=`count=${y}`),new n.default({method:T,url:S,headers:b,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return Ls.default=r,Ls}var Hy;function Fw(){if(Hy)return rt;Hy=1;var t=rt&&rt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(rt,"__esModule",{value:!0}),rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const e=t(zw());rt.PostgrestClient=e.default;const n=t(rS());rt.PostgrestQueryBuilder=n.default;const i=t(Vd());rt.PostgrestFilterBuilder=i.default;const r=t(oS());rt.PostgrestTransformBuilder=r.default;const l=t(sS());rt.PostgrestBuilder=l.default;const c=t(iS());return rt.PostgrestError=c.default,rt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:l.default,PostgrestError:c.default},rt}var $w=Fw();const Jw=kd($w),{PostgrestClient:Yw,PostgrestQueryBuilder:DB,PostgrestFilterBuilder:NB,PostgrestTransformBuilder:PB,PostgrestBuilder:IB,PostgrestError:kB}=Jw;function Kw(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Xw=Kw(),jw="2.11.15",Ww=`realtime-js/${jw}`,Qw="1.0.0",aS=1e4,Zw=1e3;var wr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wr||(wr={}));var pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pt||(pt={}));var nn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nn||(nn={}));var Jf;(function(t){t.websocket="websocket"})(Jf||(Jf={}));var Hi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Hi||(Hi={}));class eb{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+r));c=c+r;const p=i.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class lS{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Be||(Be={}));const zy=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((l,c)=>(l[c]=tb(c,t,e,r),l),{})},tb=(t,e,n,i)=>{const r=e.find(h=>h.name===t),l=r==null?void 0:r.type,c=n[t];return l&&!i.includes(l)?uS(l,c):Yf(c)},uS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ob(e,n)}switch(t){case Be.bool:return nb(e);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return ib(e);case Be.json:case Be.jsonb:return sb(e);case Be.timestamp:return rb(e);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Yf(e);default:return Yf(e)}},Yf=t=>t,nb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ib=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ob=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>uS(e,h))}return t},rb=t=>typeof t=="string"?t.replace(" ","T"):t,cS=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class yf{constructor(e,n,i={},r=aS){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Fy||(Fy={}));class br{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=br.syncState(this.state,r,l,c),this.pendingDiffs.forEach(p=>{this.state=br.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=br.syncDiff(this.state,r,l,c),h())}),this.onJoin((r,l,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:l,newPresences:c})}),this.onLeave((r,l,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const l=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(l,(m,y)=>{c[m]||(p[m]=y)}),this.map(c,(m,y)=>{const T=l[m];if(T){const S=y.map(A=>A.presence_ref),C=T.map(A=>A.presence_ref),b=y.filter(A=>C.indexOf(A.presence_ref)<0),E=T.filter(A=>S.indexOf(A.presence_ref)<0);b.length>0&&(h[m]=b),E.length>0&&(p[m]=E)}else h[m]=y}),this.syncDiff(l,{joins:h,leaves:p},i,r)}static syncDiff(e,n,i,r){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(l,(h,p)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),y.length>0){const T=e[h].map(C=>C.presence_ref),S=y.filter(C=>T.indexOf(C.presence_ref)<0);e[h].unshift(...S)}i(h,y,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const y=p.map(T=>T.presence_ref);m=m.filter(T=>y.indexOf(T.presence_ref)<0),e[h]=m,r(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $y;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($y||($y={}));var Jy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Jy||(Jy={}));var Pn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class Od{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yf(this,nn.join,this.params,this.timeout),this.rejoinTimer=new lS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new br(this),this.broadcastEndpointURL=cS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:l,presence:c,private:h}}=this.params;this._onError(y=>e==null?void 0:e(Pn.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Pn.CLOSED));const p={},m={broadcast:l,presence:c,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&r!==void 0?r:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var T;if(this.socket.setAuth(),y===void 0){e==null||e(Pn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(T=S==null?void 0:S.length)!==null&&T!==void 0?T:0,b=[];for(let E=0;E<C;E++){const A=S[E],{filter:{event:D,schema:I,table:M,filter:L}}=A,N=y&&y[E];if(N&&N.event===D&&N.schema===I&&N.table===M&&N.filter===L)b.push(Object.assign(Object.assign({},A),{id:N.id}));else{this.unsubscribe(),this.state=pt.errored,e==null||e(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Pn.SUBSCRIBED);return}}).receive("error",y=>{this.state=pt.errored,e==null||e(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=m.body)===null||r===void 0?void 0:r.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new yf(this,nn.leave,{},e),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const r=new AbortController,l=setTimeout(()=>r.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(l),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new yf(this,e,n,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,l;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:y}=nn;if(i&&[h,p,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let S=this._onMessage(c,n,i);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(C=>{var b,E,A;return((b=C.filter)===null||b===void 0?void 0:b.event)==="*"||((A=(E=C.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(C=>C.callback(S,i)):(l=this.bindings[c])===null||l===void 0||l.filter(C=>{var b,E,A,D,I,M;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in C){const L=C.id,N=(b=C.filter)===null||b===void 0?void 0:b.event;return L&&((E=n.ids)===null||E===void 0?void 0:E.includes(L))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const L=(I=(D=C==null?void 0:C.filter)===null||D===void 0?void 0:D.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return L==="*"||L===((M=n==null?void 0:n.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===c}).map(C=>{if(typeof S=="object"&&"ids"in S){const b=S.data,{schema:E,table:A,commit_timestamp:D,type:I,errors:M}=b;S=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:D,eventType:I,new:{},old:{},errors:M}),this._getPayloadRecords(b))}C.callback(S,i)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),l={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(l):this.bindings[r]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var l;return!(((l=r.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Od.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nn.close,{},e)}_onError(e){this._on(nn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=zy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=zy(e.columns,e.old_record)),n}}const Yy=()=>{},ab=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lb{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=aS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yy,this.ref=0,this.logger=Yy,this.conn=null,this.sendBuffer=[],this.serializer=new eb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...h)=>Or(async()=>{const{default:p}=await Promise.resolve().then(()=>lo);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${Jf.websocket}`,this.httpEndpoint=cS(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,c)=>c(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Xw),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Qw}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return Hi.Connecting;case wr.open:return Hi.Open;case wr.closing:return Hi.Closing;default:return Hi.Closed}}isConnected(){return this.connectionState()===Hi.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(l=>l.topic===i);if(r)return r;{const l=new Od(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:r,ref:l}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${l})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:Ww};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(nn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Zw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:r,payload:l,ref:c}=n;i==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${i} ${r} ${c&&"("+c+")"||""}`,l),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(r,l,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(nn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([ab],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class Bd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function at(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ub extends Bd{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kf extends Bd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var cb=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const fS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Or(async()=>{const{default:i}=await Promise.resolve().then(()=>lo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},fb=()=>cb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Or(()=>Promise.resolve().then(()=>lo),void 0)).Response:Response}),Xf=t=>{if(Array.isArray(t))return t.map(n=>Xf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[r]=Xf(i)}),e},db=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Yi=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const vf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hb=(t,e,n)=>Yi(void 0,void 0,void 0,function*(){const i=yield fb();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const l=t.status||500,c=(r==null?void 0:r.statusCode)||l+"";e(new ub(vf(r),l,c))}).catch(r=>{e(new Kf(vf(r),r))}):e(new Kf(vf(t),t))}),mb=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?r:(db(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i)):r.body=i,Object.assign(Object.assign({},r),n))};function Br(t,e,n,i,r,l){return Yi(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(n,mb(e,i,r,l)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>hb(p,h,i))})})}function El(t,e,n,i){return Yi(this,void 0,void 0,function*(){return Br(t,"GET",e,n,i)})}function In(t,e,n,i,r){return Yi(this,void 0,void 0,function*(){return Br(t,"POST",e,i,r,n)})}function jf(t,e,n,i,r){return Yi(this,void 0,void 0,function*(){return Br(t,"PUT",e,i,r,n)})}function pb(t,e,n,i){return Yi(this,void 0,void 0,function*(){return Br(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function dS(t,e,n,i,r){return Yi(this,void 0,void 0,function*(){return Br(t,"DELETE",e,i,r,n)})}var At=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const gb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ky={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yb{constructor(e,n={},i,r){this.url=e,this.headers=n,this.bucketId=i,this.fetch=fS(r)}uploadOrUpdate(e,n,i,r){return At(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Ky),r);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),r!=null&&r.headers&&(h=Object.assign(Object.assign({},h),r.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),T=yield(e=="PUT"?jf:In)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:T.Id,fullPath:T.Key},error:null}}catch(l){if(at(l))return{data:null,error:l};throw l}})}upload(e,n,i){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return At(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Ky.upsert},r),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const T=yield jf(this.fetch,h.toString(),p,{headers:y});return{data:{path:l,fullPath:T.Key},error:null}}catch(p){if(at(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return At(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const l=yield In(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new Bd("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(at(i))return{data:null,error:i};throw i}})}update(e,n,i){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return At(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}copy(e,n,i){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield In(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return At(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),l=yield In(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return At(this,void 0,void 0,function*(){try{const r=yield In(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}download(e,n){return At(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield El(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(at(h))return{data:null,error:h};throw h}})}info(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield El(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xf(i),error:null}}catch(i){if(at(i))return{data:null,error:i};throw i}})}exists(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield pb(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(at(i)&&i instanceof Kf){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&r.push(l);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&r.push(p);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return At(this,void 0,void 0,function*(){try{return{data:yield dS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}list(e,n,i){return At(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},gb),n),{prefix:e||""});return{data:yield In(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const vb="2.10.4",Tb={"X-Client-Info":`storage-js/${vb}`};var Gs=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class Sb{constructor(e,n={},i,r){const l=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},Tb),n),this.fetch=fS(i)}listBuckets(){return Gs(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(at(e))return{data:null,error:e};throw e}})}getBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Gs(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(at(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Gs(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(at(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield dS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}}class _b extends Sb{constructor(e,n={},i,r){super(e,n,i,r)}from(e){return new yb(this.url,this.headers,e,this.fetch)}}const Cb="2.53.0";let _r="";typeof Deno<"u"?_r="deno":typeof document<"u"?_r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_r="react-native":_r="node";const xb={"X-Client-Info":`supabase-js-${_r}/${Cb}`},Eb={headers:xb},wb={schema:"public"},bb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ab={};var Mb=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const Rb=t=>{let e;return t?e=t:typeof fetch>"u"?e=tS:e=fetch,(...n)=>e(...n)},Db=()=>typeof Headers>"u"?nS:Headers,Nb=(t,e,n)=>{const i=Rb(n),r=Db();return(l,c)=>Mb(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new r(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(l,Object.assign(Object.assign({},c),{headers:m}))})};var Pb=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function Ib(t){return t.endsWith("/")?t:t+"/"}function kb(t,e){var n,i;const{db:r,auth:l,realtime:c,global:h}=t,{db:p,auth:m,realtime:y,global:T}=e,S={db:Object.assign(Object.assign({},p),r),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},y),c),storage:{},global:Object.assign(Object.assign(Object.assign({},T),h),{headers:Object.assign(Object.assign({},(n=T==null?void 0:T.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Pb(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}const hS="2.71.1",Ys=30*1e3,Wf=3,Tf=Wf*Ys,Ub="http://localhost:9999",Lb="supabase.auth.token",Vb={"X-Client-Info":`gotrue-js/${hS}`},Qf="X-Supabase-Api-Version",mS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ob=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bb=600*1e3;class qd extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qb extends qd{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Gb(t){return pe(t)&&t.name==="AuthApiError"}class pS extends qd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class gi extends qd{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class ci extends gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hb(t){return pe(t)&&t.name==="AuthSessionMissingError"}class al extends gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ll extends gi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ul extends gi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zb(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Xy extends gi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zf extends gi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Sf(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class jy extends gi{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class ed extends gi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wy=` 	
\r=`.split(""),Fb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wy.length;e+=1)t[Wy[e].charCodeAt(0)]=-2;for(let e=0;e<wl.length;e+=1)t[wl[e].charCodeAt(0)]=e;return t})();function Qy(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(wl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(wl[i]),e.queuedBits-=6}}function gS(t,e,n){const i=Fb[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zy(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},l=c=>{Yb(c,i,n)};for(let c=0;c<t.length;c+=1)gS(t.charCodeAt(c),r,l);return e.join("")}function $b(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Jb(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}$b(i,e)}}function Yb(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Kb(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)gS(t.charCodeAt(r),n,i);return new Uint8Array(e)}function Xb(t){const e=[];return Jb(t,n=>e.push(n)),new Uint8Array(e)}function jb(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};return t.forEach(r=>Qy(r,n,i)),Qy(null,n,i),e.join("")}function Wb(t){return Math.round(Date.now()/1e3)+t}function Qb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const en=()=>typeof window<"u"&&typeof document<"u",Li={tested:!1,writable:!1},yS=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Li.tested)return Li.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Li.tested=!0,Li.writable=!0}catch{Li.tested=!0,Li.writable=!1}return Li.writable};function Zb(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,l)=>{e[l]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const vS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Or(async()=>{const{default:i}=await Promise.resolve().then(()=>lo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},eA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ks=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ui=async(t,e)=>{await t.removeItem(e)};class Vl{constructor(){this.promise=new Vl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Vl.promiseConstructor=Promise;function _f(t){const e=t.split(".");if(e.length!==3)throw new ed("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Ob.test(e[i]))throw new ed("JWT not in base64url format");return{header:JSON.parse(Zy(e[0])),payload:JSON.parse(Zy(e[1])),signature:Kb(e[2]),raw:{header:e[0],payload:e[1]}}}async function tA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nA(t,e){return new Promise((i,r)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){r(c);return}}})()})}function iA(t){return("0"+t.toString(16)).substr(-2)}function sA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let l=0;l<56;l++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,iA).join("")}async function oA(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(l=>String.fromCharCode(l)).join("")}async function rA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await oA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(t,e,n=!1){const i=sA();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await Ks(t,`${e}-code-verifier`,r);const l=await rA(i);return[l,i===l?"plain":"s256"]}const aA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lA(t){const e=t.headers.get(Qf);if(!e||!e.match(aA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function uA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function cA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zs(t){if(!fA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cf(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ev(t){return JSON.parse(JSON.stringify(t))}var dA=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Bi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hA=[502,503,504];async function tv(t){var e;if(!eA(t))throw new Zf(Bi(t),0);if(hA.includes(t.status))throw new Zf(Bi(t),t.status);let n;try{n=await t.json()}catch(l){throw new pS(Bi(l),l)}let i;const r=lA(t);if(r&&r.getTime()>=mS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new jy(Bi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ci}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new jy(Bi(n),t.status,n.weak_password.reasons);throw new qb(Bi(n),t.status||500,i)}const mA=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Ce(t,e,n,i){var r;const l=Object.assign({},i==null?void 0:i.headers);l[Qf]||(l[Qf]=mS["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await pA(t,e,n+h,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function pA(t,e,n,i,r,l){const c=mA(e,i,r,l);let h;try{h=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new Zf(Bi(p),0)}if(h.ok||await tv(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await tv(p)}}function Nn(t){var e;let n=null;TA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Wb(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function nv(t){const e=Nn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gA(t){return{data:t,error:null}}function yA(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:l}=t,c=dA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:l},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function vA(t){return t}function TA(t){return t.access_token&&t.refresh_token&&t.expires_in}const xf=["global","local","others"];var SA=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};class _A{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=vS(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=xf[0]){if(xf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xf.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hi})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=SA(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:yA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hi})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,l,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:vA});if(y.error)throw y.error;const T=await y.json(),S=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(b=>{const E=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(b.split(";")[1].split("=")[1]);m[`${A}Page`]=E}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},T),m),error:null}}catch(m){if(pe(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){zs(e);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hi})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){zs(e);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hi})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){zs(e);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hi})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){zs(e.userId);try{const{data:n,error:i}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){zs(e.userId),zs(e.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function iv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function CA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fs={debug:!!(globalThis&&yS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xA extends TS{}async function EA(t,e,n){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}CA();const wA={url:Ub,storageKey:Lb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sv(t,e,n){return await n()}const $s={};class Ir{constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ir.nextInstanceID,Ir.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},wA),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new _A({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=vS(r.fetch),this.lock=r.lock||sv,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=EA:this.lock=sv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:yS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iv(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=iv(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=$s[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=$s[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Zb(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),en()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),zb(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new pS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Nn}),{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,i,r;try{let l;if("email"in e){const{email:y,password:T,options:S}=e;let C=null,b=null;this.flowType==="pkce"&&([C,b]=await Hs(this.storage,this.storageKey)),l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:T,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:C,code_challenge_method:b},xform:Nn})}else if("phone"in e){const{phone:y,password:T,options:S}=e;l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:T,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},channel:(r=S==null?void 0:S.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Nn})}else throw new ll("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:h}=e;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:nv})}else if("phone"in e){const{phone:l,password:c,options:h}=e;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:nv})}else throw new ll("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new al}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,r,l,c,h,p,m,y,T,S,C;let b,E;if("message"in e)b=e.message,E=e.signature;else{const{chain:A,wallet:D,statement:I,options:M}=e;let L;if(en())if(typeof D=="object")L=D;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))L=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=D}const N=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const O=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),I?{statement:I}:null));let z;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")z=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)z=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)b=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(r=(i=M==null?void 0:M.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((l=M==null?void 0:M.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((c=M==null?void 0:M.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((T=(y=M==null?void 0:M.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||T===void 0)&&T.length?["Resources",...M.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const O=await L.signMessage(new TextEncoder().encode(b),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=O}}try{const{data:A,error:D}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:jb(E)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Nn});if(D)throw D;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new al}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:D})}catch(A){if(pe(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const n=await Vi(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:l,error:c}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Nn});if(await ui(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new al}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:r??null}),error:c})}catch(l){if(pe(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:l,nonce:c}=e,h=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Nn}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new al}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,l,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Hs(this.storage,this.storageKey));const{error:T}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:y}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new ll("You must provide either an email or phone number.")}catch(h){if(pe(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let r,l;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:r,xform:Nn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Hs(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:gA})}catch(l){if(pe(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ci;const{error:r}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:l}=e,{error:c}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:r,options:l}=e,{data:c,error:h}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new ll("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Tf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await Vi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Cf()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,y)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:e},error:null}}const{session:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hi}):await this._useSession(async n=>{var i,r,l;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ci}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0,xform:hi})})}catch(n){if(pe(n))return Hb(n)&&(await this._removeSession(),await ui(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:l}=i;if(l)throw l;if(!r.session)throw new ci;const c=r.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Hs(this.storage,this.storageKey));const{data:m,error:y}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:hi});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ci;const n=Date.now()/1e3;let i=n,r=!0,l=null;const{payload:c}=_f(e.access_token);if(c.exp&&(i=c.exp,r=i<=n),r){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ci;const{session:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!en())throw new ul("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ul(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xy("No code detected.");const{data:I,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:l,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!l||!h||!c||!m)throw new ul("No session defined in URL");const y=Math.round(Date.now()/1e3),T=parseInt(h);let S=y+T;p&&(S=parseInt(p));const C=S-y;C*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${T}s`);const b=S-T;y-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,S,y):y-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,S,y);const{data:E,error:A}=await this._getUser(l);if(A)throw A;const D={provider_token:i,provider_refresh_token:r,access_token:l,expires_in:T,expires_at:S,refresh_token:c,token_type:m,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(i){if(pe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:l}=n;if(l)return{error:l};const c=(i=r.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(Gb(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await ui(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Qb(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:l},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await Hs(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(pe(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:r}=await this._useSession(async l=>{var c,h,p,m,y;const{data:T,error:S}=l;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",C,{headers:this.headers,jwt:(y=(m=T.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(r)throw r;return en()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(pe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:l,error:c}=n;if(c)throw c;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await nA(async r=>(r>0&&await tA(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nn})),(r,l)=>{const c=200*Math.pow(2,r);return l&&Sf(l)&&Date.now()+c-i<Ys})}catch(i){if(this._debug(n,"error",i),pe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),en()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await Vi(this.storage,this.storageKey);if(r&&this.userStorage){let c=await Vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await Ks(this.userStorage,this.storageKey+"-user",c)),r.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Cf()}else if(r&&!r.user&&!r.user){const c=await Vi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(r.user=c.user,await ui(this.storage,this.storageKey+"-user"),await Ks(this.storage,this.storageKey,r)):r.user=Cf()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const l=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Tf;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Tf}s`),l){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),Sf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(r.access_token);!h&&(c!=null&&c.user)?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new ci;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Vl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new ci;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={session:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(r,"error",l),pe(l)){const c={session:null,error:l};return Sf(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Ks(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const l=ev(r);await Ks(this.storage,this.storageKey,l)}else{const r=ev(n);await Ks(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await ui(this.storage,this.storageKey),await ui(this.storage,this.storageKey+"-code-verifier"),await ui(this.storage,this.storageKey+"-user"),this.userStorage&&await ui(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ys}ms, refresh threshold is ${Wf} ticks`),r<=Wf&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof TS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await Hs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(h.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);r.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:l}=n;return l?{data:null,error:l}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:l,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((r=p==null?void 0:p.totp)===null||r===void 0)&&r.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:l}=n;if(l)return{data:null,error:l};const{data:c,error:h}=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:l}=n;return l?{data:null,error:l}:await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],r=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:r,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:l}=e;if(l)return{data:null,error:l};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=_f(r.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(h=>h.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+Bb>r)return i;const{data:l,error:c}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=r,i=l.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:C,error:b}=await this.getSession();if(b||!C.session)return{data:null,error:b};i=C.session.access_token}const{header:r,payload:l,signature:c,raw:{header:h,payload:p}}=_f(i);n!=null&&n.allowExpired||uA(l.exp);const m=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:C}=await this.getUser(i);if(C)throw C;return{data:{claims:l,header:r,signature:c},error:null}}const y=cA(r.alg),T=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,T,c,Xb(`${h}.${p}`)))throw new ed("Invalid JWT signature");return{data:{claims:l,header:r,signature:c},error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}}Ir.nextInstanceID=0;const bA=Ir;class AA extends bA{constructor(e){super(e)}}var MA=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class RA{constructor(e,n,i){var r,l,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=Ib(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:wb,realtime:Ab,auth:Object.assign(Object.assign({},bb),{storageKey:m}),global:Eb},T=kb(i??{},y);this.storageKey=(r=T.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(l=T.global.headers)!==null&&l!==void 0?l:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(S,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=T.auth)!==null&&c!==void 0?c:{},this.headers,T.global.fetch),this.fetch=Nb(n,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.rest=new Yw(new URL("rest/v1",p).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new _b(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new Uw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return MA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,storageKey:l,flowType:c,lock:h,debug:p},m,y){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AA({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),m),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,flowType:c,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new lb(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DA=(t,e,n)=>new RA(t,e,n);function NA(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}NA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var SS={};const _S=SS.SUPABASE_URL||"https://inprykhpchchersmqlpt.supabase.co",CS=SS.SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlucHJ5a2hwY2hjaGVyc21xbHB0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5MDM5ODgsImV4cCI6MjA2OTQ3OTk4OH0.T8C9AC78LgCGhKmdlmURXtIUsnBX2XZBcPzcUxJRAiY";(_S==="YOUR_SUPABASE_URL"||CS==="YOUR_SUPABASE_ANON_KEY")&&console.warn("Supabase credentials are not configured. Please provide them in services/supabaseClient.ts or via environment variables.");const tt=DA(_S,CS),xS=V.createContext(null),Ol=()=>{const t=V.useContext(xS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},PA=({children:t})=>{const[e,n]=V.useState(null),[i,r]=V.useState(!0);V.useEffect(()=>{(async()=>{const{data:{session:y}}=await tt.auth.getSession();n((y==null?void 0:y.user)??null),r(!1)})();const{data:{subscription:m}}=tt.auth.onAuthStateChange((y,T)=>{n((T==null?void 0:T.user)??null)});return()=>{m==null||m.unsubscribe()}},[]);const h={isAuthenticated:!!e,currentUser:e,login:async(p,m)=>{const{error:y}=await tt.auth.signInWithPassword({email:p,password:m});return y?{success:!1,error:y.message}:{success:!0}},logout:async()=>{try{await tt.auth.signOut({scope:"global"})}catch(p){console.warn("Global logout failed, falling back to local logout:",p);try{await tt.auth.signOut({scope:"local"})}catch(m){console.error("Both global and local logout failed:",m),n(null)}}window.location.hash=""}};return x.jsx(xS.Provider,{value:h,children:!i&&t})},ov=t=>{const e=t.replace(/^#\/?|\/$/g,"");return e?e.split("/"):[]},IA=()=>{const[t,e]=V.useState(ov(window.location.hash));return V.useEffect(()=>{const n=()=>{e(ov(window.location.hash))};return window.addEventListener("hashchange",n),n(),()=>{window.removeEventListener("hashchange",n)}},[]),{route:t}},Gd=V.createContext({});function Bl(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const ql=V.createContext(null),Hd=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class kA extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function UA({children:t,isPresent:e}){const n=V.useId(),i=V.useRef(null),r=V.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=V.useContext(Hd);return V.useInsertionEffect(()=>{const{width:c,height:h,top:p,left:m}=r.current;if(e||!i.current||!c||!h)return;i.current.dataset.motionPopId=n;const y=document.createElement("style");return l&&(y.nonce=l),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),x.jsx(kA,{isPresent:e,childRef:i,sizeRef:r,children:V.cloneElement(t,{ref:i})})}const LA=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:l,mode:c})=>{const h=Bl(VA),p=V.useId(),m=V.useCallback(T=>{h.set(T,!0);for(const S of h.values())if(!S)return;i&&i()},[h,i]),y=V.useMemo(()=>({id:p,initial:e,isPresent:n,custom:r,onExitComplete:m,register:T=>(h.set(T,!1),()=>h.delete(T))}),l?[Math.random(),m]:[n,m]);return V.useMemo(()=>{h.forEach((T,S)=>h.set(S,!1))},[n]),V.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),c==="popLayout"&&(t=x.jsx(UA,{isPresent:n,children:t})),x.jsx(ql.Provider,{value:y,children:t})};function VA(){return new Map}function ES(t=!0){const e=V.useContext(ql);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,l=V.useId();V.useEffect(()=>{t&&r(l)},[t]);const c=V.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const cl=t=>t.key||"";function rv(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const zd=typeof window<"u",Fd=zd?V.useLayoutEffect:V.useEffect,hn=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:l="sync",propagate:c=!1})=>{const[h,p]=ES(c),m=V.useMemo(()=>rv(t),[t]),y=c&&!h?[]:m.map(cl),T=V.useRef(!0),S=V.useRef(m),C=Bl(()=>new Map),[b,E]=V.useState(m),[A,D]=V.useState(m);Fd(()=>{T.current=!1,S.current=m;for(let L=0;L<A.length;L++){const N=cl(A[L]);y.includes(N)?C.delete(N):C.get(N)!==!0&&C.set(N,!1)}},[A,y.length,y.join("-")]);const I=[];if(m!==b){let L=[...m];for(let N=0;N<A.length;N++){const O=A[N],z=cl(O);y.includes(z)||(L.splice(N,0,O),I.push(O))}l==="wait"&&I.length&&(L=I),D(rv(L)),E(m);return}const{forceRender:M}=V.useContext(Gd);return x.jsx(x.Fragment,{children:A.map(L=>{const N=cl(L),O=c&&!h?!1:m===A||y.includes(N),z=()=>{if(C.has(N))C.set(N,!0);else return;let X=!0;C.forEach(J=>{J||(X=!1)}),X&&(M==null||M(),D(S.current),c&&(p==null||p()),i&&i())};return x.jsx(LA,{isPresent:O,initial:!T.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:r,mode:l,onExitComplete:O?void 0:z,children:L},N)})})},_t=t=>t;let OA=_t,wS=_t;function $d(t){let e;return()=>(e===void 0&&(e=t()),e)}const $i=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Un=t=>t*1e3,Ln=t=>t/1e3,BA={useManualTiming:!1};function qA(t){let e=new Set,n=new Set,i=!1,r=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,y=!1,T=!1)=>{const C=T&&i?e:n;return y&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(h),e.clear(),i=!1,r&&(r=!1,p.process(m))}};return p}const fl=["read","resolveKeyframes","update","preRender","render","postRender"],GA=40;function bS(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=fl.reduce((D,I)=>(D[I]=qA(l),D),{}),{read:h,resolveKeyframes:p,update:m,preRender:y,render:T,postRender:S}=c,C=()=>{const D=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(D-r.timestamp,GA),1),r.timestamp=D,r.isProcessing=!0,h.process(r),p.process(r),m.process(r),y.process(r),T.process(r),S.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(C))},b=()=>{n=!0,i=!0,r.isProcessing||t(C)};return{schedule:fl.reduce((D,I)=>{const M=c[I];return D[I]=(L,N=!1,O=!1)=>(n||b(),M.schedule(L,N,O)),D},{}),cancel:D=>{for(let I=0;I<fl.length;I++)c[fl[I]].cancel(D)},state:r,steps:c}}const{schedule:Me,cancel:mn,state:lt,steps:Ef}=bS(typeof requestAnimationFrame<"u"?requestAnimationFrame:_t,!0),AS=V.createContext({strict:!1}),av={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ro={};for(const t in av)ro[t]={isEnabled:e=>av[t].some(n=>!!e[n])};function HA(t){for(const e in t)ro[e]={...ro[e],...t[e]}}const zA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zA.has(t)}let MS=t=>!bl(t);function FA(t){t&&(MS=e=>e.startsWith("on")?!bl(e):t(e))}try{FA(require("@emotion/is-prop-valid").default)}catch{}function $A(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(MS(r)||n===!0&&bl(r)||!e&&!bl(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function JA(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Gl=V.createContext({});function kr(t){return typeof t=="string"||Array.isArray(t)}function Hl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Jd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yd=["initial",...Jd];function zl(t){return Hl(t.animate)||Yd.some(e=>kr(t[e]))}function RS(t){return!!(zl(t)||t.variants)}function YA(t,e){if(zl(t)){const{initial:n,animate:i}=t;return{initial:n===!1||kr(n)?n:void 0,animate:kr(i)?i:void 0}}return t.inherit!==!1?e:{}}function KA(t){const{initial:e,animate:n}=YA(t,V.useContext(Gl));return V.useMemo(()=>({initial:e,animate:n}),[lv(e),lv(n)])}function lv(t){return Array.isArray(t)?t.join(" "):t}const XA=Symbol.for("motionComponentSymbol");function Xs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jA(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Xs(n)&&(n.current=i))},[e])}const Kd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WA="framerAppearId",DS="data-"+Kd(WA),{schedule:Xd}=bS(queueMicrotask,!1),NS=V.createContext({});function QA(t,e,n,i,r){var l,c;const{visualElement:h}=V.useContext(Gl),p=V.useContext(AS),m=V.useContext(ql),y=V.useContext(Hd).reducedMotion,T=V.useRef(null);i=i||p.renderer,!T.current&&i&&(T.current=i(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const S=T.current,C=V.useContext(NS);S&&!S.projection&&r&&(S.type==="html"||S.type==="svg")&&ZA(T.current,n,r,C);const b=V.useRef(!1);V.useInsertionEffect(()=>{S&&b.current&&S.update(n,m)});const E=n[DS],A=V.useRef(!!E&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,E))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,E)));return Fd(()=>{S&&(b.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),Xd.render(S.render),A.current&&S.animationState&&S.animationState.animateChanges())}),V.useEffect(()=>{S&&(!A.current&&S.animationState&&S.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,E)}),A.current=!1))}),S}function ZA(t,e,n,i){const{layoutId:r,layout:l,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PS(t.parent)),t.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||h&&Xs(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}function PS(t){if(t)return t.options.allowProjection!==!1?t.projection:PS(t.parent)}function eM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var l,c;t&&HA(t);function h(m,y){let T;const S={...V.useContext(Hd),...m,layoutId:tM(m)},{isStatic:C}=S,b=KA(m),E=i(m,C);if(!C&&zd){nM();const A=iM(S);T=A.MeasureLayout,b.visualElement=QA(r,E,S,e,A.ProjectionNode)}return x.jsxs(Gl.Provider,{value:b,children:[T&&b.visualElement?x.jsx(T,{visualElement:b.visualElement,...S}):null,n(r,m,jA(E,b.visualElement,y),E,C,b.visualElement)]})}h.displayName=`motion.${typeof r=="string"?r:`create(${(c=(l=r.displayName)!==null&&l!==void 0?l:r.name)!==null&&c!==void 0?c:""})`}`;const p=V.forwardRef(h);return p[XA]=r,p}function tM({layoutId:t}){const e=V.useContext(Gd).id;return e&&t!==void 0?e+"-"+t:t}function nM(t,e){V.useContext(AS).strict}function iM(t){const{drag:e,layout:n}=ro;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const sM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jd(t){return typeof t!="string"||t.includes("-")?!1:!!(sM.indexOf(t)>-1||/[A-Z]/u.test(t))}function uv(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Wd(t,e,n,i){if(typeof e=="function"){const[r,l]=uv(i);e=e(n!==void 0?n:t.custom,r,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,l]=uv(i);e=e(n!==void 0?n:t.custom,r,l)}return e}const td=t=>Array.isArray(t),oM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),rM=t=>td(t)?t[t.length-1]||0:t,yt=t=>!!(t&&t.getVelocity);function yl(t){const e=yt(t)?t.get():t;return oM(e)?e.toValue():e}function aM({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,l){const c={latestValues:lM(i,r,l,t),renderState:e()};return n&&(c.onMount=h=>n({props:i,current:h,...c}),c.onUpdate=h=>n(h)),c}const IS=t=>(e,n)=>{const i=V.useContext(Gl),r=V.useContext(ql),l=()=>aM(t,e,i,r);return n?l():Bl(l)};function lM(t,e,n,i){const r={},l=i(t,{});for(const S in l)r[S]=yl(l[S]);let{initial:c,animate:h}=t;const p=zl(t),m=RS(t);e&&m&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?h:c;if(T&&typeof T!="boolean"&&!Hl(T)){const S=Array.isArray(T)?T:[T];for(let C=0;C<S.length;C++){const b=Wd(t,S[C]);if(b){const{transitionEnd:E,transition:A,...D}=b;for(const I in D){let M=D[I];if(Array.isArray(M)){const L=y?M.length-1:0;M=M[L]}M!==null&&(r[I]=M)}for(const I in E)r[I]=E[I]}}}return r}const uo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ki=new Set(uo),kS=t=>e=>typeof e=="string"&&e.startsWith(t),US=kS("--"),uM=kS("var(--"),Qd=t=>uM(t)?cM.test(t.split("/*")[0].trim()):!1,cM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,LS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pn=(t,e,n)=>n>e?e:n<t?t:n,co={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ur={...co,transform:t=>pn(0,1,t)},dl={...co,default:1},qr=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fi=qr("deg"),fn=qr("%"),de=qr("px"),fM=qr("vh"),dM=qr("vw"),cv={...fn,parse:t=>fn.parse(t)/100,transform:t=>fn.transform(t*100)},hM={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},mM={rotate:fi,rotateX:fi,rotateY:fi,rotateZ:fi,scale:dl,scaleX:dl,scaleY:dl,scaleZ:dl,skew:fi,skewX:fi,skewY:fi,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Ur,originX:cv,originY:cv,originZ:de},fv={...co,transform:Math.round},Zd={...hM,...mM,zIndex:fv,size:de,fillOpacity:Ur,strokeOpacity:Ur,numOctaves:fv},pM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gM=uo.length;function yM(t,e,n){let i="",r=!0;for(let l=0;l<gM;l++){const c=uo[l],h=t[c];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(c.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||n){const m=LS(h,Zd[c]);if(!p){r=!1;const y=pM[c]||c;i+=`${y}(${m}) `}n&&(e[c]=m)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function eh(t,e,n){const{style:i,vars:r,transformOrigin:l}=t;let c=!1,h=!1;for(const p in e){const m=e[p];if(Ki.has(p)){c=!0;continue}else if(US(p)){r[p]=m;continue}else{const y=LS(m,Zd[p]);p.startsWith("origin")?(h=!0,l[p]=y):i[p]=y}}if(e.transform||(c||n?i.transform=yM(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:y=0}=l;i.transformOrigin=`${p} ${m} ${y}`}}const vM={offset:"stroke-dashoffset",array:"stroke-dasharray"},TM={offset:"strokeDashoffset",array:"strokeDasharray"};function SM(t,e,n=1,i=0,r=!0){t.pathLength=1;const l=r?vM:TM;t[l.offset]=de.transform(-i);const c=de.transform(e),h=de.transform(n);t[l.array]=`${c} ${h}`}function dv(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function _M(t,e,n){const i=dv(e,t.x,t.width),r=dv(n,t.y,t.height);return`${i} ${r}`}function th(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:p=0,...m},y,T){if(eh(t,m,T),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:C,dimensions:b}=t;S.transform&&(b&&(C.transform=S.transform),delete S.transform),b&&(r!==void 0||l!==void 0||C.transform)&&(C.transformOrigin=_M(b,r!==void 0?r:.5,l!==void 0?l:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),i!==void 0&&(S.scale=i),c!==void 0&&SM(S,c,h,p,!1)}const nh=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),VS=()=>({...nh(),attrs:{}}),ih=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OS(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const l in n)t.style.setProperty(l,n[l])}const BS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qS(t,e,n,i){OS(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(BS.has(r)?r:Kd(r),e.attrs[r])}const Al={};function CM(t){Object.assign(Al,t)}function GS(t,{layout:e,layoutId:n}){return Ki.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Al[t]||t==="opacity")}function sh(t,e,n){var i;const{style:r}=t,l={};for(const c in r)(yt(r[c])||e.style&&yt(e.style[c])||GS(c,t)||((i=n==null?void 0:n.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[c]=r[c]);return l}function HS(t,e,n){const i=sh(t,e,n);for(const r in t)if(yt(t[r])||yt(e[r])){const l=uo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[l]=t[r]}return i}function xM(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const hv=["x","y","width","height","cx","cy","r"],EM={useVisualState:IS({scrapeMotionValuesFromProps:HS,createRenderState:VS,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in r)if(Ki.has(h)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let h=0;h<hv.length;h++){const p=hv[h];t[p]!==e[p]&&(c=!0)}c&&Me.read(()=>{xM(n,i),Me.render(()=>{th(i,r,ih(n.tagName),t.transformTemplate),qS(n,i)})})}})},wM={useVisualState:IS({scrapeMotionValuesFromProps:sh,createRenderState:nh})};function zS(t,e,n){for(const i in e)!yt(e[i])&&!GS(i,n)&&(t[i]=e[i])}function bM({transformTemplate:t},e){return V.useMemo(()=>{const n=nh();return eh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function AM(t,e){const n=t.style||{},i={};return zS(i,n,t),Object.assign(i,bM(t,e)),i}function MM(t,e){const n={},i=AM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function RM(t,e,n,i){const r=V.useMemo(()=>{const l=VS();return th(l,e,ih(i),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};zS(l,t.style,t),r.style={...l,...r.style}}return r}function DM(t=!1){return(n,i,r,{latestValues:l},c)=>{const p=(jd(n)?RM:MM)(i,l,c,n),m=$A(i,typeof n=="string",t),y=n!==V.Fragment?{...m,...p,ref:r}:{},{children:T}=i,S=V.useMemo(()=>yt(T)?T.get():T,[T]);return V.createElement(n,{...y,children:S})}}function NM(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const c={...jd(i)?EM:wM,preloadedFeatures:t,useRender:DM(r),createVisualElement:e,Component:i};return eM(c)}}function FS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Fl(t,e,n){const i=t.getProps();return Wd(i,e,n!==void 0?n:i.custom,t)}const $S=$d(()=>window.ScrollTimeline!==void 0);class PM{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if($S()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,l)=>{r&&r(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class IM extends PM{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function oh(t,e){return t?t[e]||t.default||t:void 0}const nd=2e4;function JS(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<nd;)e+=n,i=t.next(e);return e>=nd?1/0:e}function rh(t){return typeof t=="function"}function mv(t,e){t.timeline=e,t.onfinish=null}const ah=t=>Array.isArray(t)&&typeof t[0]=="number",kM={linearEasing:void 0};function UM(t,e){const n=$d(t);return()=>{var i;return(i=kM[e])!==null&&i!==void 0?i:n()}}const Ml=UM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),YS=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let l=0;l<r;l++)i+=t($i(0,r-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function KS(t){return!!(typeof t=="function"&&Ml()||!t||typeof t=="string"&&(t in id||Ml())||ah(t)||Array.isArray(t)&&t.every(KS))}const Cr=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,id={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cr([0,.65,.55,1]),circOut:Cr([.55,0,1,.45]),backIn:Cr([.31,.01,.66,-.59]),backOut:Cr([.33,1.53,.69,.99])};function XS(t,e){if(t)return typeof t=="function"&&Ml()?YS(t,e):ah(t)?Cr(t):Array.isArray(t)?t.map(n=>XS(n,e)||id.easeOut):id[t]}const tn={x:!1,y:!1};function jS(){return tn.x||tn.y}function WS(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const l=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function QS(t,e){const n=WS(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function pv(t){return e=>{e.pointerType==="touch"||jS()||t(e)}}function LM(t,e,n={}){const[i,r,l]=QS(t,n),c=pv(h=>{const{target:p}=h,m=e(h);if(typeof m!="function"||!p)return;const y=pv(T=>{m(T),p.removeEventListener("pointerleave",y)});p.addEventListener("pointerleave",y,r)});return i.forEach(h=>{h.addEventListener("pointerenter",c,r)}),l}const ZS=(t,e)=>e?t===e?!0:ZS(t,e.parentElement):!1,lh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,VM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OM(t){return VM.has(t.tagName)||t.tabIndex!==-1}const xr=new WeakSet;function gv(t){return e=>{e.key==="Enter"&&t(e)}}function wf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BM=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=gv(()=>{if(xr.has(n))return;wf(n,"down");const r=gv(()=>{wf(n,"up")}),l=()=>wf(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function yv(t){return lh(t)&&!jS()}function qM(t,e,n={}){const[i,r,l]=QS(t,n),c=h=>{const p=h.currentTarget;if(!yv(h)||xr.has(p))return;xr.add(p);const m=e(h),y=(C,b)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),!(!yv(C)||!xr.has(p))&&(xr.delete(p),typeof m=="function"&&m(C,{success:b}))},T=C=>{y(C,n.useGlobalTarget||ZS(p,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",T,r),window.addEventListener("pointercancel",S,r)};return i.forEach(h=>{!OM(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),h.addEventListener("focus",m=>BM(m,r),r)}),l}function GM(t){return t==="x"||t==="y"?tn[t]?null:(tn[t]=!0,()=>{tn[t]=!1}):tn.x||tn.y?null:(tn.x=tn.y=!0,()=>{tn.x=tn.y=!1})}const e_=new Set(["width","height","top","left","right","bottom",...uo]);let vl;function HM(){vl=void 0}const dn={now:()=>(vl===void 0&&dn.set(lt.isProcessing||BA.useManualTiming?lt.timestamp:performance.now()),vl),set:t=>{vl=t,queueMicrotask(HM)}};function uh(t,e){t.indexOf(e)===-1&&t.push(e)}function ch(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fh{constructor(){this.subscriptions=[]}add(e){return uh(this.subscriptions,e),()=>ch(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function dh(t,e){return e?t*(1e3/e):0}const vv=30,zM=t=>!isNaN(parseFloat(t));class FM{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const l=dn.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fh);const i=this.events[e].add(n);return e==="change"?()=>{i(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vv);return dh(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kn(t,e){return new FM(t,e)}function $M(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,kn(n))}function JM(t,e){const n=Fl(t,e);let{transitionEnd:i={},transition:r={},...l}=n||{};l={...l,...i};for(const c in l){const h=rM(l[c]);$M(t,c,h)}}function YM(t){return!!(yt(t)&&t.add)}function sd(t,e){const n=t.getValue("willChange");if(YM(n))return n.add(e)}function t_(t){return t.props[DS]}const n_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KM=1e-7,XM=12;function jM(t,e,n,i,r){let l,c,h=0;do c=e+(n-e)/2,l=n_(c,i,r)-t,l>0?n=c:e=c;while(Math.abs(l)>KM&&++h<XM);return c}function Gr(t,e,n,i){if(t===e&&n===i)return _t;const r=l=>jM(l,0,1,t,n);return l=>l===0||l===1?l:n_(r(l),e,i)}const i_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,s_=t=>e=>1-t(1-e),o_=Gr(.33,1.53,.69,.99),hh=s_(o_),r_=i_(hh),a_=t=>(t*=2)<1?.5*hh(t):.5*(2-Math.pow(2,-10*(t-1))),mh=t=>1-Math.sin(Math.acos(t)),l_=s_(mh),u_=i_(mh),c_=t=>/^0[^.\s]+$/u.test(t);function WM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||c_(t):!0}const Ar=t=>Math.round(t*1e5)/1e5,ph=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QM(t){return t==null}const ZM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gh=(t,e)=>n=>!!(typeof n=="string"&&ZM.test(n)&&n.startsWith(t)||e&&!QM(n)&&Object.prototype.hasOwnProperty.call(n,e)),f_=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,l,c,h]=i.match(ph);return{[t]:parseFloat(r),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},e1=t=>pn(0,255,t),bf={...co,transform:t=>Math.round(e1(t))},zi={test:gh("rgb","red"),parse:f_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+bf.transform(t)+", "+bf.transform(e)+", "+bf.transform(n)+", "+Ar(Ur.transform(i))+")"};function t1(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const od={test:gh("#"),parse:t1,transform:zi.transform},js={test:gh("hsl","hue"),parse:f_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+fn.transform(Ar(e))+", "+fn.transform(Ar(n))+", "+Ar(Ur.transform(i))+")"},gt={test:t=>zi.test(t)||od.test(t)||js.test(t),parse:t=>zi.test(t)?zi.parse(t):js.test(t)?js.parse(t):od.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zi.transform(t):js.transform(t)},n1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i1(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ph))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(n1))===null||n===void 0?void 0:n.length)||0)>0}const d_="number",h_="color",s1="var",o1="var(",Tv="${}",r1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lr(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let l=0;const h=e.replace(r1,p=>(gt.test(p)?(i.color.push(l),r.push(h_),n.push(gt.parse(p))):p.startsWith(o1)?(i.var.push(l),r.push(s1),n.push(p)):(i.number.push(l),r.push(d_),n.push(parseFloat(p))),++l,Tv)).split(Tv);return{values:n,split:h,indexes:i,types:r}}function m_(t){return Lr(t).values}function p_(t){const{split:e,types:n}=Lr(t),i=e.length;return r=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],r[c]!==void 0){const h=n[c];h===d_?l+=Ar(r[c]):h===h_?l+=gt.transform(r[c]):l+=r[c]}return l}}const a1=t=>typeof t=="number"?0:t;function l1(t){const e=m_(t);return p_(t)(e.map(a1))}const pi={test:i1,parse:m_,createTransformer:p_,getAnimatableNone:l1},u1=new Set(["brightness","contrast","saturate","opacity"]);function c1(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(ph)||[];if(!i)return t;const r=n.replace(i,"");let l=u1.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+r+")"}const f1=/\b([a-z-]*)\(.*?\)/gu,rd={...pi,getAnimatableNone:t=>{const e=t.match(f1);return e?e.map(c1).join(" "):t}},d1={...Zd,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:rd,WebkitFilter:rd},yh=t=>d1[t];function g_(t,e){let n=yh(t);return n!==rd&&(n=pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const h1=new Set(["auto","none","0"]);function m1(t,e,n){let i=0,r;for(;i<t.length&&!r;){const l=t[i];typeof l=="string"&&!h1.has(l)&&Lr(l).values.length&&(r=t[i]),i++}if(r&&n)for(const l of e)t[l]=g_(n,r)}const Sv=t=>t===co||t===de,_v=(t,e)=>parseFloat(t.split(", ")[e]),Cv=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return _v(r[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?_v(l[1],t):0}},p1=new Set(["x","y","z"]),g1=uo.filter(t=>!p1.has(t));function y1(t){const e=[];return g1.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Cv(4,13),y:Cv(5,14)};ao.translateX=ao.x;ao.translateY=ao.y;const Fi=new Set;let ad=!1,ld=!1;function y_(){if(ld){const t=Array.from(Fi).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=y1(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([l,c])=>{var h;(h=i.getValue(l))===null||h===void 0||h.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ld=!1,ad=!1,Fi.forEach(t=>t.complete()),Fi.clear()}function v_(){Fi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ld=!0)})}function v1(){v_(),y_()}class vh{constructor(e,n,i,r,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Fi.add(this),ad||(ad=!0,Me.read(v_),Me.resolveKeyframes(y_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=r==null?void 0:r.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const p=i.readValue(n,h);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=h),r&&c===void 0&&r.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Fi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Fi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const T_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),T1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S1(t){const e=T1.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function S_(t,e,n=1){const[i,r]=S1(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return T_(c)?parseFloat(c):c}return Qd(r)?S_(r,e,n+1):r}const __=t=>e=>e.test(t),_1={test:t=>t==="auto",parse:t=>t},C_=[co,de,fn,fi,dM,fM,_1],xv=t=>C_.find(__(t));class x_ extends vh{constructor(e,n,i,r,l){super(e,n,i,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),Qd(m))){const y=S_(m,n.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!e_.has(i)||e.length!==2)return;const[r,l]=e,c=xv(r),h=xv(l);if(c!==h)if(Sv(c)&&Sv(h))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)WM(e[r])&&i.push(r);i.length&&m1(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ao[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const c=r.length-1,h=r[c];r[c]=ao[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,m])=>{n.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const Ev=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pi.test(t)||t==="0")&&!t.startsWith("url("));function C1(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function x1(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Ev(r,e),h=Ev(l,e);return!c||!h?!1:C1(t)||(n==="spring"||rh(n))&&i}const E1=t=>t!==null;function $l(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(E1),l=e&&n!=="loop"&&e%2===1?0:r.length-1;return!l||i===void 0?r[l]:i}const w1=40;class E_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=dn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>w1?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&v1(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=dn.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:l,delay:c,onComplete:h,onUpdate:p,isGenerator:m}=this.options;if(!m&&!x1(e,i,r,l))if(c)this.options.duration=0;else{p&&p($l(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Fe=(t,e,n)=>t+(e-t)*n;function Af(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function b1({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,l=0,c=0;if(!e)r=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,p=2*n-h;r=Af(p,h,t+1/3),l=Af(p,h,t),c=Af(p,h,t-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Rl(t,e){return n=>n>0?e:t}const Mf=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},A1=[od,zi,js],M1=t=>A1.find(e=>e.test(t));function wv(t){const e=M1(t);if(!e)return!1;let n=e.parse(t);return e===js&&(n=b1(n)),n}const bv=(t,e)=>{const n=wv(t),i=wv(e);if(!n||!i)return Rl(t,e);const r={...n};return l=>(r.red=Mf(n.red,i.red,l),r.green=Mf(n.green,i.green,l),r.blue=Mf(n.blue,i.blue,l),r.alpha=Fe(n.alpha,i.alpha,l),zi.transform(r))},R1=(t,e)=>n=>e(t(n)),Hr=(...t)=>t.reduce(R1),ud=new Set(["none","hidden"]);function D1(t,e){return ud.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function N1(t,e){return n=>Fe(t,e,n)}function Th(t){return typeof t=="number"?N1:typeof t=="string"?Qd(t)?Rl:gt.test(t)?bv:k1:Array.isArray(t)?w_:typeof t=="object"?gt.test(t)?bv:P1:Rl}function w_(t,e){const n=[...t],i=n.length,r=t.map((l,c)=>Th(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=r[c](l);return n}}function P1(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Th(t[r])(t[r],e[r]));return r=>{for(const l in i)n[l]=i[l](r);return n}}function I1(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],h=t.indexes[c][r[c]],p=(n=t.values[h])!==null&&n!==void 0?n:0;i[l]=p,r[c]++}return i}const k1=(t,e)=>{const n=pi.createTransformer(e),i=Lr(t),r=Lr(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?ud.has(t)&&!r.values.length||ud.has(e)&&!i.values.length?D1(t,e):Hr(w_(I1(i,r),r.values),n):Rl(t,e)};function b_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fe(t,e,n):Th(t)(t,e)}const U1=5;function A_(t,e,n){const i=Math.max(e-U1,0);return dh(n-t(i),e-i)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rf=.001;function L1({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:i=Ye.mass}){let r,l,c=1-e;c=pn(Ye.minDamping,Ye.maxDamping,c),t=pn(Ye.minDuration,Ye.maxDuration,Ln(t)),c<1?(r=m=>{const y=m*c,T=y*t,S=y-n,C=cd(m,c),b=Math.exp(-T);return Rf-S/C*b},l=m=>{const T=m*c*t,S=T*n+n,C=Math.pow(c,2)*Math.pow(m,2)*t,b=Math.exp(-T),E=cd(Math.pow(m,2),c);return(-r(m)+Rf>0?-1:1)*((S-C)*b)/E}):(r=m=>{const y=Math.exp(-m*t),T=(m-n)*t+1;return-Rf+y*T},l=m=>{const y=Math.exp(-m*t),T=(n-m)*(t*t);return y*T});const h=5/t,p=O1(r,l,h);if(t=Un(t),isNaN(p))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const m=Math.pow(p,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const V1=12;function O1(t,e,n){let i=n;for(let r=1;r<V1;r++)i=i-t(i)/e(i);return i}function cd(t,e){return t*Math.sqrt(1-e*e)}const B1=["duration","bounce"],q1=["stiffness","damping","mass"];function Av(t,e){return e.some(n=>t[n]!==void 0)}function G1(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!Av(t,q1)&&Av(t,B1))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,l=2*pn(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ye.mass,stiffness:r,damping:l}}else{const n=L1(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function M_(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:y,duration:T,velocity:S,isResolvedFromDuration:C}=G1({...n,velocity:-Ln(n.velocity||0)}),b=S||0,E=m/(2*Math.sqrt(p*y)),A=c-l,D=Ln(Math.sqrt(p/y)),I=Math.abs(A)<5;i||(i=I?Ye.restSpeed.granular:Ye.restSpeed.default),r||(r=I?Ye.restDelta.granular:Ye.restDelta.default);let M;if(E<1){const N=cd(D,E);M=O=>{const z=Math.exp(-E*D*O);return c-z*((b+E*D*A)/N*Math.sin(N*O)+A*Math.cos(N*O))}}else if(E===1)M=N=>c-Math.exp(-D*N)*(A+(b+D*A)*N);else{const N=D*Math.sqrt(E*E-1);M=O=>{const z=Math.exp(-E*D*O),X=Math.min(N*O,300);return c-z*((b+E*D*A)*Math.sinh(X)+N*A*Math.cosh(X))/N}}const L={calculatedDuration:C&&T||null,next:N=>{const O=M(N);if(C)h.done=N>=T;else{let z=0;E<1&&(z=N===0?Un(b):A_(M,N,O));const X=Math.abs(z)<=i,J=Math.abs(c-O)<=r;h.done=X&&J}return h.value=h.done?c:O,h},toString:()=>{const N=Math.min(JS(L),nd),O=YS(z=>L.next(N*z).value,N,30);return N+"ms "+O}};return L}function Mv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:p,restDelta:m=.5,restSpeed:y}){const T=t[0],S={done:!1,value:T},C=X=>h!==void 0&&X<h||p!==void 0&&X>p,b=X=>h===void 0?p:p===void 0||Math.abs(h-X)<Math.abs(p-X)?h:p;let E=n*e;const A=T+E,D=c===void 0?A:c(A);D!==A&&(E=D-T);const I=X=>-E*Math.exp(-X/i),M=X=>D+I(X),L=X=>{const J=I(X),Q=M(X);S.done=Math.abs(J)<=m,S.value=S.done?D:Q};let N,O;const z=X=>{C(S.value)&&(N=X,O=M_({keyframes:[S.value,b(S.value)],velocity:A_(M,X,S.value),damping:r,stiffness:l,restDelta:m,restSpeed:y}))};return z(0),{calculatedDuration:null,next:X=>{let J=!1;return!O&&N===void 0&&(J=!0,L(X),z(X)),N!==void 0&&X>=N?O.next(X-N):(!J&&L(X),S)}}}const H1=Gr(.42,0,1,1),z1=Gr(0,0,.58,1),R_=Gr(.42,0,.58,1),F1=t=>Array.isArray(t)&&typeof t[0]!="number",$1={linear:_t,easeIn:H1,easeInOut:R_,easeOut:z1,circIn:mh,circInOut:u_,circOut:l_,backIn:hh,backInOut:r_,backOut:o_,anticipate:a_},Rv=t=>{if(ah(t)){wS(t.length===4);const[e,n,i,r]=t;return Gr(e,n,i,r)}else if(typeof t=="string")return $1[t];return t};function J1(t,e,n){const i=[],r=n||b_,l=t.length-1;for(let c=0;c<l;c++){let h=r(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||_t:e;h=Hr(p,h)}i.push(h)}return i}function D_(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const l=t.length;if(wS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=J1(e,i,r),p=h.length,m=y=>{if(c&&y<t[0])return e[0];let T=0;if(p>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const S=$i(t[T],t[T+1],y);return h[T](S)};return n?y=>m(pn(t[0],t[l-1],y)):m}function Y1(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=$i(0,e,i);t.push(Fe(n,1,r))}}function N_(t){const e=[0];return Y1(e,t.length-1),e}function K1(t,e){return t.map(n=>n*e)}function X1(t,e){return t.map(()=>e||R_).splice(0,t.length-1)}function Dl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=F1(i)?i.map(Rv):Rv(i),l={done:!1,value:e[0]},c=K1(n&&n.length===e.length?n:N_(e),t),h=D_(c,e,{ease:Array.isArray(r)?r:X1(e,r)});return{calculatedDuration:t,next:p=>(l.value=h(p),l.done=p>=t,l)}}const j1=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Me.update(e,!0),stop:()=>mn(e),now:()=>lt.isProcessing?lt.timestamp:dn.now()}},W1={decay:Mv,inertia:Mv,tween:Dl,keyframes:Dl,spring:M_},Q1=t=>t/100;class Sh extends E_{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:n,motionValue:i,element:r,keyframes:l}=this.options,c=(r==null?void 0:r.KeyframeResolver)||vh,h=(p,m)=>this.onKeyframesResolved(p,m);this.resolver=new c(l,h,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=this.options,h=rh(n)?n:W1[n]||Dl;let p,m;h!==Dl&&typeof e[0]!="number"&&(p=Hr(Q1,b_(e[0],e[1])),e=[0,100]);const y=h({...this.options,keyframes:e});l==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=JS(y));const{calculatedDuration:T}=y,S=T+r,C=S*(i+1)-r;return{generator:y,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:T,resolvedDuration:S,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:X}=this.options;return{done:!0,value:X[X.length-1]}}const{finalKeyframe:r,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:p,calculatedDuration:m,totalDuration:y,resolvedDuration:T}=i;if(this.startTime===null)return l.next(0);const{delay:S,repeat:C,repeatType:b,repeatDelay:E,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-S*(this.speed>=0?1:-1),I=this.speed>=0?D<0:D>y;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let M=this.currentTime,L=l;if(C){const X=Math.min(this.currentTime,y)/T;let J=Math.floor(X),Q=X%1;!Q&&X>=1&&(Q=1),Q===1&&J--,J=Math.min(J,C+1),!!(J%2)&&(b==="reverse"?(Q=1-Q,E&&(Q-=E/T)):b==="mirror"&&(L=c)),M=pn(0,1,Q)*T}const N=I?{done:!1,value:p[0]}:L.next(M);h&&(N.value=h(N.value));let{done:O}=N;!I&&m!==null&&(O=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return z&&r!==void 0&&(N.value=$l(p,this.options,r)),A&&A(N.value),z&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Ln(e.calculatedDuration):0}get time(){return Ln(this.currentTime)}set time(e){e=Un(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ln(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=j1,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Z1=new Set(["opacity","clipPath","filter","transform"]);function eR(t,e,n,{delay:i=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:p}={}){const m={[e]:n};p&&(m.offset=p);const y=XS(h,r);return Array.isArray(y)&&(m.easing=y),t.animate(m,{delay:i,duration:r,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const tR=$d(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nl=10,nR=2e4;function iR(t){return rh(t.type)||t.type==="spring"||!KS(t.ease)}function sR(t,e){const n=new Sh({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let l=0;for(;!i.done&&l<nR;)i=n.sample(l),r.push(i.value),l+=Nl;return{times:void 0,keyframes:r,duration:l-Nl,ease:"linear"}}const P_={anticipate:a_,backInOut:r_,circInOut:u_};function oR(t){return t in P_}class Dv extends E_{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:l}=this.options;this.resolver=new x_(l,(c,h)=>this.onKeyframesResolved(c,h),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:l,type:c,motionValue:h,name:p,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Ml()&&oR(l)&&(l=P_[l]),iR(this.options)){const{onComplete:T,onUpdate:S,motionValue:C,element:b,...E}=this.options,A=sR(e,E);e=A.keyframes,e.length===1&&(e[1]=e[0]),i=A.duration,r=A.times,l=A.ease,c="keyframes"}const y=eR(h.owner.current,p,e,{...this.options,duration:i,times:r,ease:l});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(mv(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:T}=this.options;h.set($l(e,this.options,n)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:r,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ln(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ln(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Un(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return _t;const{animation:i}=n;mv(i,e)}return _t}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:l,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:y,onComplete:T,element:S,...C}=this.options,b=new Sh({...C,keyframes:i,duration:r,type:l,ease:c,times:h,isGenerator:!0}),E=Un(this.time);m.setWithVelocity(b.sample(E-Nl).value,b.sample(E).value,Nl)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:l,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=n.owner.getProps();return tR()&&i&&Z1.has(i)&&!p&&!m&&!r&&l!=="mirror"&&c!==0&&h!=="inertia"}}const rR={type:"spring",stiffness:500,damping:25,restSpeed:10},aR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lR={type:"keyframes",duration:.8},uR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cR=(t,{keyframes:e})=>e.length>2?lR:Ki.has(t)?t.startsWith("scale")?aR(e[1]):rR:uR;function fR({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:h,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const _h=(t,e,n,i={},r,l)=>c=>{const h=oh(i,t)||{},p=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Un(p);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:S=>{e.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:r};fR(h)||(y={...y,...cR(t,y)}),y.duration&&(y.duration=Un(y.duration)),y.repeatDelay&&(y.repeatDelay=Un(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(T=!0)),T&&!l&&e.get()!==void 0){const S=$l(y.keyframes,h);if(S!==void 0)return Me.update(()=>{y.onUpdate(S),y.onComplete()}),new IM([])}return!l&&Dv.supports(y)?new Dv(y):new Sh(y)};function dR({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function I_(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:h,...p}=e;i&&(c=i);const m=[],y=r&&t.animationState&&t.animationState.getState()[r];for(const T in p){const S=t.getValue(T,(l=t.latestValues[T])!==null&&l!==void 0?l:null),C=p[T];if(C===void 0||y&&dR(y,T))continue;const b={delay:n,...oh(c||{},T)};let E=!1;if(window.MotionHandoffAnimation){const D=t_(t);if(D){const I=window.MotionHandoffAnimation(D,T,Me);I!==null&&(b.startTime=I,E=!0)}}sd(t,T),S.start(_h(T,S,C,t.shouldReduceMotion&&e_.has(T)?{type:!1}:b,t,E));const A=S.animation;A&&m.push(A)}return h&&Promise.all(m).then(()=>{Me.update(()=>{h&&JM(t,h)})}),m}function fd(t,e,n={}){var i;const r=Fl(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(l=n.transitionOverride);const c=r?()=>Promise.all(I_(t,r,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:T,staggerDirection:S}=l;return hR(t,e,y+m,T,S,n)}:()=>Promise.resolve(),{when:p}=l;if(p){const[m,y]=p==="beforeChildren"?[c,h]:[h,c];return m().then(()=>y())}else return Promise.all([c(),h(n.delay)])}function hR(t,e,n=0,i=0,r=1,l){const c=[],h=(t.variantChildren.size-1)*i,p=r===1?(m=0)=>m*i:(m=0)=>h-m*i;return Array.from(t.variantChildren).sort(mR).forEach((m,y)=>{m.notify("AnimationStart",e),c.push(fd(m,e,{...l,delay:n+p(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function mR(t,e){return t.sortNodePosition(e)}function pR(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(l=>fd(t,l,n));i=Promise.all(r)}else if(typeof e=="string")i=fd(t,e,n);else{const r=typeof e=="function"?Fl(t,e,n.custom):e;i=Promise.all(I_(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const gR=Yd.length;function k_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?k_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gR;n++){const i=Yd[n],r=t.props[i];(kr(r)||r===!1)&&(e[i]=r)}return e}const yR=[...Jd].reverse(),vR=Jd.length;function TR(t){return e=>Promise.all(e.map(({animation:n,options:i})=>pR(t,n,i)))}function SR(t){let e=TR(t),n=Nv(),i=!0;const r=p=>(m,y)=>{var T;const S=Fl(t,y,p==="exit"?(T=t.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(S){const{transition:C,transitionEnd:b,...E}=S;m={...m,...E,...b}}return m};function l(p){e=p(t)}function c(p){const{props:m}=t,y=k_(t.parent)||{},T=[],S=new Set;let C={},b=1/0;for(let A=0;A<vR;A++){const D=yR[A],I=n[D],M=m[D]!==void 0?m[D]:y[D],L=kr(M),N=D===p?I.isActive:null;N===!1&&(b=A);let O=M===y[D]&&M!==m[D]&&L;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),I.protectedKeys={...C},!I.isActive&&N===null||!M&&!I.prevProp||Hl(M)||typeof M=="boolean")continue;const z=_R(I.prevProp,M);let X=z||D===p&&I.isActive&&!O&&L||A>b&&L,J=!1;const Q=Array.isArray(M)?M:[M];let Z=Q.reduce(r(D),{});N===!1&&(Z={});const{prevResolvedValues:ne={}}=I,Pe={...ne,...Z},ue=j=>{X=!0,S.has(j)&&(J=!0,S.delete(j)),I.needsAnimating[j]=!0;const ie=t.getValue(j);ie&&(ie.liveStyle=!1)};for(const j in Pe){const ie=Z[j],xe=ne[j];if(C.hasOwnProperty(j))continue;let P=!1;td(ie)&&td(xe)?P=!FS(ie,xe):P=ie!==xe,P?ie!=null?ue(j):S.add(j):ie!==void 0&&S.has(j)?ue(j):I.protectedKeys[j]=!0}I.prevProp=M,I.prevResolvedValues=Z,I.isActive&&(C={...C,...Z}),i&&t.blockInitialAnimation&&(X=!1),X&&(!(O&&z)||J)&&T.push(...Q.map(j=>({animation:j,options:{type:D}})))}if(S.size){const A={};S.forEach(D=>{const I=t.getBaseTarget(D),M=t.getValue(D);M&&(M.liveStyle=!0),A[D]=I??null}),T.push({animation:A})}let E=!!T.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(T):Promise.resolve()}function h(p,m){var y;if(n[p].isActive===m)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(S=>{var C;return(C=S.animationState)===null||C===void 0?void 0:C.setActive(p,m)}),n[p].isActive=m;const T=c(p);for(const S in n)n[S].protectedKeys={};return T}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Nv(),i=!0}}}function _R(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FS(e,t):!1}function Oi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nv(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}class yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CR extends yi{constructor(e){super(e),e.animationState||(e.animationState=SR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let xR=0;class ER extends yi{constructor(){super(...arguments),this.id=xR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const wR={animation:{Feature:CR},exit:{Feature:ER}};function Vr(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function zr(t){return{point:{x:t.pageX,y:t.pageY}}}const bR=t=>e=>lh(e)&&t(e,zr(e));function Mr(t,e,n,i){return Vr(t,e,bR(n),i)}const Pv=(t,e)=>Math.abs(t-e);function AR(t,e){const n=Pv(t.x,e.x),i=Pv(t.y,e.y);return Math.sqrt(n**2+i**2)}class U_{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Nf(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=AR(T.offset,{x:0,y:0})>=3;if(!S&&!C)return;const{point:b}=T,{timestamp:E}=lt;this.history.push({...b,timestamp:E});const{onStart:A,onMove:D}=this.handlers;S||(A&&A(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Df(S,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:C,onSessionEnd:b,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Nf(T.type==="pointercancel"?this.lastMoveEventInfo:Df(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(T,A),b&&b(T,A)},!lh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const c=zr(e),h=Df(c,this.transformPagePoint),{point:p}=h,{timestamp:m}=lt;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,Nf(h,this.history)),this.removeListeners=Hr(Mr(this.contextWindow,"pointermove",this.handlePointerMove),Mr(this.contextWindow,"pointerup",this.handlePointerUp),Mr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mn(this.updatePoint)}}function Df(t,e){return e?{point:e(t.point)}:t}function Iv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nf({point:t},e){return{point:t,delta:Iv(t,L_(e)),offset:Iv(t,MR(e)),velocity:RR(e,.1)}}function MR(t){return t[0]}function L_(t){return t[t.length-1]}function RR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=L_(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Un(e)));)n--;if(!i)return{x:0,y:0};const l=Ln(r.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-i.x)/l,y:(r.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const V_=1e-4,DR=1-V_,NR=1+V_,O_=.01,PR=0-O_,IR=0+O_;function Ot(t){return t.max-t.min}function kR(t,e,n){return Math.abs(t-e)<=n}function kv(t,e,n,i=.5){t.origin=i,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=Ot(n)/Ot(e),t.translate=Fe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=DR&&t.scale<=NR||isNaN(t.scale))&&(t.scale=1),(t.translate>=PR&&t.translate<=IR||isNaN(t.translate))&&(t.translate=0)}function Rr(t,e,n,i){kv(t.x,e.x,n.x,i?i.originX:void 0),kv(t.y,e.y,n.y,i?i.originY:void 0)}function Uv(t,e,n){t.min=n.min+e.min,t.max=t.min+Ot(e)}function UR(t,e,n){Uv(t.x,e.x,n.x),Uv(t.y,e.y,n.y)}function Lv(t,e,n){t.min=e.min-n.min,t.max=t.min+Ot(e)}function Dr(t,e,n){Lv(t.x,e.x,n.x),Lv(t.y,e.y,n.y)}function LR(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Fe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Fe(n,t,i.max):Math.min(t,n)),t}function Vv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VR(t,{top:e,left:n,bottom:i,right:r}){return{x:Vv(t.x,n,r),y:Vv(t.y,e,i)}}function Ov(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function OR(t,e){return{x:Ov(t.x,e.x),y:Ov(t.y,e.y)}}function BR(t,e){let n=.5;const i=Ot(t),r=Ot(e);return r>i?n=$i(e.min,e.max-i,t.min):i>r&&(n=$i(t.min,t.max-r,e.min)),pn(0,1,n)}function qR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dd=.35;function GR(t=dd){return t===!1?t=0:t===!0&&(t=dd),{x:Bv(t,"left","right"),y:Bv(t,"top","bottom")}}function Bv(t,e,n){return{min:qv(t,e),max:qv(t,n)}}function qv(t,e){return typeof t=="number"?t:t[e]||0}const Gv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ws=()=>({x:Gv(),y:Gv()}),Hv=()=>({min:0,max:0}),je=()=>({x:Hv(),y:Hv()});function Xt(t){return[t("x"),t("y")]}function B_({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function HR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Pf(t){return t===void 0||t===1}function hd({scale:t,scaleX:e,scaleY:n}){return!Pf(t)||!Pf(e)||!Pf(n)}function qi(t){return hd(t)||q_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function q_(t){return zv(t.x)||zv(t.y)}function zv(t){return t&&t!=="0%"}function Pl(t,e,n){const i=t-n,r=e*i;return n+r}function Fv(t,e,n,i,r){return r!==void 0&&(t=Pl(t,r,i)),Pl(t,n,i)+e}function md(t,e=0,n=1,i,r){t.min=Fv(t.min,e,n,i,r),t.max=Fv(t.max,e,n,i,r)}function G_(t,{x:e,y:n}){md(t.x,e.translate,e.scale,e.originPoint),md(t.y,n.translate,n.scale,n.originPoint)}const $v=.999999999999,Jv=1.0000000000001;function FR(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let l,c;for(let h=0;h<r;h++){l=n[h],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Zs(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,G_(t,c)),i&&qi(l.latestValues)&&Zs(t,l.latestValues))}e.x<Jv&&e.x>$v&&(e.x=1),e.y<Jv&&e.y>$v&&(e.y=1)}function Qs(t,e){t.min=t.min+e,t.max=t.max+e}function Yv(t,e,n,i,r=.5){const l=Fe(t.min,t.max,r);md(t,e,n,l,i)}function Zs(t,e){Yv(t.x,e.x,e.scaleX,e.scale,e.originX),Yv(t.y,e.y,e.scaleY,e.scale,e.originY)}function H_(t,e){return B_(zR(t.getBoundingClientRect(),e))}function $R(t,e,n){const i=H_(t,n),{scroll:r}=e;return r&&(Qs(i.x,r.offset.x),Qs(i.y,r.offset.y)),i}const z_=({current:t})=>t?t.ownerDocument.defaultView:null,JR=new WeakMap;class YR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=je(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=y=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zr(y).point)},l=(y,T)=>{const{drag:S,dragPropagation:C,onDragStart:b}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GM(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xt(A=>{let D=this.getAxisMotionValue(A).get()||0;if(fn.test(D)){const{projection:I}=this.visualElement;if(I&&I.layout){const M=I.layout.layoutBox[A];M&&(D=Ot(M)*(parseFloat(D)/100))}}this.originPoint[A]=D}),b&&Me.postRender(()=>b(y,T)),sd(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(y,T)=>{const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:b,onDrag:E}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:A}=T;if(C&&this.currentDirection===null){this.currentDirection=KR(A),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",T.point,A),this.updateAxis("y",T.point,A),this.visualElement.render(),E&&E(y,T)},h=(y,T)=>this.stop(y,T),p=()=>Xt(y=>{var T;return this.getAnimationState(y)==="paused"&&((T=this.getAxisMotionValue(y).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new U_(e,{onSessionStart:r,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:z_(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&Me.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!hl(e,r,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=LR(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Xs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=VR(r.layoutBox,n):this.constraints=!1,this.elastic=GR(i),l!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=qR(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xs(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=$R(i,r.root,this.visualElement.getTransformPagePoint());let c=OR(r.layout.layoutBox,l);if(n){const h=n(HR(c));this.hasMutatedConstraints=!!h,h&&(c=B_(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=Xt(y=>{if(!hl(y,n,this.currentDirection))return;let T=p&&p[y]||{};c&&(T={min:0,max:0});const S=r?200:1e6,C=r?40:1e7,b={type:"inertia",velocity:i?e[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,b)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return sd(this.visualElement,e),i.start(_h(e,i,0,n,this.visualElement,!1))}stopAnimation(){Xt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Xt(n=>{const{drag:i}=this.getProps();if(!hl(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[n];l.set(e[n]-Fe(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xs(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Xt(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();r[c]=BR({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Xt(c=>{if(!hl(c,e,null))return;const h=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];h.set(Fe(p,m,r[c]))})}addListeners(){if(!this.visualElement.current)return;JR.set(this.visualElement,this);const e=this.visualElement.current,n=Mr(e,"pointerdown",p=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Xs(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Me.read(i);const c=Vr(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(Xt(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=p[y].translate,T.set(T.get()+p[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=dd,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function hl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XR extends yi{constructor(e){super(e),this.removeGroupControls=_t,this.removeListeners=_t,this.controls=new YR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_t}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kv=t=>(e,n)=>{t&&Me.postRender(()=>t(e,n))};class jR extends yi{constructor(){super(...arguments),this.removePointerDownListener=_t}onPointerDown(e){this.session=new U_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Kv(e),onStart:Kv(n),onMove:i,onEnd:(l,c)=>{delete this.session,r&&Me.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=Mr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=Xv(t,e.target.x),i=Xv(t,e.target.y);return`${n}% ${i}%`}},WR={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=pi.parse(t);if(r.length>5)return i;const l=pi.createTransformer(t),c=typeof r[0]!="number"?1:0,h=n.x.scale*e.x,p=n.y.scale*e.y;r[0+c]/=h,r[1+c]/=p;const m=Fe(h,p,.5);return typeof r[2+c]=="number"&&(r[2+c]/=m),typeof r[3+c]=="number"&&(r[3+c]/=m),l(r)}};class QR extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:l}=e;CM(ZR),l&&(n.group&&n.group.add(l),i&&i.register&&r&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Tl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,r||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Me.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function F_(t){const[e,n]=ES(),i=V.useContext(Gd);return x.jsx(QR,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(NS),isPresent:e,safeToRemove:n})}const ZR={borderRadius:{...vr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vr,borderTopRightRadius:vr,borderBottomLeftRadius:vr,borderBottomRightRadius:vr,boxShadow:WR};function eD(t,e,n){const i=yt(t)?t:kn(t);return i.start(_h("",i,e,n)),i.animation}function tD(t){return t instanceof SVGElement&&t.tagName!=="svg"}const nD=(t,e)=>t.depth-e.depth;class iD{constructor(){this.children=[],this.isDirty=!1}add(e){uh(this.children,e),this.isDirty=!0}remove(e){ch(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nD),this.isDirty=!1,this.children.forEach(e)}}function sD(t,e){const n=dn.now(),i=({timestamp:r})=>{const l=r-n;l>=e&&(mn(i),t(l-e))};return Me.read(i,!0),()=>mn(i)}const $_=["TopLeft","TopRight","BottomLeft","BottomRight"],oD=$_.length,jv=t=>typeof t=="string"?parseFloat(t):t,Wv=t=>typeof t=="number"||de.test(t);function rD(t,e,n,i,r,l){r?(t.opacity=Fe(0,n.opacity!==void 0?n.opacity:1,aD(i)),t.opacityExit=Fe(e.opacity!==void 0?e.opacity:1,0,lD(i))):l&&(t.opacity=Fe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let c=0;c<oD;c++){const h=`border${$_[c]}Radius`;let p=Qv(e,h),m=Qv(n,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||Wv(p)===Wv(m)?(t[h]=Math.max(Fe(jv(p),jv(m),i),0),(fn.test(m)||fn.test(p))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Fe(e.rotate||0,n.rotate||0,i))}function Qv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aD=J_(0,.5,l_),lD=J_(.5,.95,_t);function J_(t,e,n){return i=>i<t?0:i>e?1:n($i(t,e,i))}function Zv(t,e){t.min=e.min,t.max=e.max}function Kt(t,e){Zv(t.x,e.x),Zv(t.y,e.y)}function e0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function t0(t,e,n,i,r){return t-=e,t=Pl(t,1/n,i),r!==void 0&&(t=Pl(t,1/r,i)),t}function uD(t,e=0,n=1,i=.5,r,l=t,c=t){if(fn.test(e)&&(e=parseFloat(e),e=Fe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Fe(l.min,l.max,i);t===l&&(h-=e),t.min=t0(t.min,e,n,h,r),t.max=t0(t.max,e,n,h,r)}function n0(t,e,[n,i,r],l,c){uD(t,e[n],e[i],e[r],e.scale,l,c)}const cD=["x","scaleX","originX"],fD=["y","scaleY","originY"];function i0(t,e,n,i){n0(t.x,e,cD,n?n.x:void 0,i?i.x:void 0),n0(t.y,e,fD,n?n.y:void 0,i?i.y:void 0)}function s0(t){return t.translate===0&&t.scale===1}function Y_(t){return s0(t.x)&&s0(t.y)}function o0(t,e){return t.min===e.min&&t.max===e.max}function dD(t,e){return o0(t.x,e.x)&&o0(t.y,e.y)}function r0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function K_(t,e){return r0(t.x,e.x)&&r0(t.y,e.y)}function a0(t){return Ot(t.x)/Ot(t.y)}function l0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hD{constructor(){this.members=[]}add(e){uh(this.members,e),e.scheduleRender()}remove(e){if(ch(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mD(t,e,n){let i="";const r=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((r||l||c)&&(i=`translate3d(${r}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:T,rotateY:S,skewX:C,skewY:b}=n;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),T&&(i+=`rotateX(${T}deg) `),S&&(i+=`rotateY(${S}deg) `),C&&(i+=`skewX(${C}deg) `),b&&(i+=`skewY(${b}deg) `)}const h=t.x.scale*e.x,p=t.y.scale*e.y;return(h!==1||p!==1)&&(i+=`scale(${h}, ${p})`),i||"none"}const Gi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Er=typeof window<"u"&&window.MotionDebug!==void 0,If=["","X","Y","Z"],pD={visibility:"hidden"},u0=1e3;let gD=0;function kf(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function X_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=t_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Me,!(r||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&X_(i)}function j_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},h=e==null?void 0:e()){this.id=gD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Er&&(Gi.totalNodes=Gi.resolvedTargetDeltas=Gi.recalculatedProjection=0),this.nodes.forEach(TD),this.nodes.forEach(ED),this.nodes.forEach(wD),this.nodes.forEach(SD),Er&&window.MotionDebug.record(Gi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new iD)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new fh),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tD(c),this.instance=c;const{layoutId:p,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||p)&&(this.isLayoutDirty=!0),t){let T;const S=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=sD(S,250),Tl.hasAnimatedSinceResize&&(Tl.hasAnimatedSinceResize=!1,this.nodes.forEach(f0))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||m)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:S,hasRelativeTargetChanged:C,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||y.getDefaultTransition()||DD,{onLayoutAnimationStart:A,onLayoutAnimationComplete:D}=y.getProps(),I=!this.targetLayout||!K_(this.targetLayout,b)||C,M=!S&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||S&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,M);const L={...oh(E,"layout"),onPlay:A,onComplete:D};(y.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else S||f0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c0);return}this.isUpdating||this.nodes.forEach(CD),this.isUpdating=!1,this.nodes.forEach(xD),this.nodes.forEach(yD),this.nodes.forEach(vD),this.clearAllSnapshots();const h=dn.now();lt.delta=pn(0,1e3/60,h-lt.timestamp),lt.timestamp=h,lt.isProcessing=!0,Ef.update.process(lt),Ef.preRender.process(lt),Ef.render.process(lt),lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_D),this.sharedNodes.forEach(AD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Y_(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&(h||qi(this.latestValues)||y)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),ND(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return je();const p=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(PD))){const{scroll:y}=this.root;y&&(Qs(p.x,y.offset.x),Qs(p.y,y.offset.y))}return p}removeElementScroll(c){var h;const p=je();if(Kt(p,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return p;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:T,options:S}=y;y!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&Kt(p,c),Qs(p.x,T.offset.x),Qs(p.y,T.offset.y))}return p}applyTransform(c,h=!1){const p=je();Kt(p,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Zs(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),qi(y.latestValues)&&Zs(p,y.latestValues)}return qi(this.latestValues)&&Zs(p,this.latestValues),p}removeTransform(c){const h=je();Kt(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!qi(m.latestValues))continue;hd(m.latestValues)&&m.updateSnapshot();const y=je(),T=m.measurePageBox();Kt(y,T),i0(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return qi(this.latestValues)&&i0(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:S}=this.options;if(!(!this.layout||!(T||S))){if(this.resolvedRelativeTargetAt=lt.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),Dr(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=je(),this.targetWithTransforms=je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kt(this.target,this.layout.layoutBox),G_(this.target,this.targetDelta)):Kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),Dr(this.relativeTargetOrigin,this.target,C.target),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Er&&Gi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hd(this.parent.latestValues)||q_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),p=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===lt.timestamp&&(m=!1),m)return;const{layout:y,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||T))return;Kt(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,C=this.treeScale.y;FR(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=je());const{target:b}=h;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e0(this.prevProjectionDelta.x,this.projectionDelta.x),e0(this.prevProjectionDelta.y,this.projectionDelta.y)),Rr(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==C||!l0(this.projectionDelta.x,this.prevProjectionDelta.x)||!l0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Er&&Gi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ws(),this.projectionDelta=Ws(),this.projectionDeltaWithTransform=Ws()}setAnimationOrigin(c,h=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},T=Ws();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=je(),C=p?p.source:void 0,b=this.layout?this.layout.source:void 0,E=C!==b,A=this.getStack(),D=!A||A.members.length<=1,I=!!(E&&!D&&this.options.crossfade===!0&&!this.path.some(RD));this.animationProgress=0;let M;this.mixTargetDelta=L=>{const N=L/1e3;d0(T.x,c.x,N),d0(T.y,c.y,N),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dr(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MD(this.relativeTarget,this.relativeTargetOrigin,S,N),M&&dD(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=je()),Kt(M,this.relativeTarget)),E&&(this.animationValues=y,rD(y,m,this.latestValues,N,I,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{Tl.hasAnimatedSinceResize=!0,this.currentAnimation=eD(0,u0,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:y}=c;if(!(!h||!p||!m)){if(this!==c&&this.layout&&m&&W_(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||je();const T=Ot(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const S=Ot(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}Kt(h,p),Zs(h,y),Rr(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new hD),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&kf("z",c,m,this.animationValues);for(let y=0;y<If.length;y++)kf(`rotate${If[y]}`,c,m,this.animationValues),kf(`skew${If[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}getProjectionStyles(c){var h,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pD;const m={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=yl(c==null?void 0:c.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=yl(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!qi(this.latestValues)&&(E.transform=y?y({},""):"none",this.hasProjected=!1),E}const S=T.animationValues||T.latestValues;this.applyTransformsToTarget(),m.transform=mD(this.projectionDeltaWithTransform,this.treeScale,S),y&&(m.transform=y(S,m.transform));const{x:C,y:b}=this.projectionDelta;m.transformOrigin=`${C.origin*100}% ${b.origin*100}% 0`,T.animationValues?m.opacity=T===this?(p=(h=S.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:m.opacity=T===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const E in Al){if(S[E]===void 0)continue;const{correct:A,applyTo:D}=Al[E],I=m.transform==="none"?S[E]:A(S[E],T);if(D){const M=D.length;for(let L=0;L<M;L++)m[D[L]]=I}else m[E]=I}return this.options.layoutId&&(m.pointerEvents=T===this?yl(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(c0),this.root.sharedNodes.clear()}}}function yD(t){t.updateLayout()}function vD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Xt(T=>{const S=c?n.measuredBox[T]:n.layoutBox[T],C=Ot(S);S.min=i[T].min,S.max=S.min+C}):W_(l,n.layoutBox,i)&&Xt(T=>{const S=c?n.measuredBox[T]:n.layoutBox[T],C=Ot(i[T]);S.max=S.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+C)});const h=Ws();Rr(h,i,n.layoutBox);const p=Ws();c?Rr(p,t.applyTransform(r,!0),n.measuredBox):Rr(p,i,n.layoutBox);const m=!Y_(h);let y=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:C}=T;if(S&&C){const b=je();Dr(b,n.layoutBox,S.layoutBox);const E=je();Dr(E,i,C.layoutBox),K_(b,E)||(y=!0),T.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=b,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeTargetChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function TD(t){Er&&Gi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _D(t){t.clearSnapshot()}function c0(t){t.clearMeasurements()}function CD(t){t.isLayoutDirty=!1}function xD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function f0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ED(t){t.resolveTargetDelta()}function wD(t){t.calcProjection()}function bD(t){t.resetSkewAndRotation()}function AD(t){t.removeLeadSnapshot()}function d0(t,e,n){t.translate=Fe(e.translate,0,n),t.scale=Fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function h0(t,e,n,i){t.min=Fe(e.min,n.min,i),t.max=Fe(e.max,n.max,i)}function MD(t,e,n,i){h0(t.x,e.x,n.x,i),h0(t.y,e.y,n.y,i)}function RD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DD={duration:.45,ease:[.4,0,.1,1]},m0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),p0=m0("applewebkit/")&&!m0("chrome/")?Math.round:_t;function g0(t){t.min=p0(t.min),t.max=p0(t.max)}function ND(t){g0(t.x),g0(t.y)}function W_(t,e,n){return t==="position"||t==="preserve-aspect"&&!kR(a0(e),a0(n),.2)}function PD(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const ID=j_({attachResizeListener:(t,e)=>Vr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uf={current:void 0},Q_=j_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uf.current){const t=new ID({});t.mount(window),t.setOptions({layoutScroll:!0}),Uf.current=t}return Uf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kD={pan:{Feature:jR},drag:{Feature:XR,ProjectionNode:Q_,MeasureLayout:F_}};function y0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,l=i[r];l&&Me.postRender(()=>l(e,zr(e)))}class UD extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=LM(e,n=>(y0(this.node,n,"Start"),i=>y0(this.node,i,"End"))))}unmount(){}}class LD extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hr(Vr(this.node.current,"focus",()=>this.onFocus()),Vr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function v0(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),l=i[r];l&&Me.postRender(()=>l(e,zr(e)))}class VD extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=qM(e,n=>(v0(this.node,n,"Start"),(i,{success:r})=>v0(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pd=new WeakMap,Lf=new WeakMap,OD=t=>{const e=pd.get(t.target);e&&e(t)},BD=t=>{t.forEach(OD)};function qD({root:t,...e}){const n=t||document;Lf.has(n)||Lf.set(n,{});const i=Lf.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(BD,{root:t,...e})),i[r]}function GD(t,e,n){const i=qD(e);return pd.set(t,n),i.observe(t),()=>{pd.delete(t),i.unobserve(t)}}const HD={some:0,all:1};class zD extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:HD[r]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),S=m?y:T;S&&S(p)};return GD(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FD(e,n))&&this.startObserver()}unmount(){}}function FD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $D={inView:{Feature:zD},tap:{Feature:VD},focus:{Feature:LD},hover:{Feature:UD}},JD={layout:{ProjectionNode:Q_,MeasureLayout:F_}},gd={current:null},Z_={current:!1};function YD(){if(Z_.current=!0,!!zd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gd.current=t.matches;t.addListener(e),e()}else gd.current=!1}const KD=[...C_,gt,pi],XD=t=>KD.find(__(t)),T0=new WeakMap;function jD(t,e,n){for(const i in e){const r=e[i],l=n[i];if(yt(r))t.addValue(i,r);else if(yt(l))t.addValue(i,kn(r,{owner:t}));else if(l!==r)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=t.getStaticValue(i);t.addValue(i,kn(c!==void 0?c:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const S0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WD{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=dn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Me.render(this.render,!1,!0))};const{latestValues:p,renderState:m,onUpdate:y}=c;this.onUpdate=y,this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=zl(n),this.isVariantNode=RS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:T,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in S){const b=S[C];p[C]!==void 0&&yt(b)&&b.set(p[C],!1)}}mount(e){this.current=e,T0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Z_.current||YD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){T0.delete(this.current),this.projection&&this.projection.unmount(),mn(this.notifyUpdate),mn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ki.has(e),r=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Me.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ro){const n=ro[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<S0.length;i++){const r=S0[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=e[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=jD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=kn(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(T_(r)||c_(r))?r=parseFloat(r):!XD(r)&&pi.test(n)&&(r=g_(e,n)),this.setBaseTarget(e,yt(r)?r.get():r)),yt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=Wd(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!yt(l)?l:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class eC extends WD{constructor(){super(...arguments),this.KeyframeResolver=x_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QD(t){return window.getComputedStyle(t)}class ZD extends eC{constructor(){super(...arguments),this.type="html",this.renderInstance=OS}readValueFromInstance(e,n){if(Ki.has(n)){const i=yh(n);return i&&i.default||0}else{const i=QD(e),r=(US(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return H_(e,n)}build(e,n,i){eh(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return sh(e,n,i)}}class eN extends eC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=je}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ki.has(n)){const i=yh(n);return i&&i.default||0}return n=BS.has(n)?n:Kd(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return HS(e,n,i)}build(e,n,i){th(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){qS(e,n,i,r)}mount(e){this.isSVGTag=ih(e.tagName),super.mount(e)}}const tN=(t,e)=>jd(t)?new eN(e):new ZD(e,{allowProjection:t!==V.Fragment}),nN=NM({...wR,...$D,...kD,...JD},tN),oe=JA(nN);function tC(t,e,n){V.useInsertionEffect(()=>t.on(e,n),[t,e,n])}function nC(t,e){let n;const i=()=>{const{currentTime:r}=e,c=(r===null?0:r.value)/100;n!==c&&t(c),n=c};return Me.update(i,!0),()=>mn(i)}const Sl=new WeakMap;let di;function iN(t,e){if(e){const{inlineSize:n,blockSize:i}=e[0];return{width:n,height:i}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function sN({target:t,contentRect:e,borderBoxSize:n}){var i;(i=Sl.get(t))===null||i===void 0||i.forEach(r=>{r({target:t,contentSize:e,get size(){return iN(t,n)}})})}function oN(t){t.forEach(sN)}function rN(){typeof ResizeObserver>"u"||(di=new ResizeObserver(oN))}function aN(t,e){di||rN();const n=WS(t);return n.forEach(i=>{let r=Sl.get(i);r||(r=new Set,Sl.set(i,r)),r.add(e),di==null||di.observe(i)}),()=>{n.forEach(i=>{const r=Sl.get(i);r==null||r.delete(e),r!=null&&r.size||di==null||di.unobserve(i)})}}const _l=new Set;let Nr;function lN(){Nr=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};_l.forEach(n=>n(e))},window.addEventListener("resize",Nr)}function uN(t){return _l.add(t),Nr||lN(),()=>{_l.delete(t),!_l.size&&Nr&&(Nr=void 0)}}function cN(t,e){return typeof t=="function"?uN(t):aN(t,e)}const fN=50,_0=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),dN=()=>({time:0,x:_0(),y:_0()}),hN={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function C0(t,e,n,i){const r=n[e],{length:l,position:c}=hN[e],h=r.current,p=n.time;r.current=t[`scroll${c}`],r.scrollLength=t[`scroll${l}`]-t[`client${l}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=$i(0,r.scrollLength,r.current);const m=i-p;r.velocity=m>fN?0:dh(r.current-h,m)}function mN(t,e,n){C0(t,"x",e,n),C0(t,"y",e,n),e.time=n}function pN(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(i instanceof HTMLElement)n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const l=i.getBoundingClientRect();n.x+=r.left-l.left,n.y+=r.top-l.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:l}=i.getBBox();n.x+=r,n.y+=l;let c=null,h=i.parentNode;for(;!c;)h.tagName==="svg"&&(c=h),h=i.parentNode;i=c}else break;return n}const yd={start:0,center:.5,end:1};function x0(t,e,n=0){let i=0;if(t in yd&&(t=yd[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?i=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?i=r/100*document.documentElement.clientWidth:t.endsWith("vh")?i=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(i=e*t),n+i}const gN=[0,0];function yN(t,e,n,i){let r=Array.isArray(t)?t:gN,l=0,c=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,yd[t]?t:"0"]),l=x0(r[0],n,i),c=x0(r[1],e),l-c}const vN={All:[[0,0],[1,1]]},TN={x:0,y:0};function SN(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function _N(t,e,n){const{offset:i=vN.All}=n,{target:r=t,axis:l="y"}=n,c=l==="y"?"height":"width",h=r!==t?pN(r,t):TN,p=r===t?{width:t.scrollWidth,height:t.scrollHeight}:SN(r),m={width:t.clientWidth,height:t.clientHeight};e[l].offset.length=0;let y=!e[l].interpolate;const T=i.length;for(let S=0;S<T;S++){const C=yN(i[S],m[c],p[c],h[l]);!y&&C!==e[l].interpolatorOffsets[S]&&(y=!0),e[l].offset[S]=C}y&&(e[l].interpolate=D_(e[l].offset,N_(i),{clamp:!1}),e[l].interpolatorOffsets=[...e[l].offset]),e[l].progress=pn(0,1,e[l].interpolate(e[l].current))}function CN(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function xN(t,e,n,i={}){return{measure:()=>CN(t,i.target,n),update:r=>{mN(t,n,r),(i.offset||i.target)&&_N(t,n,i)},notify:()=>e(n)}}const Tr=new WeakMap,E0=new WeakMap,Vf=new WeakMap,w0=t=>t===document.documentElement?window:t;function Ch(t,{container:e=document.documentElement,...n}={}){let i=Vf.get(e);i||(i=new Set,Vf.set(e,i));const r=dN(),l=xN(e,t,r,n);if(i.add(l),!Tr.has(e)){const h=()=>{for(const S of i)S.measure()},p=()=>{for(const S of i)S.update(lt.timestamp)},m=()=>{for(const S of i)S.notify()},y=()=>{Me.read(h,!1,!0),Me.read(p,!1,!0),Me.update(m,!1,!0)};Tr.set(e,y);const T=w0(e);window.addEventListener("resize",y,{passive:!0}),e!==document.documentElement&&E0.set(e,cN(e,y)),T.addEventListener("scroll",y,{passive:!0})}const c=Tr.get(e);return Me.read(c,!1,!0),()=>{var h;mn(c);const p=Vf.get(e);if(!p||(p.delete(l),p.size))return;const m=Tr.get(e);Tr.delete(e),m&&(w0(e).removeEventListener("scroll",m),(h=E0.get(e))===null||h===void 0||h(),window.removeEventListener("resize",m))}}function EN({source:t,container:e,axis:n="y"}){t&&(e=t);const i={value:0},r=Ch(l=>{i.value=l[n].progress*100},{container:e,axis:n});return{currentTime:i,cancel:r}}const Of=new Map;function iC({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),Of.has(e)||Of.set(e,{});const i=Of.get(e);return i[n]||(i[n]=$S()?new ScrollTimeline({source:e,axis:n}):EN({source:e,axis:n})),i[n]}function wN(t){return t.length===2}function sC(t){return t&&(t.target||t.offset)}function bN(t,e){return wN(t)||sC(e)?Ch(n=>{t(n[e.axis].progress,n)},e):nC(t,iC(e))}function AN(t,e){if(t.flatten(),sC(e))return t.pause(),Ch(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=iC(e);return t.attachTimeline?t.attachTimeline(n,i=>(i.pause(),nC(r=>{i.time=i.duration*r},n))):_t}}function MN(t,{axis:e="y",...n}={}){const i={axis:e,...n};return typeof t=="function"?bN(t,i):AN(t,i)}function b0(t,e){OA(!!(!e||e.current))}const RN=()=>({scrollX:kn(0),scrollY:kn(0),scrollXProgress:kn(0),scrollYProgress:kn(0)});function oC({container:t,target:e,layoutEffect:n=!0,...i}={}){const r=Bl(RN);return(n?Fd:V.useEffect)(()=>(b0("target",e),b0("container",t),MN((c,{x:h,y:p})=>{r.scrollX.set(h.current),r.scrollXProgress.set(h.progress),r.scrollY.set(p.current),r.scrollYProgress.set(p.progress)},{...i,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(i.offset)]),r}const xh=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),rC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),DN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),aC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),lC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),NN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:x.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})}),PN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 22.5l-.648-1.938a3.375 3.375 0 00-2.672-2.672L11.25 18l1.938-.648a3.375 3.375 0 002.672-2.672L16.25 13l.648 1.938a3.375 3.375 0 002.672 2.672L21 18l-1.938.648a3.375 3.375 0 00-2.672 2.672z"})}),uC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),cC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),IN=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),kN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),vd=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),Td=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),UN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})}),LN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),VN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),ON=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),BN=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.3}}},e={hidden:{opacity:0,y:-30},visible:{opacity:1,y:0,transition:{duration:.7,type:"spring"}}},n={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return x.jsxs("div",{className:"h-screen w-screen bg-gradient-to-b from-white to-slate-100 flex flex-col p-8",children:[x.jsx(oe.div,{className:"flex-grow flex flex-col justify-center items-center text-center",variants:t,initial:"hidden",animate:"visible",children:x.jsxs(oe.div,{variants:e,className:"flex flex-col items-center",children:[x.jsx(oe.div,{animate:{y:[0,-5,0]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},className:"bg-bca-blue p-5 rounded-3xl shadow-lg shadow-blue-500/30 mb-5",children:x.jsx(xh,{className:"w-20 h-20 text-white"})}),x.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:"Selamat Datang di SIKAT"}),x.jsx("p",{className:"text-slate-600 mt-2 max-w-sm",children:"Sistem Informasi Keuangan Al-Hasaniyyah Terpusat."})]})}),x.jsxs(oe.div,{className:"flex-shrink-0 w-full max-w-md mx-auto space-y-4",variants:n,initial:"hidden",animate:"visible",transition:{delay:.5},children:[x.jsx(oe.button,{onClick:()=>window.location.hash="#/login",className:"block w-full text-center bg-bca-blue text-white font-bold py-4 px-4 rounded-xl transition-all shadow-md shadow-blue-600/30 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-bca-blue/50",whileTap:{scale:.98},children:"Masuk sebagai Admin"}),x.jsx(oe.button,{onClick:()=>window.location.hash="#/public/dashboard",className:"block w-full text-center bg-white text-bca-blue font-bold py-4 px-4 rounded-xl transition-all shadow-md shadow-slate-200/50 hover:bg-slate-50 border border-slate-200",whileTap:{scale:.98},children:"Lihat Data Publik"})]})]})},qN=()=>{const[t,e]=V.useState(""),[n,i]=V.useState(""),[r,l]=V.useState(""),[c,h]=V.useState(!1),{login:p}=Ol(),m=async y=>{var S;if(y.preventDefault(),c)return;h(!0),l("");const T=await p(t,n);T.success||((S=T.error)!=null&&S.includes("Invalid login credentials")?l("Email atau password salah. Pastikan akun admin telah dibuat di Supabase."):l("Terjadi kesalahan. Silakan coba lagi nanti."),console.error("Login failed:",T.error)),h(!1)};return x.jsx("div",{className:"h-screen w-screen bg-slate-50 flex justify-center items-center p-4",children:x.jsx(oe.div,{className:"w-full max-w-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-900 text-center mb-2",children:"Login Admin"}),x.jsx("p",{className:"text-slate-500 text-center mb-6",children:"Masukkan kredensial untuk mengelola data."}),x.jsxs("form",{onSubmit:m,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),x.jsx("input",{type:"email",id:"email",value:t,onChange:y=>e(y.target.value),placeholder:"Email",className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",autoComplete:"email",autoFocus:!0,disabled:c})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),x.jsx("input",{type:"password",id:"password",value:n,onChange:y=>i(y.target.value),placeholder:"Password",className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",autoComplete:"current-password",disabled:c})]}),r&&x.jsx("p",{className:"text-rose-500 text-sm text-center",children:r}),x.jsx(oe.button,{type:"submit",className:"w-full bg-bca-blue text-white font-bold py-3 px-4 rounded-lg transition-all shadow-md shadow-blue-600/30 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-bca-blue/50 disabled:bg-slate-400",whileTap:{scale:.98},disabled:c,children:c?"Memverifikasi...":"Masuk"})]}),x.jsx("div",{className:"text-center mt-6",children:x.jsx("button",{onClick:()=>window.location.hash="#/",className:"text-sm text-bca-blue hover:underline",disabled:c,children:"Kembali ke Halaman Utama"})})]})})})};var Ve=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t))(Ve||{}),cn=(t=>(t.PENDAPATAN="Pendapatan",t.PINJAMAN="Pinjaman",t))(cn||{}),St=(t=>(t.REGULER="Reguler",t.BAYAR_PINJAMAN="Bayar Pinjaman",t))(St||{});const fC=V.createContext(null),fo=()=>{const t=V.useContext(fC);if(!t)throw new Error("useData must be used within a DataProvider");return t},Bf=t=>{const e=t.filter(i=>i.type===Ve.INCOME).reduce((i,r)=>i+r.amount,0),n=t.filter(i=>i.type===Ve.EXPENSE).reduce((i,r)=>i+r.amount,0);return e-n},GN=({children:t})=>{const{currentUser:e}=Ol(),[n,i]=V.useState([]),[r,l]=V.useState([]),[c,h]=V.useState([]),[p,m]=V.useState(!0),y=V.useMemo(()=>Bf(n),[n]),T=V.useCallback(async()=>{m(!0);try{const{data:O,error:z}=await tt.from("transactions").select("*").order("created_at",{ascending:!1});if(z)throw new Error(`Fetch transactions: ${z.message}`);i(O||[]);const{data:X,error:J}=await tt.from("lembagas").select("*").order("name");if(J)throw new Error(`Fetch lembagas: ${J.message}`);l(X||[]);const{data:Q,error:Z}=await tt.from("pemberi_pinjamans").select("*").order("name");if(Z)throw new Error(`Fetch pemberi pinjamans: ${Z.message}`);h(Q||[])}catch(O){console.error("Error fetching data:",O),i([]),l([]),h([])}finally{m(!1)}},[]);V.useEffect(()=>{T()},[e,T]);const S=async O=>{if(!e)return{success:!1,message:"User not authenticated."};const z={...O,id:"",created_at:new Date().toISOString(),user_id:e.id},X=[z,...n];if(z.type===Ve.EXPENSE&&Bf(X)<0)return{success:!1,message:"Saldo tidak mencukupi untuk melakukan transaksi ini."};if(z.subtype===St.BAYAR_PINJAMAN){const Q=X.filter(ne=>ne.subtype===cn.PINJAMAN&&ne.source_id===z.source_id).reduce((ne,Pe)=>ne+Pe.amount,0);if(X.filter(ne=>ne.subtype===St.BAYAR_PINJAMAN&&ne.source_id===z.source_id).reduce((ne,Pe)=>ne+Pe.amount,0)>Q)return{success:!1,message:"Jumlah pembayaran melebihi sisa hutang."}}const{error:J}=await tt.from("transactions").insert({...O,user_id:e.id});return J?{success:!1,message:J.message}:(await T(),{success:!0})},C=async(O,z)=>{const X=n.find(ne=>ne.id===O);if(!X)return{success:!1,message:"Transaksi tidak ditemukan."};const J={...X,...z},Q=n.map(ne=>ne.id===O?J:ne);if(J.type===Ve.EXPENSE&&Bf(Q)<0)return{success:!1,message:"Saldo tidak mencukupi untuk melakukan transaksi ini."};if(J.subtype===St.BAYAR_PINJAMAN){const ne=Q.filter(ue=>ue.subtype===cn.PINJAMAN&&ue.source_id===J.source_id).reduce((ue,ve)=>ue+ve.amount,0);if(Q.filter(ue=>ue.subtype===St.BAYAR_PINJAMAN&&ue.source_id===J.source_id).reduce((ue,ve)=>ue+ve.amount,0)>ne)return{success:!1,message:"Jumlah pembayaran melebihi sisa hutang."}}const{error:Z}=await tt.from("transactions").update(z).eq("id",O);return Z?{success:!1,message:Z.message}:(await T(),{success:!0})},b=async O=>{const{error:z}=await tt.from("transactions").delete().eq("id",O);return z?{success:!1,message:z.message}:(await T(),{success:!0})},E=async O=>{if(!e)return{success:!1,message:"User not authenticated."};const{error:z}=await tt.from("lembagas").insert({name:O,user_id:e.id});return z?{success:!1,message:z.message}:(await T(),{success:!0})},A=async(O,z)=>{const{error:X}=await tt.from("lembagas").update({name:z}).eq("id",O);return X?{success:!1,message:X.message}:(await T(),{success:!0})},D=async O=>{const{data:z,error:X}=await tt.from("transactions").select("id").eq("source_id",O).limit(1);if(X)return{success:!1,message:X.message};if(z&&z.length>0)return{success:!1,message:"Gagal menghapus! Lembaga ini masih digunakan dalam satu atau lebih transaksi."};const{error:J}=await tt.from("lembagas").delete().eq("id",O);return J?{success:!1,message:J.message}:(await T(),{success:!0})},I=async O=>{if(!e)return{success:!1,message:"User not authenticated."};const{error:z}=await tt.from("pemberi_pinjamans").insert({name:O,user_id:e.id});return z?{success:!1,message:z.message}:(await T(),{success:!0})},M=async(O,z)=>{const{error:X}=await tt.from("pemberi_pinjamans").update({name:z}).eq("id",O);return X?{success:!1,message:X.message}:(await T(),{success:!0})},L=async O=>{const{data:z,error:X}=await tt.from("transactions").select("id").eq("source_id",O).limit(1);if(X)return{success:!1,message:X.message};if(z&&z.length>0)return{success:!1,message:"Gagal menghapus! Pemberi Pinjaman ini masih digunakan dalam satu atau lebih transaksi."};const{error:J}=await tt.from("pemberi_pinjamans").delete().eq("id",O);return J?{success:!1,message:J.message}:(await T(),{success:!0})},N=V.useMemo(()=>({isLoading:p,transactions:n,lembagas:r,pemberiPinjamans:c,balance:y,addTransaction:S,updateTransaction:C,deleteTransaction:b,addLembaga:E,updateLembaga:A,deleteLembaga:D,addPemberiPinjaman:I,updatePemberiPinjaman:M,deletePemberiPinjaman:L}),[p,n,r,c,y,S,C,b,E,A,D,I,M,L]);return x.jsx(fC.Provider,{value:N,children:t})},A0=["#0060AE","#007ACC","#0099CC","#607D8B","#9E9E9E","#795548"],HN={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},qf={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},M0=({message:t,subMessage:e})=>x.jsxs(oe.div,{className:"h-32 flex flex-col items-center justify-center text-center text-slate-500",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[x.jsx(vd,{className:"w-12 h-12 mb-2 text-slate-400"}),x.jsx("h4",{className:"font-semibold text-slate-600",children:t}),x.jsx("p",{className:"text-sm",children:e})]}),zN=()=>x.jsx("div",{className:"flex justify-center items-center h-full",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),Il=()=>{const{transactions:t,lembagas:e,pemberiPinjamans:n,isLoading:i}=fo(),r=V.useMemo(()=>t.filter(y=>y.type===Ve.INCOME).reduce((y,T)=>y+T.amount,0),[t]),l=V.useMemo(()=>t.filter(y=>y.type===Ve.EXPENSE).reduce((y,T)=>y+T.amount,0),[t]),c=V.useMemo(()=>r-l,[r,l]),h=V.useMemo(()=>e.map(y=>{const T=t.filter(S=>S.type===Ve.EXPENSE&&S.subtype===St.REGULER&&S.source_id===y.id).reduce((S,C)=>S+C.amount,0);return{name:y.name,value:T}}).filter(y=>y.value>0),[e,t]),p=V.useMemo(()=>h.reduce((y,T)=>y+T.value,0),[h]),m=V.useMemo(()=>n.map(y=>{const T=t.filter(E=>E.type===Ve.INCOME&&E.subtype===cn.PINJAMAN&&E.source_id===y.id).reduce((E,A)=>E+A.amount,0);if(T===0)return null;const S=t.filter(E=>E.type===Ve.EXPENSE&&E.subtype===St.BAYAR_PINJAMAN&&E.source_id===y.id).reduce((E,A)=>E+A.amount,0),C=T-S,b=T>0?Math.min(S/T*100,100):0;return{id:y.id,name:y.name,totalLoan:T,totalPaid:S,remainingDebt:C,percentagePaid:b}}).filter(y=>y!==null),[n,t]);return x.jsxs(oe.div,{className:"p-4 space-y-5",variants:HN,initial:"hidden",animate:"visible",children:[x.jsx(oe.div,{className:"p-5 rounded-xl shadow-lg shadow-blue-900/30 bg-gradient-to-br from-bca-blue to-blue-900 text-white min-h-[160px]",variants:qf,whileHover:{scale:1.02,transition:{type:"spring",stiffness:300}},children:i?x.jsx(zN,{}):x.jsxs(x.Fragment,{children:[x.jsx("h3",{className:"text-blue-200/90 text-base font-medium",children:"Saldo Saat Ini"}),x.jsxs("p",{className:"text-4xl font-extrabold tracking-tight leading-none",children:["Rp ",c.toLocaleString("id-ID")]}),x.jsxs("div",{className:"flex space-x-4 mt-4 pt-4 border-t border-white/20",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("span",{className:"text-blue-200/90 text-sm",children:"Pemasukan"}),x.jsxs("p",{className:"text-xl font-bold",children:["Rp ",r.toLocaleString("id-ID")]})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("span",{className:"text-blue-200/90 text-sm",children:"Pengeluaran"}),x.jsxs("p",{className:"text-xl font-bold",children:["Rp ",l.toLocaleString("id-ID")]})]})]})]})}),x.jsxs(oe.div,{className:"bg-white p-4 rounded-xl shadow-md shadow-slate-200/50",variants:qf,children:[x.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-4",children:"Statistik Pinjaman"}),i?x.jsx("p",{className:"text-center text-slate-500 py-4",children:"Memuat data..."}):m.length>0?x.jsx("div",{className:"space-y-4",children:m.map(y=>x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsx("span",{className:"font-semibold text-slate-700",children:y.name}),x.jsxs("span",{className:"text-sm text-slate-500",children:["Sisa: ",x.jsxs("span",{className:"font-bold text-rose-600",children:["Rp ",y.remainingDebt.toLocaleString("id-ID")]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 overflow-hidden",children:x.jsx(oe.div,{className:"bg-bca-blue h-2.5 rounded-full",initial:{width:0},animate:{width:`${y.percentagePaid}%`},transition:{duration:.8,ease:"easeOut"}})}),x.jsxs("div",{className:"text-xs text-slate-500 text-right mt-1",children:[Math.round(y.percentagePaid),"% Lunas"]})]},y.id))}):x.jsx(M0,{message:"Belum Ada Pinjaman",subMessage:"Data pinjaman akan muncul di sini."})]}),x.jsxs(oe.div,{className:"bg-white p-4 rounded-xl shadow-md shadow-slate-200/50",variants:qf,children:[x.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-4",children:"Rincian Pengeluaran Reguler"}),i?x.jsx("p",{className:"text-center text-slate-500 py-4",children:"Memuat data..."}):h.length>0?x.jsx(oe.div,{className:"space-y-4",variants:{visible:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"visible",children:h.map((y,T)=>{const S=p>0?y.value/p*100:0,C=A0[T%A0.length];return x.jsxs(oe.div,{variants:{hidden:{y:15,opacity:0},visible:{y:0,opacity:1}},children:[x.jsxs("div",{className:"flex justify-between items-center text-sm mb-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:C}}),x.jsx("span",{className:"font-medium text-slate-700",children:y.name})]}),x.jsxs("span",{className:"font-semibold text-slate-800",children:["Rp ",y.value.toLocaleString("id-ID")]})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 overflow-hidden",children:x.jsx(oe.div,{className:"h-2 rounded-full",style:{backgroundColor:C},initial:{width:0},animate:{width:`${S}%`},transition:{duration:.8,ease:"easeOut"}})})]},y.name)})}):x.jsx(M0,{message:"Belum Ada Pengeluaran",subMessage:"Data pengeluaran reguler akan muncul di sini."})]})]})};function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sd.apply(null,arguments)}function R0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _d(t,e){return _d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_d(t,e)}function FN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_d(t,e)}var D0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function $N(t,e){return!!(t===e||D0(t)&&D0(e))}function JN(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!$N(t[n],e[n]))return!1;return!0}function Gf(t,e){e===void 0&&(e=JN);var n,i=[],r,l=!1;function c(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return l&&n===this&&e(h,i)||(r=t.apply(this,h),l=!0,n=this,i=h),r}return c}var YN=typeof performance=="object"&&typeof performance.now=="function",N0=YN?function(){return performance.now()}:function(){return Date.now()};function P0(t){cancelAnimationFrame(t.id)}function KN(t,e){var n=N0();function i(){N0()-n>=e?t.call(null):r.id=requestAnimationFrame(i)}var r={id:requestAnimationFrame(i)};return r}var Hf=-1;function I0(t){if(t===void 0&&(t=!1),Hf===-1||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),Hf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Hf}var Js=null;function k0(t){if(t===void 0&&(t=!1),Js===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?Js="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Js="negative":Js="positive-ascending"),document.body.removeChild(e),Js}return Js}var XN=150,jN=function(e,n){return e};function WN(t){var e,n=t.getItemOffset,i=t.getEstimatedTotalSize,r=t.getItemSize,l=t.getOffsetForIndexAndAlignment,c=t.getStartIndexForOffset,h=t.getStopIndexForStartIndex,p=t.initInstanceProps,m=t.shouldResetStyleCacheOnItemSizeChange,y=t.validateProps;return e=function(T){FN(S,T);function S(b){var E;return E=T.call(this,b)||this,E._instanceProps=p(E.props,R0(E)),E._outerRef=void 0,E._resetIsScrollingTimeoutId=null,E.state={instance:R0(E),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof E.props.initialScrollOffset=="number"?E.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},E._callOnItemsRendered=void 0,E._callOnItemsRendered=Gf(function(A,D,I,M){return E.props.onItemsRendered({overscanStartIndex:A,overscanStopIndex:D,visibleStartIndex:I,visibleStopIndex:M})}),E._callOnScroll=void 0,E._callOnScroll=Gf(function(A,D,I){return E.props.onScroll({scrollDirection:A,scrollOffset:D,scrollUpdateWasRequested:I})}),E._getItemStyle=void 0,E._getItemStyle=function(A){var D=E.props,I=D.direction,M=D.itemSize,L=D.layout,N=E._getItemStyleCache(m&&M,m&&L,m&&I),O;if(N.hasOwnProperty(A))O=N[A];else{var z=n(E.props,A,E._instanceProps),X=r(E.props,A,E._instanceProps),J=I==="horizontal"||L==="horizontal",Q=I==="rtl",Z=J?z:0;N[A]=O={position:"absolute",left:Q?void 0:Z,right:Q?Z:void 0,top:J?0:z,height:J?"100%":X,width:J?X:"100%"}}return O},E._getItemStyleCache=void 0,E._getItemStyleCache=Gf(function(A,D,I){return{}}),E._onScrollHorizontal=function(A){var D=A.currentTarget,I=D.clientWidth,M=D.scrollLeft,L=D.scrollWidth;E.setState(function(N){if(N.scrollOffset===M)return null;var O=E.props.direction,z=M;if(O==="rtl")switch(k0()){case"negative":z=-M;break;case"positive-descending":z=L-I-M;break}return z=Math.max(0,Math.min(z,L-I)),{isScrolling:!0,scrollDirection:N.scrollOffset<z?"forward":"backward",scrollOffset:z,scrollUpdateWasRequested:!1}},E._resetIsScrollingDebounced)},E._onScrollVertical=function(A){var D=A.currentTarget,I=D.clientHeight,M=D.scrollHeight,L=D.scrollTop;E.setState(function(N){if(N.scrollOffset===L)return null;var O=Math.max(0,Math.min(L,M-I));return{isScrolling:!0,scrollDirection:N.scrollOffset<O?"forward":"backward",scrollOffset:O,scrollUpdateWasRequested:!1}},E._resetIsScrollingDebounced)},E._outerRefSetter=function(A){var D=E.props.outerRef;E._outerRef=A,typeof D=="function"?D(A):D!=null&&typeof D=="object"&&D.hasOwnProperty("current")&&(D.current=A)},E._resetIsScrollingDebounced=function(){E._resetIsScrollingTimeoutId!==null&&P0(E._resetIsScrollingTimeoutId),E._resetIsScrollingTimeoutId=KN(E._resetIsScrolling,XN)},E._resetIsScrolling=function(){E._resetIsScrollingTimeoutId=null,E.setState({isScrolling:!1},function(){E._getItemStyleCache(-1,null)})},E}S.getDerivedStateFromProps=function(E,A){return QN(E,A),y(E),null};var C=S.prototype;return C.scrollTo=function(E){E=Math.max(0,E),this.setState(function(A){return A.scrollOffset===E?null:{scrollDirection:A.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},C.scrollToItem=function(E,A){A===void 0&&(A="auto");var D=this.props,I=D.itemCount,M=D.layout,L=this.state.scrollOffset;E=Math.max(0,Math.min(E,I-1));var N=0;if(this._outerRef){var O=this._outerRef;M==="vertical"?N=O.scrollWidth>O.clientWidth?I0():0:N=O.scrollHeight>O.clientHeight?I0():0}this.scrollTo(l(this.props,E,A,L,this._instanceProps,N))},C.componentDidMount=function(){var E=this.props,A=E.direction,D=E.initialScrollOffset,I=E.layout;if(typeof D=="number"&&this._outerRef!=null){var M=this._outerRef;A==="horizontal"||I==="horizontal"?M.scrollLeft=D:M.scrollTop=D}this._callPropsCallbacks()},C.componentDidUpdate=function(){var E=this.props,A=E.direction,D=E.layout,I=this.state,M=I.scrollOffset,L=I.scrollUpdateWasRequested;if(L&&this._outerRef!=null){var N=this._outerRef;if(A==="horizontal"||D==="horizontal")if(A==="rtl")switch(k0()){case"negative":N.scrollLeft=-M;break;case"positive-ascending":N.scrollLeft=M;break;default:var O=N.clientWidth,z=N.scrollWidth;N.scrollLeft=z-O-M;break}else N.scrollLeft=M;else N.scrollTop=M}this._callPropsCallbacks()},C.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&P0(this._resetIsScrollingTimeoutId)},C.render=function(){var E=this.props,A=E.children,D=E.className,I=E.direction,M=E.height,L=E.innerRef,N=E.innerElementType,O=E.innerTagName,z=E.itemCount,X=E.itemData,J=E.itemKey,Q=J===void 0?jN:J,Z=E.layout,ne=E.outerElementType,Pe=E.outerTagName,ue=E.style,ve=E.useIsScrolling,F=E.width,j=this.state.isScrolling,ie=I==="horizontal"||Z==="horizontal",xe=ie?this._onScrollHorizontal:this._onScrollVertical,P=this._getRangeToRender(),W=P[0],te=P[1],ee=[];if(z>0)for(var ae=W;ae<=te;ae++)ee.push(V.createElement(A,{data:X,key:Q(ae,X),index:ae,isScrolling:ve?j:void 0,style:this._getItemStyle(ae)}));var Ee=i(this.props,this._instanceProps);return V.createElement(ne||Pe||"div",{className:D,onScroll:xe,ref:this._outerRefSetter,style:Sd({position:"relative",height:M,width:F,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:I},ue)},V.createElement(N||O||"div",{children:ee,ref:L,style:{height:ie?"100%":Ee,pointerEvents:j?"none":void 0,width:ie?Ee:"100%"}}))},C._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var E=this.props.itemCount;if(E>0){var A=this._getRangeToRender(),D=A[0],I=A[1],M=A[2],L=A[3];this._callOnItemsRendered(D,I,M,L)}}if(typeof this.props.onScroll=="function"){var N=this.state,O=N.scrollDirection,z=N.scrollOffset,X=N.scrollUpdateWasRequested;this._callOnScroll(O,z,X)}},C._getRangeToRender=function(){var E=this.props,A=E.itemCount,D=E.overscanCount,I=this.state,M=I.isScrolling,L=I.scrollDirection,N=I.scrollOffset;if(A===0)return[0,0,0,0];var O=c(this.props,N,this._instanceProps),z=h(this.props,O,N,this._instanceProps),X=!M||L==="backward"?Math.max(1,D):1,J=!M||L==="forward"?Math.max(1,D):1;return[Math.max(0,O-X),Math.max(0,Math.min(A-1,z+J)),O,z]},S}(V.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var QN=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},ZN=50,eo=function(e,n,i){var r=e,l=r.itemSize,c=i.itemMetadataMap,h=i.lastMeasuredIndex;if(n>h){var p=0;if(h>=0){var m=c[h];p=m.offset+m.size}for(var y=h+1;y<=n;y++){var T=l(y);c[y]={offset:p,size:T},p+=T}i.lastMeasuredIndex=n}return c[n]},eP=function(e,n,i){var r=n.itemMetadataMap,l=n.lastMeasuredIndex,c=l>0?r[l].offset:0;return c>=i?dC(e,n,l,0,i):tP(e,n,Math.max(0,l),i)},dC=function(e,n,i,r,l){for(;r<=i;){var c=r+Math.floor((i-r)/2),h=eo(e,c,n).offset;if(h===l)return c;h<l?r=c+1:h>l&&(i=c-1)}return r>0?r-1:0},tP=function(e,n,i,r){for(var l=e.itemCount,c=1;i<l&&eo(e,i,n).offset<r;)i+=c,c*=2;return dC(e,n,Math.min(i,l-1),Math.floor(i/2),r)},U0=function(e,n){var i=e.itemCount,r=n.itemMetadataMap,l=n.estimatedItemSize,c=n.lastMeasuredIndex,h=0;if(c>=i&&(c=i-1),c>=0){var p=r[c];h=p.offset+p.size}var m=i-c-1,y=m*l;return h+y},nP=WN({getItemOffset:function(e,n,i){return eo(e,n,i).offset},getItemSize:function(e,n,i){return i.itemMetadataMap[n].size},getEstimatedTotalSize:U0,getOffsetForIndexAndAlignment:function(e,n,i,r,l,c){var h=e.direction,p=e.height,m=e.layout,y=e.width,T=h==="horizontal"||m==="horizontal",S=T?y:p,C=eo(e,n,l),b=U0(e,l),E=Math.max(0,Math.min(b-S,C.offset)),A=Math.max(0,C.offset-S+C.size+c);switch(i==="smart"&&(r>=A-S&&r<=E+S?i="auto":i="center"),i){case"start":return E;case"end":return A;case"center":return Math.round(A+(E-A)/2);case"auto":default:return r>=A&&r<=E?r:r<A?A:E}},getStartIndexForOffset:function(e,n,i){return eP(e,i,n)},getStopIndexForStartIndex:function(e,n,i,r){for(var l=e.direction,c=e.height,h=e.itemCount,p=e.layout,m=e.width,y=l==="horizontal"||p==="horizontal",T=y?m:c,S=eo(e,n,r),C=i+T,b=S.offset+S.size,E=n;E<h-1&&b<C;)E++,b+=eo(e,E,r).size;return E},initInstanceProps:function(e,n){var i=e,r=i.estimatedItemSize,l={itemMetadataMap:{},estimatedItemSize:r||ZN,lastMeasuredIndex:-1};return n.resetAfterIndex=function(c,h){h===void 0&&(h=!0),l.lastMeasuredIndex=Math.min(l.lastMeasuredIndex,c-1),n._getItemStyleCache(-1),h&&n.forceUpdate()},l},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const iP=({transaction:t,lembagas:e,pemberiPinjamans:n,onEdit:i,onDelete:r,isReadOnly:l})=>{var m,y;const c=t.type===Ve.INCOME,h=c?"text-emerald-600":"text-rose-600",p=t.subtype===cn.PENDAPATAN||t.subtype===St.REGULER?(m=e.find(T=>T.id===t.source_id))==null?void 0:m.name:(y=n.find(T=>T.id===t.source_id))==null?void 0:y.name;return x.jsxs(oe.li,{layout:!0,initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,transition:{duration:.2}},className:"flex items-center p-3.5 bg-white rounded-xl shadow-md shadow-slate-200/50",children:[x.jsxs("div",{className:"flex-grow flex items-center overflow-hidden",children:[x.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center ${c?"bg-emerald-100":"bg-rose-100"}`,children:x.jsx("span",{className:"font-bold text-lg",children:c?"+":"-"})}),x.jsxs("div",{className:"ml-3 flex-grow overflow-hidden",children:[x.jsx("p",{className:"font-bold text-slate-800 truncate",children:t.description}),x.jsxs("p",{className:"text-sm text-slate-500",children:[t.subtype," (",p||"N/A",")"]})]})]}),x.jsxs("div",{className:"flex-shrink-0 flex items-center ml-2",children:[x.jsxs("p",{className:`font-bold whitespace-nowrap ${h}`,children:["Rp ",t.amount.toLocaleString("id-ID")]}),!l&&x.jsxs("div",{className:"pl-1 flex",children:[x.jsx(oe.button,{whileTap:{scale:.9},onClick:()=>i(t),className:"p-2 text-slate-400 hover:text-bca-blue rounded-full transition-colors",children:x.jsx(uC,{className:"w-4 h-4"})}),x.jsx(oe.button,{whileTap:{scale:.9},onClick:()=>r(t.id),className:"p-2 text-slate-400 hover:text-rose-500 rounded-full transition-colors",children:x.jsx(cC,{className:"w-4 h-4"})})]})]})]})},sP=t=>{const e={},n=new Date,i=new Date;i.setDate(i.getDate()-1);const r=(l,c)=>l.getFullYear()===c.getFullYear()&&l.getMonth()===c.getMonth()&&l.getDate()===c.getDate();return t.forEach(l=>{const c=new Date(l.created_at);let h;r(c,n)?h="Hari Ini":r(c,i)?h="Kemarin":h=c.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),e[h]||(e[h]=[]),e[h].push(l)}),e},hC=({onEdit:t,onDelete:e,isReadOnly:n=!1})=>{const{transactions:i,lembagas:r,pemberiPinjamans:l}=fo(),[c,h]=V.useState(!1),[p,m]=V.useState(""),[y,T]=V.useState("all"),[S,C]=V.useState(""),[b,E]=V.useState(""),A=V.useRef(null),[D,I]=V.useState(window.innerHeight);V.useEffect(()=>{const Q=()=>{I(window.innerHeight),A.current&&A.current.resetAfterIndex(0)};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const M=V.useCallback(()=>{m(""),T("all"),C(""),E("")},[]),L=V.useMemo(()=>{let Q=[...i];if(p&&(Q=Q.filter(Z=>Z.description.toLowerCase().includes(p.toLowerCase()))),y!=="all"&&(Q=Q.filter(Z=>Z.type===y)),S){const Z=new Date(S).setHours(0,0,0,0);Q=Q.filter(ne=>new Date(ne.created_at).getTime()>=Z)}if(b){const Z=new Date(b).setHours(23,59,59,999);Q=Q.filter(ne=>new Date(ne.created_at).getTime()<=Z)}return Q.sort((Z,ne)=>new Date(ne.created_at).getTime()-new Date(Z.created_at).getTime())},[i,p,y,S,b]),N=V.useMemo(()=>sP(L),[L]),O=V.useMemo(()=>{const Q=[];return Object.entries(N).forEach(([Z,ne])=>{Q.push({type:"header",data:Z}),ne.forEach(Pe=>{Q.push({type:"transaction",data:Pe})})}),Q},[N]);V.useEffect(()=>{A.current&&A.current.resetAfterIndex(0)},[O]);const z=p||y!=="all"||S||b,X=V.useCallback(Q=>O[Q].type==="header"?48:96,[O]),J=V.useCallback(({index:Q,style:Z})=>{const ne=O[Q];if(ne.type==="header")return x.jsx("div",{style:{...Z,paddingTop:8},children:x.jsx("h3",{className:"font-semibold text-slate-500 text-sm mb-2 px-2",children:ne.data})},`header-${ne.data}`);{const Pe=ne.data;return x.jsx("div",{style:{...Z,paddingBottom:8},children:x.jsx(iP,{transaction:Pe,lembagas:r,pemberiPinjamans:l,onEdit:t,onDelete:e,isReadOnly:n})},`transaction-${Pe.id}`)}},[r,l,t,e,n]);return x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsx("div",{className:"flex justify-end items-center",children:x.jsx(oe.button,{whileTap:{scale:.95},onClick:()=>h(!c),className:`p-2 rounded-lg transition-colors ${c?"bg-blue-100 text-bca-blue":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-300"}`,"aria-label":"Toggle filters",children:x.jsx(kN,{className:"w-5 h-5"})})}),x.jsx(hn,{children:c&&x.jsxs(oe.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white border border-slate-200 p-4 rounded-xl mb-4 space-y-4 shadow-md shadow-slate-200/50 overflow-hidden",children:[x.jsx("input",{type:"text",placeholder:"Cari berdasarkan deskripsi...",value:p,onChange:Q=>m(Q.target.value),className:"w-full bg-slate-100 border border-slate-200 text-slate-800 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"custom-select-wrapper",children:[x.jsxs("select",{value:y,onChange:Q=>T(Q.target.value),className:"w-full bg-slate-100 border border-slate-200 text-slate-800 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue",children:[x.jsx("option",{value:"all",children:"Semua Tipe"}),x.jsx("option",{value:Ve.INCOME,children:"Pemasukan"}),x.jsx("option",{value:Ve.EXPENSE,children:"Pengeluaran"})]}),x.jsx("div",{className:"custom-select-arrow text-slate-500",children:x.jsx(Td,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-slate-500 pl-1",children:"Dari"}),x.jsx("input",{type:"date",value:S,onChange:Q=>C(Q.target.value),className:"w-full bg-slate-100 border border-slate-200 text-slate-800 rounded-lg p-2.5 focus:ring-2 focus:ring-bca-blue"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-slate-500 pl-1",children:"Sampai"}),x.jsx("input",{type:"date",value:b,onChange:Q=>E(Q.target.value),className:"w-full bg-slate-100 border border-slate-200 text-slate-800 rounded-lg p-2.5 focus:ring-2 focus:ring-bca-blue"})]})]})]}),z&&x.jsx("button",{onClick:M,className:"w-full text-sm text-center text-bca-blue hover:text-blue-700 font-semibold",children:"Reset Filter"})]})}),i.length===0?x.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center text-center text-slate-500 pt-20",children:[x.jsx(vd,{className:"w-20 h-20 mb-4 text-slate-400"}),x.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Belum Ada Transaksi"}),x.jsx("p",{className:"mt-2 max-w-xs",children:n?"Data transaksi publik belum tersedia.":"Mulai catat pemasukan dan pengeluaran Anda dengan menekan tombol (+)."})]}):L.length===0?x.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center text-center text-slate-500 pt-20",children:[x.jsx(vd,{className:"w-20 h-20 mb-4 text-slate-400"}),x.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Tidak Ada Hasil"}),x.jsx("p",{className:"mt-2 max-w-xs",children:"Tidak ada transaksi yang cocok. Coba ubah atau reset filter Anda."})]}):x.jsx("div",{className:"h-[calc(100vh-300px)]",children:x.jsx(nP,{ref:A,height:Math.max(300,D-300),width:"100%",itemCount:O.length,itemSize:X,className:"transaction-list",children:({index:Q,style:Z})=>J({index:Q,style:Z})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oP,rP;function aP(){return{geminiUrl:oP,vertexUrl:rP}}function lP(t,e,n,i){var r,l;if(!(t!=null&&t.baseUrl)){const c=aP();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:n:(l=c.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xi{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const y=p[m];f(y,e.slice(l+1),n[m])}else for(const m of p)f(m,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];f(p[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in t){const l=t[r];return Array.isArray(l)?l.map(c=>u(c,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var L0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(L0||(L0={}));var V0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(V0||(V0={}));var mi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mi||(mi={}));var O0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(O0||(O0={}));var B0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(B0||(B0={}));var q0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(q0||(q0={}));var G0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(G0||(G0={}));var H0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(H0||(H0={}));var z0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(z0||(z0={}));var F0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(F0||(F0={}));var $0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})($0||($0={}));var J0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(J0||(J0={}));var Y0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Y0||(Y0={}));var K0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(K0||(K0={}));var X0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(X0||(X0={}));var j0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(j0||(j0={}));var kl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(kl||(kl={}));var W0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(W0||(W0={}));var xd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xd||(xd={}));var Q0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Q0||(Q0={}));var Z0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Z0||(Z0={}));var eT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(eT||(eT={}));var tT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(tT||(tT={}));var nT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(nT||(nT={}));var iT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(iT||(iT={}));var sT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(sT||(sT={}));var oT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(oT||(oT={}));var rT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rT||(rT={}));var aT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(aT||(aT={}));var lT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lT||(lT={}));var uT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(uT||(uT={}));var cT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(cT||(cT={}));var fT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(fT||(fT={}));var dT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(dT||(dT={}));var hT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hT||(hT={}));var mT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mT||(mT={}));var pT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pT||(pT={}));var gT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(gT||(gT={}));var yT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yT||(yT={}));var vT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(vT||(vT={}));var TT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(TT||(TT={}));var to;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(to||(to={}));class Ed{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Sr{get text(){var e,n,i,r,l,c,h,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const S of(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[C,b]of Object.entries(S))C!=="text"&&C!=="thought"&&(b!==null||b!==void 0)&&T.push(C);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,i,r,l,c,h,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,C]of Object.entries(T))S!=="inlineData"&&(C!==null||C!==void 0)&&y.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,r,l,c,h,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,r,l,c,h,p,m;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,r,l,c,h,p,m;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class ST{}class _T{}class uP{}class cP{}class CT{}class xT{}class ET{}class fP{}class wT{}class bT{}class AT{}class MT{}class dP{}class hP{}class mP{}class RT{}class pP{get text(){var e,n,i;let r="",l=!1;const c=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,r+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,n,i;let r="";const l=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(c))h!=="inlineData"&&p!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Ul{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new Ul;if(i.name=e.name,i.metadata=e.metadata,i.done=e.done,i.error=e.error,n){const r=e.response;if(r){const l=new wT,c=r.videos;l.generatedVideos=c==null?void 0:c.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?Cd(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),l.raiMediaFilteredCount=r.raiMediaFilteredCount,l.raiMediaFilteredReasons=r.raiMediaFilteredReasons,i.response=l}}else{const r=e.response;if(r){const l=new wT,c=r.generateVideoResponse,h=c==null?void 0:c.generatedSamples;l.generatedVideos=h==null?void 0:h.map(p=>{const m=p.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?Cd(m==null?void 0:m.encodedVideo):void 0,mimeType:p.encoding}}}),l.raiMediaFilteredCount=r.raiMediaFilteredCount,l.raiMediaFilteredReasons=r.raiMediaFilteredReasons,i.response=l}}return i}}class gP{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ne(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function mC(t,e){const n=Ne(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function pC(t){return Array.isArray(t)?t.map(e=>Ll(e)):[Ll(t)]}function Ll(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function gC(t){const e=Ll(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yC(t){const e=Ll(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vC(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>DT(e)):[DT(t)]}function wd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function NT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function PT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vt(t){if(t==null)throw new Error("ContentUnion is required");return wd(t)?t:{role:"user",parts:vC(t)}}function TC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=vt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=vt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vt(n)):[vt(e)]}function jt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(NT(t)||PT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vt(t)]}const e=[],n=[],i=wd(t[0]);for(const r of t){const l=wd(r);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if(NT(r)||PT(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:vC(n)}),e}function yP(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(mi).includes(n[0].toUpperCase())?n[0].toUpperCase():mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(mi).includes(i.toUpperCase())?i.toUpperCase():mi.TYPE_UNSPECIFIED})}}function no(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&yP(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(mi).includes(h.toUpperCase())?h.toUpperCase():mi.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=no(h);else if(i.includes(c)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(no(m))}e[c]=p}else if(r.includes(c)){const p={};for(const[m,y]of Object.entries(h))p[m]=no(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Eh(t){return no(t)}function wh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function bh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ho(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=no(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=no(e.response));return t}function mo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function vP(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Vn(t,e){if(typeof e!="string")throw new Error("name must be a string");return vP(t,e,"cachedContents")}function SC(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ji(t){return Cd(t)}function TP(t){return t!=null&&typeof t=="object"&&"name"in t}function SP(t){return t!=null&&typeof t=="object"&&"video"in t}function _P(t){return t!=null&&typeof t=="object"&&"uri"in t}function _C(t){var e;let n;if(TP(t)&&(n=t.name),!(_P(t)&&(n=t.uri,n===void 0))&&!(SP(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function CC(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function xC(t){for(const e of["models","tunedModels","publisherModels"])if(CP(t,e))return t[e];return[]}function CP(t,e){return t!==null&&typeof t=="object"&&e in t}function xP(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function EP(t,e={}){const n=[],i=new Set;for(const r of t){const l=r.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const c=xP(r,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function EC(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function wP(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function po(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function wC(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bP(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function AP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function MP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function RP(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],bP(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],AP(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],MP(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function bC(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>RP(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function DP(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["enum"]);l!=null&&f(e,["enum"],l);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&f(e,["maxProperties"],T);const S=u(t,["maximum"]);S!=null&&f(e,["maximum"],S);const C=u(t,["minItems"]);C!=null&&f(e,["minItems"],C);const b=u(t,["minLength"]);b!=null&&f(e,["minLength"],b);const E=u(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const D=u(t,["nullable"]);D!=null&&f(e,["nullable"],D);const I=u(t,["pattern"]);I!=null&&f(e,["pattern"],I);const M=u(t,["properties"]);M!=null&&f(e,["properties"],M);const L=u(t,["propertyOrdering"]);L!=null&&f(e,["propertyOrdering"],L);const N=u(t,["required"]);N!=null&&f(e,["required"],N);const O=u(t,["title"]);O!=null&&f(e,["title"],O);const z=u(t,["type"]);return z!=null&&f(e,["type"],z),e}function NP(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function PP(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function IP(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function kP(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],IP(n)),e}function UP(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function LP(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],UP(n)),e}function VP(){return{}}function OP(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>PP(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],kP(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],LP(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],VP());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function BP(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function qP(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function GP(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],qP(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function HP(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],BP(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],GP(i)),e}function zP(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function AC(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],zP(n)),e}function FP(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],AC(i)),e}function $P(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>FP(r))),f(e,["speakerVoiceConfigs"],i)}return e}function JP(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],AC(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],$P(i));const r=u(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function YP(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function KP(t,e,n){const i={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&f(n,["systemInstruction"],bC(vt(r)));const l=u(e,["temperature"]);l!=null&&f(i,["temperature"],l);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&f(i,["responseLogprobs"],T);const S=u(e,["logprobs"]);S!=null&&f(i,["logprobs"],S);const C=u(e,["presencePenalty"]);C!=null&&f(i,["presencePenalty"],C);const b=u(e,["frequencyPenalty"]);b!=null&&f(i,["frequencyPenalty"],b);const E=u(e,["seed"]);E!=null&&f(i,["seed"],E);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const D=u(e,["responseSchema"]);D!=null&&f(i,["responseSchema"],DP(Eh(D)));const I=u(e,["responseJsonSchema"]);if(I!=null&&f(i,["responseJsonSchema"],I),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=u(e,["safetySettings"]);if(n!==void 0&&M!=null){let Z=M;Array.isArray(Z)&&(Z=Z.map(ne=>NP(ne))),f(n,["safetySettings"],Z)}const L=u(e,["tools"]);if(n!==void 0&&L!=null){let Z=mo(L);Array.isArray(Z)&&(Z=Z.map(ne=>OP(ho(ne)))),f(n,["tools"],Z)}const N=u(e,["toolConfig"]);if(n!==void 0&&N!=null&&f(n,["toolConfig"],HP(N)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=u(e,["cachedContent"]);n!==void 0&&O!=null&&f(n,["cachedContent"],Vn(t,O));const z=u(e,["responseModalities"]);z!=null&&f(i,["responseModalities"],z);const X=u(e,["mediaResolution"]);X!=null&&f(i,["mediaResolution"],X);const J=u(e,["speechConfig"]);if(J!=null&&f(i,["speechConfig"],JP(wh(J))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&f(i,["thinkingConfig"],YP(Q)),i}function XP(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["request","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=jt(r);Array.isArray(c)&&(c=c.map(h=>bC(h))),f(n,["request","contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["request","generationConfig"],KP(t,l,n)),n}function jP(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&f(n,["fileName"],i);const r=u(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>XP(t,c))),f(n,["requests","requests"],l)}return n}function WP(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function QP(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["src"]);r!=null&&f(n,["batch","inputConfig"],jP(t,EC(t,r)));const l=u(e,["config"]);return l!=null&&f(n,["config"],WP(l,n)),n}function ZP(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],po(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function e2(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],po(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function t2(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);if(e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function n2(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],t2(n,e)),e}function i2(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],po(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function s2(t){const e={},n=u(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);const r=u(t,["bigqueryUri"]);if(r!=null&&f(e,["bigquerySource","inputUri"],r),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function o2(t){const e={},n=u(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);const r=u(t,["bigqueryUri"]);if(r!=null&&f(e,["bigqueryDestination","outputUri"],r),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function r2(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const r=u(t,["dest"]);return e!==void 0&&r!=null&&f(e,["outputConfig"],o2(wP(r))),n}function a2(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],Ne(t,i));const r=u(e,["src"]);r!=null&&f(n,["inputConfig"],s2(EC(t,r)));const l=u(e,["config"]);return l!=null&&f(n,["config"],r2(l,n)),n}function l2(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],po(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function u2(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],po(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function c2(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const l=u(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function f2(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],c2(n,e)),e}function d2(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],po(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function h2(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function m2(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function p2(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function g2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],h2(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],m2(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],p2(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function y2(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>g2(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function v2(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function T2(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function S2(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>T2(r))),f(e,["urlMetadata"],i)}return e}function _2(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],y2(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],v2(i));const r=u(t,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);const l=u(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],S2(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&f(e,["safetyRatings"],T),e}function C2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>_2(p))),f(e,["candidates"],h)}const r=u(t,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);const l=u(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=u(t,["usageMetadata"]);return c!=null&&f(e,["usageMetadata"],c),e}function MC(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["code"]);i!=null&&f(e,["code"],i);const r=u(t,["message"]);return r!=null&&f(e,["message"],r),e}function x2(t){const e={},n=u(t,["response"]);n!=null&&f(e,["response"],C2(n));const i=u(t,["error"]);return i!=null&&f(e,["error"],MC(i)),e}function E2(t){const e={},n=u(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>x2(l))),f(e,["inlinedResponses"],r)}return e}function bd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["metadata","state"]);r!=null&&f(e,["state"],wC(r));const l=u(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=u(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["metadata","model"]);p!=null&&f(e,["model"],p);const m=u(t,["metadata","output"]);return m!=null&&f(e,["dest"],E2(m)),e}function w2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>bd(c))),f(e,["batchJobs"],l)}return e}function b2(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["done"]);i!=null&&f(e,["done"],i);const r=u(t,["error"]);return r!=null&&f(e,["error"],MC(r)),e}function RC(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["code"]);i!=null&&f(e,["code"],i);const r=u(t,["message"]);return r!=null&&f(e,["message"],r),e}function A2(t){const e={},n=u(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);const r=u(t,["bigquerySource","inputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function M2(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);const r=u(t,["bigqueryDestination","outputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function Ad(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["state"]);r!=null&&f(e,["state"],wC(r));const l=u(t,["error"]);l!=null&&f(e,["error"],RC(l));const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["startTime"]);h!=null&&f(e,["startTime"],h);const p=u(t,["endTime"]);p!=null&&f(e,["endTime"],p);const m=u(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const y=u(t,["model"]);y!=null&&f(e,["model"],y);const T=u(t,["inputConfig"]);T!=null&&f(e,["src"],A2(T));const S=u(t,["outputConfig"]);return S!=null&&f(e,["dest"],M2(S)),e}function R2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Ad(c))),f(e,["batchJobs"],l)}return e}function D2(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["done"]);i!=null&&f(e,["done"],i);const r=u(t,["error"]);return r!=null&&f(e,["error"],RC(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ji;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ji||(Ji={}));class Fr{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!i||Object.keys(i).length===0?c={config:{}}:typeof i=="object"?c=Object.assign({},i):c=i,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N2 extends Xi{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const r=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${r}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Fr(Ji.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=a2(this.apiClient,e);return h=re("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Ad(y))}else{const m=QP(this.apiClient,e);return h=re("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>bd(y))}}async get(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=l2(this.apiClient,e);return h=re("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Ad(y))}else{const m=ZP(this.apiClient,e);return h=re("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>bd(y))}}async cancel(e){var n,i,r,l;let c="",h={};if(this.apiClient.isVertexAI()){const p=u2(this.apiClient,e);c=re("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=e2(this.apiClient,e);c=re("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=f2(e);return h=re("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=R2(y),S=new RT;return Object.assign(S,T),S})}else{const m=n2(e);return h=re("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=w2(y),S=new RT;return Object.assign(S,T),S})}}async delete(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=d2(this.apiClient,e);return h=re("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>D2(y))}else{const m=i2(this.apiClient,e);return h=re("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>b2(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P2(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function I2(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function k2(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function U2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],P2(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],I2(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],k2(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function IT(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>U2(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function L2(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function V2(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function O2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],V2(n)),e}function B2(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function q2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],B2(n)),e}function G2(){return{}}function H2(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>L2(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],O2(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],q2(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],G2());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function z2(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function F2(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function $2(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],F2(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function J2(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],z2(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],$2(i)),e}function Y2(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const r=u(t,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const l=u(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let y=jt(c);Array.isArray(y)&&(y=y.map(T=>IT(T))),f(e,["contents"],y)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],IT(vt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(T=>H2(T))),f(e,["tools"],y)}const m=u(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],J2(m)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function K2(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],mC(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],Y2(r,n)),n}function X2(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Vn(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function j2(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Vn(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function W2(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const r=u(t,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),n}function Q2(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Vn(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],W2(r,n)),n}function Z2(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),n}function eI(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],Z2(n,e)),e}function tI(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function nI(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function iI(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function sI(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],tI(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],nI(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],iI(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function kT(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>sI(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function oI(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const r=u(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function rI(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function aI(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],rI(n)),e}function lI(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function uI(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],lI(n)),e}function cI(){return{}}function fI(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function dI(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],fI(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const r=u(t,["googleServiceAccountConfig"]);r!=null&&f(e,["googleServiceAccountConfig"],r);const l=u(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function hI(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],dI(n)),e}function mI(){return{}}function pI(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(S=>oI(S))),f(e,["functionDeclarations"],T)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const r=u(t,["googleSearch"]);r!=null&&f(e,["googleSearch"],aI(r));const l=u(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],uI(l)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],cI());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],hI(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],mI());const m=u(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const y=u(t,["computerUse"]);return y!=null&&f(e,["computerUse"],y),e}function gI(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function yI(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function vI(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],yI(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function TI(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],gI(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],vI(i)),e}function SI(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const r=u(t,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const l=u(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let T=jt(c);Array.isArray(T)&&(T=T.map(S=>kT(S))),f(e,["contents"],T)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],kT(vt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let T=p;Array.isArray(T)&&(T=T.map(S=>pI(S))),f(e,["tools"],T)}const m=u(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],TI(m));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&f(e,["encryption_spec","kmsKeyName"],y),n}function _I(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],mC(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],SI(r,n)),n}function CI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Vn(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function xI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Vn(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function EI(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const r=u(t,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),n}function wI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],Vn(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],EI(r,n)),n}function bI(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),n}function AI(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],bI(n,e)),e}function Cl(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["model"]);r!=null&&f(e,["model"],r);const l=u(t,["createTime"]);l!=null&&f(e,["createTime"],l);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function MI(){return{}}function RI(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Cl(c))),f(e,["cachedContents"],l)}return e}function xl(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["model"]);r!=null&&f(e,["model"],r);const l=u(t,["createTime"]);l!=null&&f(e,["createTime"],l);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function DI(){return{}}function NI(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>xl(c))),f(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PI extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fr(Ji.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=_I(this.apiClient,e);return h=re("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>xl(y))}else{const m=K2(this.apiClient,e);return h=re("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Cl(y))}}async get(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=CI(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>xl(y))}else{const m=X2(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Cl(y))}}async delete(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=xI(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=DI(),T=new AT;return Object.assign(T,y),T})}else{const m=j2(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=MI(),T=new AT;return Object.assign(T,y),T})}}async update(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=wI(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>xl(y))}else{const m=Q2(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Cl(y))}}async listInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=AI(e);return h=re("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=NI(y),S=new MT;return Object.assign(S,T),S})}else{const m=eI(e);return h=re("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=RI(y),S=new MT;return Object.assign(S,T),S})}}}function UT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(t){return this instanceof qe?(this.v=t,this):new qe(t)}function io(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(C){return function(b){return Promise.resolve(b).then(C,T)}}function h(C,b){i[C]&&(r[C]=function(E){return new Promise(function(A,D){l.push([C,E,A,D])>1||p(C,E)})},b&&(r[C]=b(r[C])))}function p(C,b){try{m(i[C](b))}catch(E){S(l[0][3],E)}}function m(C){C.value instanceof qe?Promise.resolve(C.value.v).then(y,T):S(l[0][2],C)}function y(C){p("next",C)}function T(C){p("throw",C)}function S(C,b){C(b),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Pr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof UT=="function"?UT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(c){return new Promise(function(h,p){c=t[l](c),r(h,p,c.done,c.value)})}}function r(l,c,h,p){Promise.resolve(p).then(function(m){l({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function II(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:DC(n)}function DC(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function kI(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function LT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let l=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),l&&!DC(t[i])&&(l=!1),i++;l?e.push(...r):e.pop()}return e}class UI{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new LI(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class LI{constructor(e,n,i,r={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),kI(l)}async sendMessage(e){var n;await this.sendPromise;const i=vt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,h;const p=await r,m=(c=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(T))!==null&&h!==void 0?h:[]);const C=m?[m]:[];this.recordHistory(i,C,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=vt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?LT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,r;return io(this,arguments,function*(){var c,h,p,m;const y=[];try{for(var T=!0,S=Pr(e),C;C=yield qe(S.next()),c=C.done,!c;T=!0){m=C.value,T=!1;const b=m;if(II(b)){const E=(r=(i=b.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;E!==void 0&&y.push(E)}yield yield qe(b)}}catch(b){h={error:b}}finally{try{!T&&!c&&(p=S.return)&&(yield qe(p.call(S)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(l=>l.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...LT(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Jl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VI(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),n}function OI(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],VI(n,e)),e}function BI(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["message"]);i!=null&&f(e,["message"],i);const r=u(t,["code"]);return r!=null&&f(e,["code"],r),e}function qI(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["mimeType"]);r!=null&&f(e,["mimeType"],r);const l=u(t,["sizeBytes"]);l!=null&&f(e,["sizeBytes"],l);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&f(e,["downloadUri"],T);const S=u(t,["state"]);S!=null&&f(e,["state"],S);const C=u(t,["source"]);C!=null&&f(e,["source"],C);const b=u(t,["videoMetadata"]);b!=null&&f(e,["videoMetadata"],b);const E=u(t,["error"]);return E!=null&&f(e,["error"],BI(E)),e}function GI(t){const e={},n=u(t,["file"]);n!=null&&f(e,["file"],qI(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function HI(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],_C(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function zI(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],_C(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function FI(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["message"]);i!=null&&f(e,["message"],i);const r=u(t,["code"]);return r!=null&&f(e,["code"],r),e}function Md(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["mimeType"]);r!=null&&f(e,["mimeType"],r);const l=u(t,["sizeBytes"]);l!=null&&f(e,["sizeBytes"],l);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&f(e,["downloadUri"],T);const S=u(t,["state"]);S!=null&&f(e,["state"],S);const C=u(t,["source"]);C!=null&&f(e,["source"],C);const b=u(t,["videoMetadata"]);b!=null&&f(e,["videoMetadata"],b);const E=u(t,["error"]);return E!=null&&f(e,["error"],FI(E)),e}function $I(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Md(c))),f(e,["files"],l)}return e}function JI(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function YI(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KI extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fr(Ji.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Md(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OI(e);return l=re("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),r.then(p=>{const m=$I(p),y=new dP;return Object.assign(y,m),y})}}async createInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GI(e);return l=re("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=JI(p),y=new hP;return Object.assign(y,m),y})}}async get(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=HI(e);return l=re("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Md(p))}}async delete(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=zI(e);return l=re("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(()=>{const p=YI(),m=new mP;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XI(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function NC(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],XI(n)),e}function jI(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],NC(i)),e}function WI(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>jI(r))),f(e,["speakerVoiceConfigs"],i)}return e}function QI(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],NC(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],WI(i));const r=u(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function ZI(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function ek(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function tk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function nk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],ZI(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],ek(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],tk(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function ik(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>nk(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function sk(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function ok(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function rk(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],ok(n)),e}function ak(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function lk(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],ak(n)),e}function uk(){return{}}function ck(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>sk(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],rk(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],lk(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],uk());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function fk(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function VT(){return{}}function dk(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const r=u(t,["endOfSpeechSensitivity"]);r!=null&&f(e,["endOfSpeechSensitivity"],r);const l=u(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function hk(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],dk(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const r=u(t,["turnCoverage"]);return r!=null&&f(e,["turnCoverage"],r),e}function mk(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function pk(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],mk(i)),e}function gk(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function yk(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const r=u(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=u(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","speechConfig"],QI(bh(T)));const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const C=u(t,["systemInstruction"]);e!==void 0&&C!=null&&f(e,["setup","systemInstruction"],ik(vt(C)));const b=u(t,["tools"]);if(e!==void 0&&b!=null){let N=mo(b);Array.isArray(N)&&(N=N.map(O=>ck(ho(O)))),f(e,["setup","tools"],N)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],fk(E));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],VT());const D=u(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","outputAudioTranscription"],VT());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&f(e,["setup","realtimeInputConfig"],hk(I));const M=u(t,["contextWindowCompression"]);e!==void 0&&M!=null&&f(e,["setup","contextWindowCompression"],pk(M));const L=u(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],gk(L)),n}function vk(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],yk(r,n)),n}function Tk(){return{}}function Sk(){return{}}function _k(t){const e={},n=u(t,["media"]);n!=null&&f(e,["mediaChunks"],pC(n));const i=u(t,["audio"]);i!=null&&f(e,["audio"],yC(i));const r=u(t,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const l=u(t,["video"]);l!=null&&f(e,["video"],gC(l));const c=u(t,["text"]);return c!=null&&f(e,["text"],c),u(t,["activityStart"])!=null&&f(e,["activityStart"],Tk()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],Sk()),e}function PC(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function Ck(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>PC(r))),f(e,["weightedPrompts"],i)}return e}function IC(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&f(e,["topK"],i);const r=u(t,["seed"]);r!=null&&f(e,["seed"],r);const l=u(t,["guidance"]);l!=null&&f(e,["guidance"],l);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const h=u(t,["density"]);h!=null&&f(e,["density"],h);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&f(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&f(e,["muteDrums"],T);const S=u(t,["onlyBassAndDrums"]);return S!=null&&f(e,["onlyBassAndDrums"],S),e}function xk(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],IC(n)),e}function kC(t){const e={},n=u(t,["model"]);return n!=null&&f(e,["model"],n),e}function UC(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>PC(r))),f(e,["weightedPrompts"],i)}return e}function Rd(t){const e={},n=u(t,["setup"]);n!=null&&f(e,["setup"],kC(n));const i=u(t,["clientContent"]);i!=null&&f(e,["clientContent"],UC(i));const r=u(t,["musicGenerationConfig"]);r!=null&&f(e,["musicGenerationConfig"],IC(r));const l=u(t,["playbackControl"]);return l!=null&&f(e,["playbackControl"],l),e}function Ek(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function wk(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],Ek(n)),e}function bk(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],wk(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function Ak(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function Mk(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function Rk(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function Dk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],Ak(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],Mk(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],Rk(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function Nk(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Dk(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function Pk(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const r=u(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function Ik(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function kk(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],Ik(n)),e}function Uk(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function Lk(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],Uk(n)),e}function Vk(){return{}}function Ok(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function Bk(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],Ok(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const r=u(t,["googleServiceAccountConfig"]);r!=null&&f(e,["googleServiceAccountConfig"],r);const l=u(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function qk(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],Bk(n)),e}function Gk(){return{}}function Hk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(S=>Pk(S))),f(e,["functionDeclarations"],T)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const r=u(t,["googleSearch"]);r!=null&&f(e,["googleSearch"],kk(r));const l=u(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],Lk(l)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],Vk());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],qk(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],Gk());const m=u(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const y=u(t,["computerUse"]);return y!=null&&f(e,["computerUse"],y),e}function zk(t){const e={},n=u(t,["handle"]);n!=null&&f(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&f(e,["transparent"],i),e}function OT(){return{}}function Fk(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const r=u(t,["endOfSpeechSensitivity"]);r!=null&&f(e,["endOfSpeechSensitivity"],r);const l=u(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function $k(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],Fk(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const r=u(t,["turnCoverage"]);return r!=null&&f(e,["turnCoverage"],r),e}function Jk(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function Yk(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],Jk(i)),e}function Kk(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function Xk(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const r=u(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=u(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","speechConfig"],bk(bh(T)));const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const C=u(t,["systemInstruction"]);e!==void 0&&C!=null&&f(e,["setup","systemInstruction"],Nk(vt(C)));const b=u(t,["tools"]);if(e!==void 0&&b!=null){let N=mo(b);Array.isArray(N)&&(N=N.map(O=>Hk(ho(O)))),f(e,["setup","tools"],N)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],zk(E));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],OT());const D=u(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","outputAudioTranscription"],OT());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&f(e,["setup","realtimeInputConfig"],$k(I));const M=u(t,["contextWindowCompression"]);e!==void 0&&M!=null&&f(e,["setup","contextWindowCompression"],Yk(M));const L=u(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],Kk(L)),n}function jk(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],Xk(r,n)),n}function Wk(){return{}}function Qk(){return{}}function Zk(t){const e={},n=u(t,["media"]);n!=null&&f(e,["mediaChunks"],pC(n));const i=u(t,["audio"]);i!=null&&f(e,["audio"],yC(i));const r=u(t,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const l=u(t,["video"]);l!=null&&f(e,["video"],gC(l));const c=u(t,["text"]);return c!=null&&f(e,["text"],c),u(t,["activityStart"])!=null&&f(e,["activityStart"],Wk()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],Qk()),e}function eU(){return{}}function tU(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function nU(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function iU(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function sU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],tU(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],nU(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],iU(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function oU(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>sU(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function BT(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function rU(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function aU(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>rU(r))),f(e,["urlMetadata"],i)}return e}function lU(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],oU(n));const i=u(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const r=u(t,["interrupted"]);r!=null&&f(e,["interrupted"],r);const l=u(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],BT(h));const p=u(t,["outputTranscription"]);p!=null&&f(e,["outputTranscription"],BT(p));const m=u(t,["urlContextMetadata"]);return m!=null&&f(e,["urlContextMetadata"],aU(m)),e}function uU(t){const e={},n=u(t,["id"]);n!=null&&f(e,["id"],n);const i=u(t,["args"]);i!=null&&f(e,["args"],i);const r=u(t,["name"]);return r!=null&&f(e,["name"],r),e}function cU(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>uU(r))),f(e,["functionCalls"],i)}return e}function fU(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function ml(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function dU(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const r=u(t,["responseTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);const l=u(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(C=>ml(C))),f(e,["promptTokensDetails"],S)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(C=>ml(C))),f(e,["cacheTokensDetails"],S)}const y=u(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>ml(C))),f(e,["responseTokensDetails"],S)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(C=>ml(C))),f(e,["toolUsePromptTokensDetails"],S)}return e}function hU(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function mU(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&f(e,["resumable"],i);const r=u(t,["lastConsumedClientMessageIndex"]);return r!=null&&f(e,["lastConsumedClientMessageIndex"],r),e}function pU(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],eU());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],lU(i));const r=u(t,["toolCall"]);r!=null&&f(e,["toolCall"],cU(r));const l=u(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],fU(l));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],dU(c));const h=u(t,["goAway"]);h!=null&&f(e,["goAway"],hU(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],mU(p)),e}function gU(){return{}}function yU(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function vU(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>yU(r))),f(e,["weightedPrompts"],i)}return e}function TU(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&f(e,["topK"],i);const r=u(t,["seed"]);r!=null&&f(e,["seed"],r);const l=u(t,["guidance"]);l!=null&&f(e,["guidance"],l);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const h=u(t,["density"]);h!=null&&f(e,["density"],h);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&f(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&f(e,["muteDrums"],T);const S=u(t,["onlyBassAndDrums"]);return S!=null&&f(e,["onlyBassAndDrums"],S),e}function SU(t){const e={},n=u(t,["clientContent"]);n!=null&&f(e,["clientContent"],vU(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],TU(i)),e}function _U(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&f(e,["mimeType"],i);const r=u(t,["sourceMetadata"]);return r!=null&&f(e,["sourceMetadata"],SU(r)),e}function CU(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>_U(r))),f(e,["audioChunks"],i)}return e}function xU(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&f(e,["filteredReason"],i),e}function EU(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],gU());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],CU(i));const r=u(t,["filteredPrompt"]);return r!=null&&f(e,["filteredPrompt"],xU(r)),e}function wU(t){const e={},n=u(t,["sessionId"]);return n!=null&&f(e,["sessionId"],n),e}function bU(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function AU(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function MU(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function RU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],bU(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],AU(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],MU(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function DU(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>RU(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function qT(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function NU(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],DU(n));const i=u(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const r=u(t,["interrupted"]);r!=null&&f(e,["interrupted"],r);const l=u(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],qT(h));const p=u(t,["outputTranscription"]);return p!=null&&f(e,["outputTranscription"],qT(p)),e}function PU(t){const e={},n=u(t,["args"]);n!=null&&f(e,["args"],n);const i=u(t,["name"]);return i!=null&&f(e,["name"],i),e}function IU(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>PU(r))),f(e,["functionCalls"],i)}return e}function kU(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function pl(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function UU(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const r=u(t,["candidatesTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);const l=u(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(b=>pl(b))),f(e,["promptTokensDetails"],C)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(b=>pl(b))),f(e,["cacheTokensDetails"],C)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(b=>pl(b))),f(e,["responseTokensDetails"],C)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(b=>pl(b))),f(e,["toolUsePromptTokensDetails"],C)}const S=u(t,["trafficType"]);return S!=null&&f(e,["trafficType"],S),e}function LU(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function VU(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&f(e,["resumable"],i);const r=u(t,["lastConsumedClientMessageIndex"]);return r!=null&&f(e,["lastConsumedClientMessageIndex"],r),e}function OU(t){const e={},n=u(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],wU(n));const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],NU(i));const r=u(t,["toolCall"]);r!=null&&f(e,["toolCall"],IU(r));const l=u(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],kU(l));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],UU(c));const h=u(t,["goAway"]);h!=null&&f(e,["goAway"],LU(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],VU(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BU(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function qU(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function GU(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function HU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],BU(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],qU(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],GU(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function Yl(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>HU(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function zU(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["enum"]);l!=null&&f(e,["enum"],l);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&f(e,["maxProperties"],T);const S=u(t,["maximum"]);S!=null&&f(e,["maximum"],S);const C=u(t,["minItems"]);C!=null&&f(e,["minItems"],C);const b=u(t,["minLength"]);b!=null&&f(e,["minLength"],b);const E=u(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const D=u(t,["nullable"]);D!=null&&f(e,["nullable"],D);const I=u(t,["pattern"]);I!=null&&f(e,["pattern"],I);const M=u(t,["properties"]);M!=null&&f(e,["properties"],M);const L=u(t,["propertyOrdering"]);L!=null&&f(e,["propertyOrdering"],L);const N=u(t,["required"]);N!=null&&f(e,["required"],N);const O=u(t,["title"]);O!=null&&f(e,["title"],O);const z=u(t,["type"]);return z!=null&&f(e,["type"],z),e}function FU(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function $U(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function JU(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function YU(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],JU(n)),e}function KU(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function XU(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],KU(n)),e}function jU(){return{}}function WU(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>$U(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],YU(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],XU(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],jU());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function QU(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function ZU(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function eL(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],ZU(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function tL(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],QU(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],eL(i)),e}function nL(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function LC(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],nL(n)),e}function iL(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],LC(i)),e}function sL(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>iL(r))),f(e,["speakerVoiceConfigs"],i)}return e}function oL(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],LC(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],sL(i));const r=u(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function rL(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function aL(t,e,n){const i={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&f(n,["systemInstruction"],Yl(vt(r)));const l=u(e,["temperature"]);l!=null&&f(i,["temperature"],l);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&f(i,["responseLogprobs"],T);const S=u(e,["logprobs"]);S!=null&&f(i,["logprobs"],S);const C=u(e,["presencePenalty"]);C!=null&&f(i,["presencePenalty"],C);const b=u(e,["frequencyPenalty"]);b!=null&&f(i,["frequencyPenalty"],b);const E=u(e,["seed"]);E!=null&&f(i,["seed"],E);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const D=u(e,["responseSchema"]);D!=null&&f(i,["responseSchema"],zU(Eh(D)));const I=u(e,["responseJsonSchema"]);if(I!=null&&f(i,["responseJsonSchema"],I),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=u(e,["safetySettings"]);if(n!==void 0&&M!=null){let Z=M;Array.isArray(Z)&&(Z=Z.map(ne=>FU(ne))),f(n,["safetySettings"],Z)}const L=u(e,["tools"]);if(n!==void 0&&L!=null){let Z=mo(L);Array.isArray(Z)&&(Z=Z.map(ne=>WU(ho(ne)))),f(n,["tools"],Z)}const N=u(e,["toolConfig"]);if(n!==void 0&&N!=null&&f(n,["toolConfig"],tL(N)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=u(e,["cachedContent"]);n!==void 0&&O!=null&&f(n,["cachedContent"],Vn(t,O));const z=u(e,["responseModalities"]);z!=null&&f(i,["responseModalities"],z);const X=u(e,["mediaResolution"]);X!=null&&f(i,["mediaResolution"],X);const J=u(e,["speechConfig"]);if(J!=null&&f(i,["speechConfig"],oL(wh(J))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&f(i,["thinkingConfig"],rL(Q)),i}function GT(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=jt(r);Array.isArray(c)&&(c=c.map(h=>Yl(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["generationConfig"],aL(t,l,n)),n}function lL(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const r=u(t,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);const l=u(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function uL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);r!=null&&f(n,["requests[]","content"],TC(t,r));const l=u(e,["config"]);l!=null&&f(n,["config"],lL(l,n));const c=u(e,["model"]);return c!==void 0&&f(n,["requests[]","model"],Ne(t,c)),n}function cL(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const r=u(t,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);const l=u(t,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const m=u(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const y=u(t,["language"]);e!==void 0&&y!=null&&f(e,["parameters","language"],y);const T=u(t,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const S=u(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function fL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["config"]);return l!=null&&f(n,["config"],cL(l,n)),n}function dL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function hL(t,e,n){const i={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&f(n,["_query","pageSize"],r);const l=u(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],CC(t,h)),i}function mL(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],hL(t,i,n)),n}function pL(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const r=u(t,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const l=u(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function gL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],pL(r,n)),n}function yL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function vL(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function TL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=jt(r);Array.isArray(c)&&(c=c.map(h=>Yl(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["config"],vL(l)),n}function SL(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],ji(n));const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function _L(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(t,["durationSeconds"]);if(e!==void 0&&r!=null&&f(e,["parameters","durationSeconds"],r),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=u(t,["aspectRatio"]);if(e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=u(t,["personGeneration"]);if(e!==void 0&&c!=null&&f(e,["parameters","personGeneration"],c),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);const p=u(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&f(e,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function CL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["image"]);if(l!=null&&f(n,["instances[0]","image"],SL(l)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=u(e,["config"]);return c!=null&&f(n,["config"],_L(c,n)),n}function xL(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function EL(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function wL(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function bL(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],xL(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],EL(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],wL(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function go(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>bL(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function AL(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["enum"]);l!=null&&f(e,["enum"],l);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&f(e,["maxProperties"],T);const S=u(t,["maximum"]);S!=null&&f(e,["maximum"],S);const C=u(t,["minItems"]);C!=null&&f(e,["minItems"],C);const b=u(t,["minLength"]);b!=null&&f(e,["minLength"],b);const E=u(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const D=u(t,["nullable"]);D!=null&&f(e,["nullable"],D);const I=u(t,["pattern"]);I!=null&&f(e,["pattern"],I);const M=u(t,["properties"]);M!=null&&f(e,["properties"],M);const L=u(t,["propertyOrdering"]);L!=null&&f(e,["propertyOrdering"],L);const N=u(t,["required"]);N!=null&&f(e,["required"],N);const O=u(t,["title"]);O!=null&&f(e,["title"],O);const z=u(t,["type"]);return z!=null&&f(e,["type"],z),e}function ML(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&f(e,["featureSelectionPreference"],n),e}function RL(t){const e={},n=u(t,["method"]);n!=null&&f(e,["method"],n);const i=u(t,["category"]);i!=null&&f(e,["category"],i);const r=u(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function DL(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const r=u(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function NL(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function PL(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],NL(n)),e}function IL(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function kL(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],IL(n)),e}function UL(){return{}}function LL(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function VL(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],LL(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const r=u(t,["googleServiceAccountConfig"]);r!=null&&f(e,["googleServiceAccountConfig"],r);const l=u(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function OL(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],VL(n)),e}function BL(){return{}}function VC(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(S=>DL(S))),f(e,["functionDeclarations"],T)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const r=u(t,["googleSearch"]);r!=null&&f(e,["googleSearch"],PL(r));const l=u(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],kL(l)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],UL());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],OL(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],BL());const m=u(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const y=u(t,["computerUse"]);return y!=null&&f(e,["computerUse"],y),e}function qL(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function GL(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function HL(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],GL(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function zL(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],qL(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],HL(i)),e}function FL(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function $L(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],FL(n)),e}function JL(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],$L(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function YL(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function KL(t,e,n){const i={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&f(n,["systemInstruction"],go(vt(r)));const l=u(e,["temperature"]);l!=null&&f(i,["temperature"],l);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&f(i,["responseLogprobs"],T);const S=u(e,["logprobs"]);S!=null&&f(i,["logprobs"],S);const C=u(e,["presencePenalty"]);C!=null&&f(i,["presencePenalty"],C);const b=u(e,["frequencyPenalty"]);b!=null&&f(i,["frequencyPenalty"],b);const E=u(e,["seed"]);E!=null&&f(i,["seed"],E);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const D=u(e,["responseSchema"]);D!=null&&f(i,["responseSchema"],AL(Eh(D)));const I=u(e,["responseJsonSchema"]);I!=null&&f(i,["responseJsonSchema"],I);const M=u(e,["routingConfig"]);M!=null&&f(i,["routingConfig"],M);const L=u(e,["modelSelectionConfig"]);L!=null&&f(i,["modelConfig"],ML(L));const N=u(e,["safetySettings"]);if(n!==void 0&&N!=null){let ve=N;Array.isArray(ve)&&(ve=ve.map(F=>RL(F))),f(n,["safetySettings"],ve)}const O=u(e,["tools"]);if(n!==void 0&&O!=null){let ve=mo(O);Array.isArray(ve)&&(ve=ve.map(F=>VC(ho(F)))),f(n,["tools"],ve)}const z=u(e,["toolConfig"]);n!==void 0&&z!=null&&f(n,["toolConfig"],zL(z));const X=u(e,["labels"]);n!==void 0&&X!=null&&f(n,["labels"],X);const J=u(e,["cachedContent"]);n!==void 0&&J!=null&&f(n,["cachedContent"],Vn(t,J));const Q=u(e,["responseModalities"]);Q!=null&&f(i,["responseModalities"],Q);const Z=u(e,["mediaResolution"]);Z!=null&&f(i,["mediaResolution"],Z);const ne=u(e,["speechConfig"]);ne!=null&&f(i,["speechConfig"],JL(wh(ne)));const Pe=u(e,["audioTimestamp"]);Pe!=null&&f(i,["audioTimestamp"],Pe);const ue=u(e,["thinkingConfig"]);return ue!=null&&f(i,["thinkingConfig"],YL(ue)),i}function HT(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=jt(r);Array.isArray(c)&&(c=c.map(h=>go(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["generationConfig"],KL(t,l,n)),n}function XL(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);const r=u(t,["title"]);e!==void 0&&r!=null&&f(e,["instances[]","title"],r);const l=u(t,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=u(t,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),n}function jL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);r!=null&&f(n,["instances[]","content"],TC(t,r));const l=u(e,["config"]);return l!=null&&f(n,["config"],XL(l,n)),n}function WL(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const r=u(t,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const l=u(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&f(e,["parameters","includeSafetyAttributes"],T);const S=u(t,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const C=u(t,["language"]);e!==void 0&&C!=null&&f(e,["parameters","language"],C);const b=u(t,["outputMimeType"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","mimeType"],b);const E=u(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const A=u(t,["addWatermark"]);e!==void 0&&A!=null&&f(e,["parameters","addWatermark"],A);const D=u(t,["imageSize"]);e!==void 0&&D!=null&&f(e,["parameters","sampleImageSize"],D);const I=u(t,["enhancePrompt"]);return e!==void 0&&I!=null&&f(e,["parameters","enhancePrompt"],I),n}function QL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["config"]);return l!=null&&f(n,["config"],WL(l,n)),n}function Kl(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],ji(i));const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function ZL(t){const e={},n=u(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);const r=u(t,["maskDilation"]);return r!=null&&f(e,["dilation"],r),e}function eV(t){const e={},n=u(t,["controlType"]);n!=null&&f(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function tV(t){const e={},n=u(t,["styleDescription"]);return n!=null&&f(e,["styleDescription"],n),e}function nV(t){const e={},n=u(t,["subjectType"]);n!=null&&f(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&f(e,["subjectDescription"],i),e}function iV(t){const e={},n=u(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],Kl(n));const i=u(t,["referenceId"]);i!=null&&f(e,["referenceId"],i);const r=u(t,["referenceType"]);r!=null&&f(e,["referenceType"],r);const l=u(t,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],ZL(l));const c=u(t,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],eV(c));const h=u(t,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],tV(h));const p=u(t,["subjectImageConfig"]);return p!=null&&f(e,["subjectImageConfig"],nV(p)),e}function sV(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const r=u(t,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const l=u(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&f(e,["parameters","includeSafetyAttributes"],T);const S=u(t,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const C=u(t,["language"]);e!==void 0&&C!=null&&f(e,["parameters","language"],C);const b=u(t,["outputMimeType"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","mimeType"],b);const E=u(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const A=u(t,["addWatermark"]);e!==void 0&&A!=null&&f(e,["parameters","addWatermark"],A);const D=u(t,["editMode"]);e!==void 0&&D!=null&&f(e,["parameters","editMode"],D);const I=u(t,["baseSteps"]);return e!==void 0&&I!=null&&f(e,["parameters","editConfig","baseSteps"],I),n}function oV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>iV(p))),f(n,["instances[0]","referenceImages"],h)}const c=u(e,["config"]);return c!=null&&f(n,["config"],sV(c,n)),n}function rV(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&f(e,["parameters","includeRaiReason"],i);const r=u(t,["outputMimeType"]);e!==void 0&&r!=null&&f(e,["parameters","outputOptions","mimeType"],r);const l=u(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","compressionQuality"],l);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=u(t,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const m=u(t,["mode"]);return e!==void 0&&m!=null&&f(e,["parameters","mode"],m),n}function aV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["image"]);r!=null&&f(n,["instances[0]","image"],Kl(r));const l=u(e,["upscaleFactor"]);l!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=u(e,["config"]);return c!=null&&f(n,["config"],rV(c,n)),n}function lV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function uV(t,e,n){const i={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&f(n,["_query","pageSize"],r);const l=u(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],CC(t,h)),i}function cV(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],uV(t,i,n)),n}function fV(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const r=u(t,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const l=u(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function dV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],fV(r,n)),n}function hV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function mV(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],go(vt(i)));const r=u(t,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>VC(h))),f(e,["tools"],c)}const l=u(t,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],l),n}function pV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=jt(r);Array.isArray(c)&&(c=c.map(h=>go(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["config"],mV(l,n)),n}function gV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=jt(r);Array.isArray(c)&&(c=c.map(h=>go(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["config"],l),n}function yV(t){const e={},n=u(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],ji(i));const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function vV(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const l=u(t,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const p=u(t,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const m=u(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const T=u(t,["pubsubTopic"]);e!==void 0&&T!=null&&f(e,["parameters","pubsubTopic"],T);const S=u(t,["negativePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","negativePrompt"],S);const C=u(t,["enhancePrompt"]);e!==void 0&&C!=null&&f(e,["parameters","enhancePrompt"],C);const b=u(t,["generateAudio"]);e!==void 0&&b!=null&&f(e,["parameters","generateAudio"],b);const E=u(t,["lastFrame"]);e!==void 0&&E!=null&&f(e,["instances[0]","lastFrame"],Kl(E));const A=u(t,["compressionQuality"]);return e!==void 0&&A!=null&&f(e,["parameters","compressionQuality"],A),n}function TV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["image"]);l!=null&&f(n,["instances[0]","image"],Kl(l));const c=u(e,["video"]);c!=null&&f(n,["instances[0]","video"],yV(c));const h=u(e,["config"]);return h!=null&&f(n,["config"],vV(h,n)),n}function SV(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function _V(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function CV(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function xV(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],SV(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],_V(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],CV(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function EV(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>xV(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function wV(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function bV(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function AV(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>bV(r))),f(e,["urlMetadata"],i)}return e}function MV(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],EV(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],wV(i));const r=u(t,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);const l=u(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],AV(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&f(e,["safetyRatings"],T),e}function zT(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>MV(p))),f(e,["candidates"],h)}const r=u(t,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);const l=u(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=u(t,["usageMetadata"]);return c!=null&&f(e,["usageMetadata"],c),e}function RV(t){const e={},n=u(t,["values"]);return n!=null&&f(e,["values"],n),e}function DV(){return{}}function NV(t){const e={},n=u(t,["embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>RV(l))),f(e,["embeddings"],r)}return u(t,["metadata"])!=null&&f(e,["metadata"],DV()),e}function PV(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],ji(n));const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function OC(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const r=u(t,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function IV(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],PV(n));const i=u(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const r=u(t,["_self"]);return r!=null&&f(e,["safetyAttributes"],OC(r)),e}function kV(t){const e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>IV(l))),f(e,["generatedImages"],r)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],OC(i)),e}function UV(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const r=u(t,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function Dd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["version"]);l!=null&&f(e,["version"],l);const c=u(t,["_self"]);c!=null&&f(e,["tunedModelInfo"],UV(c));const h=u(t,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const p=u(t,["outputTokenLimit"]);p!=null&&f(e,["outputTokenLimit"],p);const m=u(t,["supportedGenerationMethods"]);return m!=null&&f(e,["supportedActions"],m),e}function LV(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["_self"]);if(r!=null){let l=xC(r);Array.isArray(l)&&(l=l.map(c=>Dd(c))),f(e,["models"],l)}return e}function VV(){return{}}function OV(t){const e={},n=u(t,["totalTokens"]);n!=null&&f(e,["totalTokens"],n);const i=u(t,["cachedContentTokenCount"]);return i!=null&&f(e,["cachedContentTokenCount"],i),e}function BV(t){const e={},n=u(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],ji(i));const r=u(t,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function qV(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],BV(n)),e}function GV(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>qV(c))),f(e,["generatedVideos"],l)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const r=u(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function HV(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const r=u(t,["done"]);r!=null&&f(e,["done"],r);const l=u(t,["error"]);l!=null&&f(e,["error"],l);const c=u(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],GV(c)),e}function zV(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function FV(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function $V(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function JV(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],zV(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],FV(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],$V(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function YV(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>JV(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function KV(t){const e={},n=u(t,["citations"]);return n!=null&&f(e,["citations"],n),e}function XV(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function jV(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>XV(r))),f(e,["urlMetadata"],i)}return e}function WV(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],YV(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],KV(i));const r=u(t,["finishMessage"]);r!=null&&f(e,["finishMessage"],r);const l=u(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],jV(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&f(e,["safetyRatings"],T),e}function FT(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(y=>WV(y))),f(e,["candidates"],m)}const r=u(t,["createTime"]);r!=null&&f(e,["createTime"],r);const l=u(t,["responseId"]);l!=null&&f(e,["responseId"],l);const c=u(t,["modelVersion"]);c!=null&&f(e,["modelVersion"],c);const h=u(t,["promptFeedback"]);h!=null&&f(e,["promptFeedback"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function QV(t){const e={},n=u(t,["truncated"]);n!=null&&f(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function ZV(t){const e={},n=u(t,["values"]);n!=null&&f(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&f(e,["statistics"],QV(i)),e}function eO(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&f(e,["billableCharacterCount"],n),e}function tO(t){const e={},n=u(t,["predictions[]","embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>ZV(l))),f(e,["embeddings"],r)}const i=u(t,["metadata"]);return i!=null&&f(e,["metadata"],eO(i)),e}function nO(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],ji(i));const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function BC(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const r=u(t,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function Ah(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],nO(n));const i=u(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const r=u(t,["_self"]);r!=null&&f(e,["safetyAttributes"],BC(r));const l=u(t,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function iO(t){const e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Ah(l))),f(e,["generatedImages"],r)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],BC(i)),e}function sO(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Ah(r))),f(e,["generatedImages"],i)}return e}function oO(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Ah(r))),f(e,["generatedImages"],i)}return e}function rO(t){const e={},n=u(t,["endpoint"]);n!=null&&f(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function aO(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const r=u(t,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function lO(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&f(e,["epoch"],i);const r=u(t,["step"]);return r!=null&&f(e,["step"],r),e}function Nd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["versionId"]);l!=null&&f(e,["version"],l);const c=u(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(S=>rO(S))),f(e,["endpoints"],T)}const h=u(t,["labels"]);h!=null&&f(e,["labels"],h);const p=u(t,["_self"]);p!=null&&f(e,["tunedModelInfo"],aO(p));const m=u(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const y=u(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>lO(S))),f(e,["checkpoints"],T)}return e}function uO(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["_self"]);if(r!=null){let l=xC(r);Array.isArray(l)&&(l=l.map(c=>Nd(c))),f(e,["models"],l)}return e}function cO(){return{}}function fO(t){const e={},n=u(t,["totalTokens"]);return n!=null&&f(e,["totalTokens"],n),e}function dO(t){const e={},n=u(t,["tokensInfo"]);return n!=null&&f(e,["tokensInfo"],n),e}function hO(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],ji(i));const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function mO(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],hO(n)),e}function pO(t){const e={},n=u(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>mO(c))),f(e,["generatedVideos"],l)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const r=u(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function gO(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const r=u(t,["done"]);r!=null&&f(e,["done"],r);const l=u(t,["error"]);l!=null&&f(e,["error"],l);const c=u(t,["response"]);return c!=null&&f(e,["response"],pO(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yO="Content-Type",vO="X-Server-Timeout",TO="User-Agent",Pd="x-goog-api-client",SO="1.11.0",_O=`google-genai-sdk/${SO}`,CO="v1beta1",xO="v1beta",$T=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class EO{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:CO,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:xO,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))r.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(n))typeof l=="object"?i[r]=Object.assign(Object.assign({},i[r]),l):l!==void 0&&(i[r]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const r=new AbortController,l=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>r.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=l}return n&&n.extraBody!==null&&wO(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await JT(r),new Ed(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await JT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return io(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:p}=yield qe(r.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=l.decode(p,{stream:!0});try{const T=JSON.parse(m);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),C=S.status,b=S.code,E=`got status: ${C}. ${JSON.stringify(T)}`;if(b>=400&&b<600)throw new Jl({message:E,status:b})}}catch(T){if(T.name==="ApiError")throw T}c+=m;let y=c.match($T);for(;y;){const T=y[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new Ed(S)),c=c.slice(y[0].length),y=c.match($T)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=_O+" "+this.clientOptions.userAgentExtra;return e[TO]=n,e[Pd]=n,e[yO]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))n.append(i,r);e.timeout&&e.timeout>0&&n.append(vO,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);r.sizeBytes=String(c.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const p=await this.fetchUploadUrl(r,n);return l.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},c=await this.request({path:re("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:r});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function JT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new Jl({message:r,status:n}):new Error(r)}}function wO(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,c){const h=Object.assign({},l);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const r=i(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bO="mcp_used/unknown";let AO=!1;function qC(t){for(const e of t)if(MO(e)||typeof e=="object"&&"inputSchema"in e)return!0;return AO}function GC(t){var e;const n=(e=t[Pd])!==null&&e!==void 0?e:"";t[Pd]=(n+` ${bO}`).trimStart()}function MO(t){return t!==null&&typeof t=="object"&&t instanceof Mh}function RO(t,e=100){return io(this,arguments,function*(){let i,r=0;for(;r<e;){const l=yield qe(t.listTools({cursor:i}));for(const c of l.tools)yield yield qe(c),r++;if(!l.nextCursor)break;i=l.nextCursor}})}class Mh{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Mh(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const l={},c=[];for(const y of this.mcpClients)try{for(var h=!0,p=(n=void 0,Pr(RO(y))),m;m=await p.next(),e=m.done,!e;h=!0){r=m.value,h=!1;const T=r;c.push(T);const S=T.name;if(l[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);l[S]=y}}catch(T){n={error:T}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),EP(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await r.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function DO(t,e,n){const i=new gP;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data);const l=EU(r);Object.assign(i,l),e(i)}class NO{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=kO(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(M=>{m=M}),T=e.callbacks,S=function(){m({})},C=this.apiClient,b={onopen:S,onmessage:M=>{DO(C,T.onmessage,M)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(M){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(M){}},E=this.webSocketFactory.create(p,IO(c),b);E.connect(),await y;const A=Ne(this.apiClient,e.model),D=kC({model:A}),I=Rd({setup:D});return E.send(JSON.stringify(I)),new PO(E,this.apiClient)}}class PO{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Ck(e),i=UC(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=xk(e),i=Rd(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Rd({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(to.PLAY)}pause(){this.sendPlaybackControl(to.PAUSE)}stop(){this.sendPlaybackControl(to.STOP)}resetContext(){this.sendPlaybackControl(to.RESET_CONTEXT)}close(){this.conn.close()}}function IO(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function kO(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UO="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function LO(t,e,n){const i=new pP;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const l=JSON.parse(r);if(t.isVertexAI()){const c=OU(l);Object.assign(i,c)}else{const c=pU(l);Object.assign(i,c)}e(i)}class VO{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new NO(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&qC(e.config.tools)&&GC(T);const S=GO(T);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const J=this.apiClient.getApiKey();let Q="BidiGenerateContent",Z="key";J!=null&&J.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",Z="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${Q}?${Z}=${J}`}let C=()=>{};const b=new Promise(J=>{C=J}),E=e.callbacks,A=function(){var J;(J=E==null?void 0:E.onopen)===null||J===void 0||J.call(E),C({})},D=this.apiClient,I={onopen:A,onmessage:J=>{LO(D,E.onmessage,J)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(J){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(J){}},M=this.webSocketFactory.create(y,qO(S),I);M.connect(),await b;let L=Ne(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const J=this.apiClient.getProject(),Q=this.apiClient.getLocation();L=`projects/${J}/locations/${Q}/`+L}let N={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[kl.AUDIO]}:e.config.responseModalities=[kl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],z=[];for(const J of O)if(this.isCallableTool(J)){const Q=J;z.push(await Q.tool())}else z.push(J);z.length>0&&(e.config.tools=z);const X={model:L,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?N=jk(this.apiClient,X):N=vk(this.apiClient,X),delete N.config,M.send(JSON.stringify(N)),new BO(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const OO={turnComplete:!0};class BO{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=jt(n.turns),e.isVertexAI()?i=i.map(r=>go(r)):i=i.map(r=>Yl(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(UO)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},OO),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Zk(e)}:n={realtimeInput:_k(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qO(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function GO(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YT=10;function KT(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(so(c)){r=!0;break}if(!r)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function so(t){return"callTool"in t&&typeof t.callTool=="function"}function HO(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>so(r)))!==null&&i!==void 0?i:!1}function zO(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!so(r)))!==null&&i!==void 0?i:!1}function XT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FO extends Xi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,l,c,h;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!HO(n)||KT(n.config))return await this.generateContentInternal(p);if(zO(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const T=jt(p.contents),S=(l=(r=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:YT;let C=0;for(;C<S&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const b=m.candidates[0].content,E=[];for(const A of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(so(A)){const I=await A.callTool(m.functionCalls);E.push(...I)}C++,y={role:"user",parts:E},p.contents=jt(p.contents),p.contents.push(b),p.contents.push(y),XT(p.config)&&(T.push(b),T.push(y))}return XT(p.config)&&(m.automaticFunctionCallingHistory=T),m},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),KT(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let l;const c=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:c.push(p);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l}:h={generatedImages:c},h}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Fr(Ji.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async p=>so(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&qC(e.config.tools)){const p=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),GC(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,r;const l=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(so(c)){const h=c,p=await h.tool();for(const m of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,h)}}return l}async processAfcStream(e){var n,i,r;const l=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:YT;let c=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,y,T){var S,C;return io(this,arguments,function*(){for(var b,E,A,D;h<l;){c&&(h++,c=!1);const N=yield qe(m.processParamsMaybeAddMcpUsage(T)),O=yield qe(m.generateContentStreamInternal(N)),z=[],X=[];try{for(var I=!0,M=(E=void 0,Pr(O)),L;L=yield qe(M.next()),b=L.done,!b;I=!0){D=L.value,I=!1;const J=D;if(yield yield qe(J),J.candidates&&(!((S=J.candidates[0])===null||S===void 0)&&S.content)){X.push(J.candidates[0].content);for(const Q of(C=J.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(h<l&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(Q.functionCall.name)){const Z=yield qe(y.get(Q.functionCall.name).callTool([Q.functionCall]));z.push(...Z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(J){E={error:J}}finally{try{!I&&!b&&(A=M.return)&&(yield qe(A.call(M)))}finally{if(E)throw E.error}}if(z.length>0){c=!0;const J=new Sr;J.candidates=[{content:{role:"user",parts:z}}],yield yield qe(J);const Q=[];Q.push(...X),Q.push({role:"user",parts:z});const Z=jt(T.contents).concat(Q);T.contents=Z}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=HT(this.apiClient,e);return h=re("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=FT(y),S=new Sr;return Object.assign(S,T),S})}else{const m=GT(this.apiClient,e);return h=re("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=zT(y),S=new Sr;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=HT(this.apiClient,e);return h=re("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(T){return io(this,arguments,function*(){var S,C,b,E;try{for(var A=!0,D=Pr(T),I;I=yield qe(D.next()),S=I.done,!S;A=!0){E=I.value,A=!1;const M=E,L=FT(yield qe(M.json()));L.sdkHttpResponse={headers:M.headers};const N=new Sr;Object.assign(N,L),yield yield qe(N)}}catch(M){C={error:M}}finally{try{!A&&!S&&(b=D.return)&&(yield qe(b.call(D)))}finally{if(C)throw C.error}}})})}else{const m=GT(this.apiClient,e);return h=re("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(T){return io(this,arguments,function*(){var S,C,b,E;try{for(var A=!0,D=Pr(T),I;I=yield qe(D.next()),S=I.done,!S;A=!0){E=I.value,A=!1;const M=E,L=zT(yield qe(M.json()));L.sdkHttpResponse={headers:M.headers};const N=new Sr;Object.assign(N,L),yield yield qe(N)}}catch(M){C={error:M}}finally{try{!A&&!S&&(b=D.return)&&(yield qe(b.call(D)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=jL(this.apiClient,e);return h=re("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=tO(y),S=new ST;return Object.assign(S,T),S})}else{const m=uL(this.apiClient,e);return h=re("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const T=NV(y),S=new ST;return Object.assign(S,T),S})}}async generateImagesInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=QL(this.apiClient,e);return h=re("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=iO(y),S=new _T;return Object.assign(S,T),S})}else{const m=fL(this.apiClient,e);return h=re("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const T=kV(y),S=new _T;return Object.assign(S,T),S})}}async editImageInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=oV(this.apiClient,e);return l=re("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=sO(p),y=new uP;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=aV(this.apiClient,e);return l=re("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=oO(p),y=new cP;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=lV(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Nd(y))}else{const m=dL(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Dd(y))}}async listInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=cV(this.apiClient,e);return h=re("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=uO(y),S=new CT;return Object.assign(S,T),S})}else{const m=mL(this.apiClient,e);return h=re("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=LV(y),S=new CT;return Object.assign(S,T),S})}}async update(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=dV(this.apiClient,e);return h=re("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Nd(y))}else{const m=gL(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Dd(y))}}async delete(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=hV(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=cO(),T=new xT;return Object.assign(T,y),T})}else{const m=yL(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=VV(),T=new xT;return Object.assign(T,y),T})}}async countTokens(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=pV(this.apiClient,e);return h=re("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=fO(y),S=new ET;return Object.assign(S,T),S})}else{const m=TL(this.apiClient,e);return h=re("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const T=OV(y),S=new ET;return Object.assign(S,T),S})}}async computeTokens(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=gV(this.apiClient,e);return l=re("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=dO(p),y=new fP;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=TV(this.apiClient,e);return h=re("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=gO(y),S=new Ul;return Object.assign(S,T),S})}else{const m=CL(this.apiClient,e);return h=re("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const T=HV(y),S=new Ul;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $O(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function JO(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function YO(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&f(e,["_url","resourceName"],i);const r=u(t,["config"]);return r!=null&&f(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KO extends Xi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=JO(e);return h=re("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c}else{const m=$O(e);return h=re("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=YO(e);return l=re("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XO(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function HC(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],XO(n)),e}function jO(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],HC(i)),e}function WO(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>jO(r))),f(e,["speakerVoiceConfigs"],i)}return e}function QO(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],HC(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],WO(i));const r=u(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function ZO(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function e3(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function t3(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function n3(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],ZO(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],e3(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],t3(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function i3(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>n3(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function s3(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function o3(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function r3(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],o3(n)),e}function a3(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function l3(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],a3(n)),e}function u3(){return{}}function c3(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>s3(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],r3(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],l3(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],u3());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function f3(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jT(){return{}}function d3(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const r=u(t,["endOfSpeechSensitivity"]);r!=null&&f(e,["endOfSpeechSensitivity"],r);const l=u(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function h3(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],d3(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const r=u(t,["turnCoverage"]);return r!=null&&f(e,["turnCoverage"],r),e}function m3(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function p3(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],m3(i)),e}function g3(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function y3(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const r=u(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=u(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","speechConfig"],QO(bh(T)));const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const C=u(t,["systemInstruction"]);e!==void 0&&C!=null&&f(e,["setup","systemInstruction"],i3(vt(C)));const b=u(t,["tools"]);if(e!==void 0&&b!=null){let N=mo(b);Array.isArray(N)&&(N=N.map(O=>c3(ho(O)))),f(e,["setup","tools"],N)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],f3(E));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],jT());const D=u(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","outputAudioTranscription"],jT());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&f(e,["setup","realtimeInputConfig"],h3(I));const M=u(t,["contextWindowCompression"]);e!==void 0&&M!=null&&f(e,["setup","contextWindowCompression"],p3(M));const L=u(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],g3(L)),n}function v3(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],y3(r,n)),n}function T3(t,e,n){const i={},r=u(e,["expireTime"]);n!==void 0&&r!=null&&f(n,["expireTime"],r);const l=u(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&f(n,["newSessionExpireTime"],l);const c=u(e,["uses"]);n!==void 0&&c!=null&&f(n,["uses"],c);const h=u(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&f(n,["bidiGenerateContentSetup"],v3(t,h));const p=u(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&f(n,["fieldMask"],p),i}function S3(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],T3(t,i,n)),n}function _3(t){const e={},n=u(t,["name"]);return n!=null&&f(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C3(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(l=>`${n}.${l}`);e.push(...r)}else e.push(n)}return e.join(",")}function x3(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const l=C3(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];l&&p.push(l),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class E3 extends Xi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=S3(this.apiClient,e);l=re("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const p=x3(h,e.config);return r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>_3(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w3(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function b3(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const l=u(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function A3(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],b3(n,e)),e}function M3(t){const e={},n=u(t,["textInput"]);n!=null&&f(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&f(e,["output"],i),e}function R3(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>M3(r))),f(e,["examples","examples"],i)}return e}function D3(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&f(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=u(t,["epochCount"]);e!==void 0&&r!=null&&f(e,["tuningTask","hyperparameters","epochCount"],r);const l=u(t,["learningRateMultiplier"]);if(l!=null&&f(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=u(t,["batchSize"]);e!==void 0&&c!=null&&f(e,["tuningTask","hyperparameters","batchSize"],c);const h=u(t,["learningRate"]);return e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","learningRate"],h),n}function N3(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&f(e,["tuningTask","trainingData"],R3(i));const r=u(t,["config"]);return r!=null&&f(e,["config"],D3(r,e)),e}function P3(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function I3(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const l=u(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function k3(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],I3(n,e)),e}function U3(t,e){const n={},i=u(t,["gcsUri"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],i);const r=u(t,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],r),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function L3(t,e){const n={},i=u(t,["gcsUri"]);i!=null&&f(n,["validationDatasetUri"],i);const r=u(t,["vertexDatasetResource"]);return e!==void 0&&r!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],r),n}function V3(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec"],L3(i,n));const r=u(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&f(e,["tunedModelDisplayName"],r);const l=u(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const c=u(t,["epochCount"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=u(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=u(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=u(t,["adapterSize"]);if(e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function O3(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],U3(i,e));const r=u(t,["config"]);return r!=null&&f(e,["config"],V3(r,e)),e}function B3(t){const e={},n=u(t,["name"]);n!=null&&f(e,["model"],n);const i=u(t,["name"]);return i!=null&&f(e,["endpoint"],i),e}function zC(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["state"]);i!=null&&f(e,["state"],SC(i));const r=u(t,["createTime"]);r!=null&&f(e,["createTime"],r);const l=u(t,["tuningTask","startTime"]);l!=null&&f(e,["startTime"],l);const c=u(t,["tuningTask","completeTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&f(e,["description"],p);const m=u(t,["baseModel"]);m!=null&&f(e,["baseModel"],m);const y=u(t,["_self"]);y!=null&&f(e,["tunedModel"],B3(y));const T=u(t,["distillationSpec"]);T!=null&&f(e,["distillationSpec"],T);const S=u(t,["experiment"]);S!=null&&f(e,["experiment"],S);const C=u(t,["labels"]);C!=null&&f(e,["labels"],C);const b=u(t,["pipelineJob"]);b!=null&&f(e,["pipelineJob"],b);const E=u(t,["satisfiesPzi"]);E!=null&&f(e,["satisfiesPzi"],E);const A=u(t,["satisfiesPzs"]);A!=null&&f(e,["satisfiesPzs"],A);const D=u(t,["serviceAccount"]);D!=null&&f(e,["serviceAccount"],D);const I=u(t,["tunedModelDisplayName"]);return I!=null&&f(e,["tunedModelDisplayName"],I),e}function q3(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>zC(c))),f(e,["tuningJobs"],l)}return e}function G3(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const r=u(t,["done"]);r!=null&&f(e,["done"],r);const l=u(t,["error"]);return l!=null&&f(e,["error"],l),e}function H3(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&f(e,["epoch"],i);const r=u(t,["step"]);r!=null&&f(e,["step"],r);const l=u(t,["endpoint"]);return l!=null&&f(e,["endpoint"],l),e}function z3(t){const e={},n=u(t,["model"]);n!=null&&f(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&f(e,["endpoint"],i);const r=u(t,["checkpoints"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>H3(c))),f(e,["checkpoints"],l)}return e}function Id(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["state"]);i!=null&&f(e,["state"],SC(i));const r=u(t,["createTime"]);r!=null&&f(e,["createTime"],r);const l=u(t,["startTime"]);l!=null&&f(e,["startTime"],l);const c=u(t,["endTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&f(e,["error"],p);const m=u(t,["description"]);m!=null&&f(e,["description"],m);const y=u(t,["baseModel"]);y!=null&&f(e,["baseModel"],y);const T=u(t,["tunedModel"]);T!=null&&f(e,["tunedModel"],z3(T));const S=u(t,["supervisedTuningSpec"]);S!=null&&f(e,["supervisedTuningSpec"],S);const C=u(t,["tuningDataStats"]);C!=null&&f(e,["tuningDataStats"],C);const b=u(t,["encryptionSpec"]);b!=null&&f(e,["encryptionSpec"],b);const E=u(t,["partnerModelTuningSpec"]);E!=null&&f(e,["partnerModelTuningSpec"],E);const A=u(t,["distillationSpec"]);A!=null&&f(e,["distillationSpec"],A);const D=u(t,["experiment"]);D!=null&&f(e,["experiment"],D);const I=u(t,["labels"]);I!=null&&f(e,["labels"],I);const M=u(t,["pipelineJob"]);M!=null&&f(e,["pipelineJob"],M);const L=u(t,["satisfiesPzi"]);L!=null&&f(e,["satisfiesPzi"],L);const N=u(t,["satisfiesPzs"]);N!=null&&f(e,["satisfiesPzs"],N);const O=u(t,["serviceAccount"]);O!=null&&f(e,["serviceAccount"],O);const z=u(t,["tunedModelDisplayName"]);return z!=null&&f(e,["tunedModelDisplayName"],z),e}function F3(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Id(c))),f(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $3 extends Xi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Fr(Ji.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:xd.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=P3(e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Id(y))}else{const m=w3(e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>zC(y))}}async listInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=k3(e);return h=re("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=F3(y),S=new bT;return Object.assign(S,T),S})}else{const m=A3(e);return h=re("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=q3(y),S=new bT;return Object.assign(S,T),S})}}async tuneInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=O3(e);return l=re("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Id(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=N3(e);return l=re("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>G3(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Y3=1024*1024*8,K3=3,X3=1e3,j3=2,zf="x-goog-upload-status";async function W3(t,e,n){var i,r,l;let c=0,h=0,p=new Ed(new Response),m="upload";for(c=t.size;h<c;){const T=Math.min(Y3,c-h),S=t.slice(h,h+T);h+T>=c&&(m+=", finalize");let C=0,b=X3;for(;C<K3&&(p=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[zf]));)C++,await Z3(b),b=b*j3;if(h+=T,((r=p==null?void 0:p.headers)===null||r===void 0?void 0:r[zf])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((l=p==null?void 0:p.headers)===null||l===void 0?void 0:l[zf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function Q3(t){return{size:t.size,type:t.type}}function Z3(t){return new Promise(e=>setTimeout(e,t))}class eB{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await W3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Q3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tB{create(e,n,i){return new nB(e,n,i)}}class nB{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WT="x-goog-api-key";class iB{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(WT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(WT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sB="gl-node/";class oB{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=lP(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new iB(this.apiKey);this.apiClient=new EO({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:sB+"web",uploader:new eB,downloader:new J3}),this.models=new FO(this.apiClient),this.live=new VO(this.apiClient,r,new tB),this.batches=new N2(this.apiClient),this.chats=new UI(this.models,this.apiClient),this.caches=new PI(this.apiClient),this.files=new KI(this.apiClient),this.operations=new KO(this.apiClient),this.authTokens=new E3(this.apiClient),this.tunings=new $3(this.apiClient)}}const rB=new oB({apiKey:"PLACEHOLDER_API_KEY"}),aB=(t,e,n)=>{if(t.length===0)return"Tidak ada data transaksi yang tersedia saat ini.";const i=t.filter(y=>y.type===Ve.INCOME).reduce((y,T)=>y+T.amount,0),r=t.filter(y=>y.type===Ve.EXPENSE).reduce((y,T)=>y+T.amount,0),l=i-r,c=y=>{const T=t.filter(S=>S.type===y).reduce((S,C)=>{var A,D;let b="Unknown";C.subtype===cn.PENDAPATAN||C.subtype===St.REGULER?b=((A=e.find(I=>I.id===C.source_id))==null?void 0:A.name)||C.source_id:b=((D=n.find(I=>I.id===C.source_id))==null?void 0:D.name)||C.source_id;const E=`${C.subtype} dari ${b}`;return S[E]=(S[E]||0)+C.amount,S},{});return Object.entries(T).map(([S,C])=>`- ${S}: Rp ${C.toLocaleString("id-ID")}`).join(`
`)},h=c(Ve.INCOME),p=c(Ve.EXPENSE);return`
## Ringkasan Keuangan Saat Ini
- Total Pemasukan: Rp ${i.toLocaleString("id-ID")}
- Total Pengeluaran: Rp ${r.toLocaleString("id-ID")}
- Saldo Saat Ini: Rp ${l.toLocaleString("id-ID")}

## Rincian Pemasukan
${h||"Tidak ada pemasukan."}

## Rincian Pengeluaran
${p||"Tidak ada pengeluaran."}
  `.trim()};async function*lB(t,e,n,i){const l=`
Data Keuangan:
${aB(t,n,i)}

Pertanyaan Pengguna:
"${e}"

Berdasarkan data keuangan di atas, berikan jawaban atau saran yang relevan untuk pertanyaan pengguna.
  `;try{const c=await rB.models.generateContentStream({model:"gemini-2.5-flash",contents:l,config:{systemInstruction:"Anda adalah 'SIKAT Advisor', seorang asisten keuangan yang ramah dan suportif untuk aplikasi SIKAT (Sistem Informasi Keuangan Al-Hasaniyyah Terpusat). Tujuan Anda adalah membantu pengguna mengelola keuangan organisasi dengan lebih baik. Berikan jawaban yang praktis, ringkas, dan memotivasi dalam Bahasa Indonesia. Analisis data yang diberikan untuk memberikan saran yang relevan."}});for await(const h of c)yield h.text}catch(c){console.error("Error calling Gemini API:",c),yield"Maaf, terjadi kesalahan saat menghubungi asisten AI. Silakan coba lagi nanti."}}const uB=()=>{const{transactions:t,lembagas:e,pemberiPinjamans:n}=fo(),[i,r]=V.useState([]),[l,c]=V.useState(""),[h,p]=V.useState(!1),m=V.useRef(null),y=V.useCallback(()=>{var b;(b=m.current)==null||b.scrollIntoView({behavior:"smooth"})},[]);V.useEffect(y,[i]),V.useEffect(()=>{setTimeout(()=>{r([{id:"initial",text:"Halo! Saya SIKAT Advisor. Tanyakan apa saja tentang data keuangan Anda, dan saya akan bantu menganalisisnya.",sender:"ai"}])},500)},[]);const T=V.useCallback(async()=>{if(l.trim()===""||h)return;const b={id:Date.now().toString(),text:l,sender:"user"},E={id:"ai-streaming-response",text:"",sender:"ai"};r(D=>[...D,b,E]);const A=l;c(""),p(!0);try{const D=lB(t,A,e,n);let I="";for await(const M of D)I+=M,r(L=>L.map(N=>N.id==="ai-streaming-response"?{...N,text:I}:N));r(M=>M.map(L=>L.id==="ai-streaming-response"?{...L,id:(Date.now()+1).toString()}:L))}catch{r(I=>I.map(M=>M.id==="ai-streaming-response"?{...M,id:(Date.now()+1).toString(),text:"Maaf, terjadi kesalahan. Coba lagi nanti."}:M))}finally{p(!1)}},[l,h,t,e,n,r,c,p]),S=V.useCallback(b=>{b.key==="Enter"&&T()},[T]),C=V.useCallback(b=>b.sender==="ai"&&b.text===""&&h?x.jsxs("div",{className:"flex items-center justify-center space-x-1 p-2",children:[x.jsx(oe.div,{className:"w-2 h-2 bg-slate-400 rounded-full",animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:0}}),x.jsx(oe.div,{className:"w-2 h-2 bg-slate-400 rounded-full",animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.2}}),x.jsx(oe.div,{className:"w-2 h-2 bg-slate-400 rounded-full",animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.4}})]}):x.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:b.text}),[h]);return x.jsxs("div",{className:"flex flex-col h-full p-4",children:[x.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[x.jsx(hn,{children:i.map(b=>x.jsxs(oe.div,{className:`flex items-end gap-2.5 ${b.sender==="user"?"justify-end":"justify-start"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},layout:!0,children:[b.sender==="ai"&&x.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-bca-blue flex items-center justify-center",children:x.jsx(PN,{className:"w-5 h-5 text-white"})}),x.jsx("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-4 py-3 rounded-3xl ${b.sender==="user"?"bg-bca-blue text-white rounded-br-lg":"bg-slate-200 text-slate-800 rounded-bl-lg"}`,children:C(b)})]},b.id))}),x.jsx("div",{ref:m})]}),x.jsxs("div",{className:"mt-4 flex-shrink-0 flex items-center gap-2",children:[x.jsx("input",{type:"text",value:l,onChange:b=>c(b.target.value),onKeyDown:S,placeholder:"Tanya SIKAT Advisor...",className:"w-full bg-white border border-slate-300 text-slate-900 rounded-full py-3 px-5 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",disabled:h}),x.jsx(oe.button,{onClick:T,disabled:h||l.trim()==="",className:"bg-bca-blue text-white p-3 rounded-full disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",whileTap:{scale:.9},children:x.jsx(NN,{className:"w-6 h-6"})})]})]})},cB=({isOpen:t,onClose:e,onSave:n,initialValue:i="",title:r,label:l,isSaving:c=!1})=>{const[h,p]=V.useState(i);V.useEffect(()=>{t&&p(i)},[t,i]);const m=S=>{S.preventDefault(),h.trim()&&!c&&n(h.trim())},y={visible:{opacity:1},hidden:{opacity:0}},T={visible:{opacity:1,scale:1,transition:{type:"spring",damping:20,stiffness:250}},hidden:{opacity:0,scale:.9}};return x.jsx(hn,{children:t&&x.jsx(oe.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,initial:"hidden",animate:"visible",exit:"hidden",variants:y,children:x.jsxs(oe.div,{className:"bg-white w-full max-w-sm rounded-2xl p-5 shadow-xl",onClick:S=>S.stopPropagation(),variants:T,initial:"hidden",animate:"visible",exit:"hidden",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r}),x.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800",disabled:c,children:x.jsx(lC,{className:"w-6 h-6"})})]}),x.jsx("form",{onSubmit:m,children:x.jsxs("fieldset",{disabled:c,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"master-data-name",className:"block text-sm font-medium text-slate-600 mb-1",children:l}),x.jsx("input",{type:"text",id:"master-data-name",value:h,onChange:S=>p(S.target.value),placeholder:`e.g. Nama ${l}`,className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",autoFocus:!0})]}),x.jsx(oe.button,{type:"submit",className:"w-full bg-bca-blue hover:bg-blue-800 text-white font-bold py-3 px-4 rounded-lg transition-all focus:outline-none focus:ring-4 focus:ring-bca-blue/50 shadow-md shadow-blue-600/30 disabled:bg-slate-400",whileTap:{scale:.98},children:c?"Menyimpan...":"Simpan"})]})})]})})})},FC=({isOpen:t,onConfirm:e,onCancel:n,title:i,children:r,isDeleting:l=!1})=>{const c={visible:{opacity:1},hidden:{opacity:0}},h={visible:{opacity:1,scale:1,transition:{type:"spring",damping:20,stiffness:250}},hidden:{opacity:0,scale:.9}};return x.jsx(hn,{children:t&&x.jsx(oe.div,{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex justify-center items-center p-4",initial:"hidden",animate:"visible",exit:"hidden",variants:c,onClick:n,"aria-modal":"true",role:"dialog",children:x.jsxs(oe.div,{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-xl",variants:h,initial:"hidden",animate:"visible",exit:"hidden",onClick:p=>p.stopPropagation(),children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:i}),x.jsx("div",{className:"text-slate-600 mb-6",children:r}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx(oe.button,{onClick:n,className:"px-5 py-2.5 rounded-lg bg-slate-100 text-slate-700 font-semibold transition-colors border border-slate-200 disabled:opacity-50",whileTap:{scale:.97},whileHover:{backgroundColor:"#e2e8f0"},disabled:l,children:"Batal"}),x.jsx(oe.button,{onClick:e,className:"px-5 py-2.5 rounded-lg bg-rose-500 text-white font-bold transition-colors shadow-sm shadow-rose-500/30 disabled:bg-rose-300 min-w-[90px]",whileTap:{scale:.97},whileHover:{backgroundColor:"#e11d48"},disabled:l,children:l?"Menghapus...":"Hapus"})]})]})})})},$C=({isOpen:t,onClose:e,title:n,children:i})=>{const r={visible:{opacity:1},hidden:{opacity:0}},l={visible:{opacity:1,scale:1,transition:{type:"spring",damping:20,stiffness:250}},hidden:{opacity:0,scale:.9}};return x.jsx(hn,{children:t&&x.jsx(oe.div,{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex justify-center items-center p-4",initial:"hidden",animate:"visible",exit:"hidden",variants:r,onClick:e,"aria-modal":"true",role:"dialog",children:x.jsxs(oe.div,{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-xl",variants:l,initial:"hidden",animate:"visible",exit:"hidden",onClick:c=>c.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:x.jsx(ON,{className:"w-6 h-6 text-amber-500"})}),x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:n})]}),x.jsx("div",{className:"text-slate-600 mb-6 ml-1",children:i}),x.jsx("div",{className:"flex justify-end",children:x.jsx(oe.button,{onClick:e,className:"px-6 py-2.5 rounded-lg bg-bca-blue text-white font-bold transition-colors shadow-sm shadow-blue-500/30",whileTap:{scale:.97},whileHover:{backgroundColor:"#00509a"},children:"Mengerti"})})]})})})},fB={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},dB={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},hB={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20,transition:{duration:.2}}},QT=({title:t,data:e,label:n,icon:i,onAdd:r,onUpdate:l,onDelete:c})=>{const[h,p]=V.useState(!1),[m,y]=V.useState(null),[T,S]=V.useState(null),[C,b]=V.useState(null),[E,A]=V.useState(!1),[D,I]=V.useState(!1),M=J=>{y(J||null),p(!0)},L=()=>{p(!1),y(null)},N=async J=>{A(!0);const Q=m?await l(m.id,J):await r(J);A(!1),Q.success?L():b({title:"Gagal Menyimpan",message:Q.message||"Terjadi kesalahan."})},O=J=>S(J),z=()=>S(null),X=async()=>{if(T){I(!0);const J=await c(T);I(!1),J.success||b({title:"Tindakan Diblokir",message:J.message||"Gagal menghapus item."})}S(null)};return x.jsxs(oe.div,{className:"bg-white p-4 rounded-xl shadow-md shadow-slate-200/50",variants:dB,children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"text-slate-500",children:i}),x.jsx("h3",{className:"font-bold text-lg text-slate-800",children:t})]}),x.jsxs(oe.button,{onClick:()=>M(),className:"flex items-center gap-1 bg-blue-100 text-bca-blue font-semibold py-2 px-3 rounded-lg text-sm transition-colors",whileHover:{backgroundColor:"#dbeafe"},whileTap:{scale:.95},children:[x.jsx(aC,{className:"w-4 h-4"}),"Tambah"]})]}),x.jsx("ul",{className:"space-y-2",children:x.jsx(hn,{children:e.length>0?e.map(J=>x.jsxs(oe.li,{className:"flex justify-between items-center py-2.5 px-3 bg-slate-50 rounded-lg",variants:hB,initial:"initial",animate:"animate",exit:"exit",layout:!0,children:[x.jsx("span",{className:"text-slate-700 font-medium",children:J.name}),x.jsxs("div",{className:"flex items-center",children:[x.jsx(oe.button,{whileTap:{scale:.9},onClick:()=>M(J),className:"p-2 text-slate-400 hover:text-bca-blue rounded-full",children:x.jsx(uC,{className:"w-4 h-4"})}),x.jsx(oe.button,{whileTap:{scale:.9},onClick:()=>O(J.id),className:"p-2 text-slate-400 hover:text-rose-500 rounded-full",children:x.jsx(cC,{className:"w-4 h-4"})})]})]},J.id)):x.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"Data masih kosong."})})}),x.jsx(cB,{isOpen:h,onClose:L,onSave:N,title:`${m?"Edit":"Tambah"} ${n}`,label:`Nama ${n}`,initialValue:(m==null?void 0:m.name)||"",isSaving:E}),x.jsx(FC,{isOpen:!!T,onConfirm:X,onCancel:z,title:`Hapus ${n}`,isDeleting:D,children:x.jsx("p",{children:"Apakah Anda yakin ingin menghapus item ini? Tindakan ini tidak dapat diurungkan."})}),x.jsx($C,{isOpen:!!C,onClose:()=>b(null),title:(C==null?void 0:C.title)||"Informasi",children:x.jsx("p",{children:(C==null?void 0:C.message)||""})})]})},mB=()=>{const{lembagas:t,addLembaga:e,updateLembaga:n,deleteLembaga:i,pemberiPinjamans:r,addPemberiPinjaman:l,updatePemberiPinjaman:c,deletePemberiPinjaman:h}=fo();return x.jsxs(oe.div,{className:"p-4 space-y-5",variants:fB,initial:"hidden",animate:"visible",children:[x.jsx(QT,{title:"Kelola Lembaga",data:t,label:"Lembaga",icon:x.jsx(UN,{className:"w-6 h-6"}),onAdd:e,onUpdate:n,onDelete:i}),x.jsx(QT,{title:"Kelola Pemberi Pinjaman",data:r,label:"Pemberi Pinjaman",icon:x.jsx(LN,{className:"w-6 h-6"}),onAdd:l,onUpdate:c,onDelete:h})]})},pB=({isOpen:t,onClose:e,transactionToEdit:n,onSaveFailed:i})=>{const{lembagas:r,pemberiPinjamans:l,addTransaction:c,updateTransaction:h}=fo(),[p,m]=V.useState(Ve.EXPENSE),[y,T]=V.useState(St.REGULER),[S,C]=V.useState(""),[b,E]=V.useState(""),[A,D]=V.useState(""),[I,M]=V.useState(!1),L=!!n,N=()=>{m(Ve.EXPENSE),T(St.REGULER),C(""),E(""),D("")};V.useEffect(()=>{t?L&&n?(m(n.type),T(n.subtype),C(n.amount.toString()),E(n.description),D(n.source_id)):N():M(!1)},[t,L,n]);const O=ue=>{m(ue),D(""),ue===Ve.EXPENSE?T(St.REGULER):T(cn.PENDAPATAN)},z=ue=>{T(ue),D("")},{sourceList:X,sourceLabel:J}=V.useMemo(()=>y===cn.PENDAPATAN||y===St.REGULER?{sourceList:r,sourceLabel:"Lembaga"}:y===cn.PINJAMAN||y===St.BAYAR_PINJAMAN?{sourceList:l,sourceLabel:"Pemberi Pinjaman"}:{sourceList:[],sourceLabel:"Sumber"},[y,r,l]),Q=async ue=>{if(ue.preventDefault(),I)return;if(!S||!b||!A||parseFloat(S)<=0){i("Mohon isi semua field dengan benar. Jumlah harus lebih dari nol.");return}M(!0);const ve={type:p,subtype:y,amount:parseFloat(S),description:b,source_id:A},F=L&&(n!=null&&n.id)?await h(n.id,ve):await c(ve);M(!1),F.success?e():i(F.message||"Terjadi kesalahan yang tidak diketahui.")},Z=p===Ve.INCOME?Object.values(cn):Object.values(St),ne={visible:{opacity:1},hidden:{opacity:0}},Pe={visible:{y:0,transition:{type:"spring",damping:25,stiffness:200}},hidden:{y:"100%"}};return x.jsx(hn,{children:t&&x.jsx(oe.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-end",initial:"hidden",animate:"visible",exit:"hidden",variants:ne,onClick:e,children:x.jsxs(oe.div,{className:"bg-white w-full rounded-t-2xl p-5",style:{boxShadow:"0 -10px 25px -5px rgba(0, 0, 0, 0.1)"},variants:Pe,initial:"hidden",animate:"visible",exit:"hidden",onClick:ue=>ue.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[L?"Edit":"Tambah"," Transaksi"]}),x.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800",disabled:I,children:x.jsx(lC,{className:"w-6 h-6"})})]}),x.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[x.jsxs("fieldset",{disabled:I,children:[x.jsx("div",{children:x.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[x.jsx("button",{type:"button",onClick:()=>O(Ve.EXPENSE),className:`w-1/2 p-2 rounded-md text-sm font-semibold transition-colors ${p===Ve.EXPENSE?"bg-white text-rose-600 shadow-sm":"text-slate-600"}`,children:"Pengeluaran"}),x.jsx("button",{type:"button",onClick:()=>O(Ve.INCOME),className:`w-1/2 p-2 rounded-md text-sm font-semibold transition-colors ${p===Ve.INCOME?"bg-white text-emerald-600 shadow-sm":"text-slate-600"}`,children:"Pemasukan"})]})}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 mb-1",children:"Jumlah (Rp)"}),x.jsx("input",{type:"number",id:"amount",value:S,onChange:ue=>C(ue.target.value),placeholder:"0",className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-600 mb-1",children:"Deskripsi"}),x.jsx("input",{type:"text",id:"description",value:b,onChange:ue=>E(ue.target.value),placeholder:"e.g. Pembelian ATK",className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition"})]}),x.jsxs("div",{className:"custom-select-wrapper",children:[x.jsxs("label",{htmlFor:"subtype",className:"block text-sm font-medium text-slate-600 mb-1",children:["Jenis ",p===Ve.INCOME?"Pemasukan":"Pengeluaran"]}),x.jsx("select",{id:"subtype",value:y,onChange:ue=>z(ue.target.value),className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",children:Z.map(ue=>x.jsx("option",{value:ue,children:ue},ue))}),x.jsx("div",{className:"custom-select-arrow text-slate-500",children:x.jsx(Td,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"custom-select-wrapper",children:[x.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-slate-600 mb-1",children:J}),x.jsxs("select",{id:"source",value:A,onChange:ue=>D(ue.target.value),className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",disabled:X.length===0,children:[x.jsx("option",{value:"",disabled:!0,children:X.length===0?`Data ${J} kosong`:`Pilih ${J}`}),X.map(ue=>x.jsx("option",{value:ue.id,children:ue.name},ue.id))]}),x.jsx("div",{className:"custom-select-arrow text-slate-500",children:x.jsx(Td,{className:"w-5 h-5"})})]})]}),x.jsx(oe.button,{type:"submit",className:"w-full bg-bca-blue text-white font-bold py-4 px-4 rounded-lg transition-all mt-6 shadow-md shadow-blue-600/30 focus:outline-none focus:ring-4 focus:ring-bca-blue/50 disabled:bg-slate-400",whileTap:{scale:.98},disabled:I,children:I?"Menyimpan...":L?"Update Transaksi":"Simpan Transaksi"})]})]})})})},gl=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Ff=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,ZT=()=>{const t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),n=/WebKit/.test(t),i=/Safari/.test(t);return e&&n&&i&&!(t.indexOf("CriOS")>-1)&&!(t.indexOf("FxiOS")>-1)},JC=()=>{const[t,e]=V.useState(null),[n,i]=V.useState(!1),[r,l]=V.useState(!1),[c,h]=V.useState(navigator.onLine),[p,m]=V.useState("install");return V.useEffect(()=>{const S=M=>{console.log("PWA install prompt event received",M),M.preventDefault();const L=M.detail||M;console.log("Prompt event details:",L),e(L),m("install"),setTimeout(()=>{console.log("Showing install prompt"),i(!0)},1e3)},C=()=>{e(null),i(!1),console.log("PWA was installed successfully")},b=()=>h(!0),E=()=>h(!1),A=()=>{l(!0),m("update"),i(!0)},D=()=>{if(Ff()){console.log("App is already installed");return}gl()&&(console.log("Mobile device detected, setting up install prompt"),setTimeout(()=>{!t&&!Ff()&&(console.log("Showing mobile install prompt"),i(!0),m("install"))},5e3))},I=()=>{console.log("Manual install prompt triggered"),!Ff()&&gl()&&(m("install"),i(!0))};return window.addEventListener("beforeinstallprompt",S),window.addEventListener("manualInstallPrompt",I),window.addEventListener("appinstalled",C),window.addEventListener("online",b),window.addEventListener("offline",E),window.addEventListener("swUpdate",A),window.deferredPrompt&&(console.log("Found deferred prompt on window object"),e(window.deferredPrompt),m("install"),setTimeout(()=>{console.log("Showing deferred install prompt"),i(!0)},1e3)),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{A()}),D(),()=>{window.removeEventListener("beforeinstallprompt",S),window.removeEventListener("manualInstallPrompt",I),window.removeEventListener("appinstalled",C),window.removeEventListener("online",b),window.removeEventListener("offline",E),window.removeEventListener("swUpdate",A)}},[t]),{isPromptVisible:n,isUpdateAvailable:r,isOnline:c,promptType:p,handleInstall:async()=>{if(console.log("handleInstall called",{promptType:p,promptEvent:t,isIOSSafari:ZT()}),p==="update"){if("serviceWorker"in navigator){const C=await navigator.serviceWorker.getRegistration();C!=null&&C.waiting&&(C.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())}l(!1),i(!1);return}if(ZT()){console.log("iOS Safari detected - showing install instructions");return}const S=t||window.deferredPrompt;if(!S){console.log("No prompt event available for installation"),gl()&&alert(`Untuk menginstall aplikasi ini:

1. Buka menu browser ()
2. Pilih "Add to Home Screen" atau "Install App"
3. Ikuti instruksi yang muncul`),i(!1);return}try{if(console.log("Triggering install prompt with event:",S),typeof S.prompt!="function"){console.error("Prompt event does not have a prompt method"),i(!1);return}await S.prompt();const C=await S.userChoice;console.log("User choice result:",C),C.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),window.deferredPrompt=null}catch(C){console.error("Error during installation:",C),gl()&&alert(`Untuk menginstall aplikasi ini:

1. Buka menu browser ()
2. Pilih "Add to Home Screen" atau "Install App"
3. Ikuti instruksi yang muncul`)}finally{e(null),i(!1)}},handleDismiss:()=>{i(!1),p==="update"&&l(!1)}}};function gB({title:t,titleId:e,...n},i){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?V.createElement("title",{id:e},t):null,V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const yB=V.forwardRef(gB);function vB({title:t,titleId:e,...n},i){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?V.createElement("title",{id:e},t):null,V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const eS=V.forwardRef(vB);function TB({title:t,titleId:e,...n},i){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?V.createElement("title",{id:e},t):null,V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const SB=V.forwardRef(TB),_B=()=>{const t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),n=/WebKit/.test(t),i=/Safari/.test(t);return e&&n&&i&&!(t.indexOf("CriOS")>-1)&&!(t.indexOf("FxiOS")>-1)},CB=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),xB=()=>{const t=navigator.userAgent;return/Android/.test(t)&&/Chrome/.test(t)},YC=({isVisible:t,onInstall:e,onDismiss:n,type:i="install"})=>{if(!t)return null;const r=i==="update",l=_B(),c=xB(),h=CB(),p=l&&!r?eS:yB,m=r?"Update SIKAT Tersedia":"Pasang SIKAT di Perangkat Anda",y=r?"Versi baru aplikasi tersedia. Update sekarang untuk mendapatkan fitur terbaru.":"Akses lebih cepat dan pengalaman lebih baik dengan aplikasi SIKAT",T=r?"Update":l||!h?"Lihat Instruksi":"Install";return x.jsx("div",{className:"fixed bottom-4 left-4 right-4 bg-white border border-slate-200 rounded-lg shadow-lg p-4 z-50 animate-fade-in-down",children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center mb-2",children:[x.jsx(p,{className:`h-5 w-5 mr-2 ${r?"text-green-600":"text-bca-blue"}`}),x.jsx("h3",{className:"font-semibold text-slate-800",children:m})]}),x.jsx("p",{className:"text-sm text-slate-600 mb-3",children:y}),!r&&x.jsxs("div",{className:"mt-3",children:[l&&x.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[x.jsx("p",{className:"text-xs text-blue-800 font-medium mb-2",children:"Cara Install di iPhone/iPad:"}),x.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[x.jsxs("li",{children:["1. Tap tombol ",x.jsx(eS,{className:"w-3 h-3 inline mx-1"})," (Share) di bawah browser"]}),x.jsx("li",{children:'2. Scroll dan pilih "Add to Home Screen"'}),x.jsx("li",{children:'3. Tap "Add" untuk menyelesaikan instalasi'})]})]}),c&&x.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[x.jsx("p",{className:"text-xs text-green-800 font-medium mb-2",children:"Cara Install di Android Chrome:"}),x.jsxs("ol",{className:"text-xs text-green-700 space-y-1",children:[x.jsx("li",{children:"1. Tap tombol menu () di pojok kanan atas"}),x.jsx("li",{children:'2. Pilih "Add to Home screen" atau "Install app"'}),x.jsx("li",{children:'3. Tap "Add" atau "Install" untuk menyelesaikan'})]})]}),!l&&!c&&h&&x.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[x.jsx("p",{className:"text-xs text-orange-800 font-medium mb-2",children:"Cara Install di Browser Mobile:"}),x.jsxs("ol",{className:"text-xs text-orange-700 space-y-1",children:[x.jsx("li",{children:"1. Buka menu browser (biasanya  atau )"}),x.jsx("li",{children:'2. Cari opsi "Add to Home Screen" atau "Install"'}),x.jsx("li",{children:"3. Ikuti instruksi yang muncul"})]})]}),!h&&x.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[x.jsx("p",{className:"text-xs text-purple-800 font-medium mb-2",children:"Cara Install di Desktop:"}),x.jsxs("ol",{className:"text-xs text-purple-700 space-y-1",children:[x.jsx("li",{children:"1. Klik ikon install () di address bar"}),x.jsx("li",{children:'2. Atau buka menu browser dan pilih "Install SIKAT"'}),x.jsx("li",{children:'3. Klik "Install" untuk menyelesaikan'})]})]})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:e,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r?"bg-green-600 text-white hover:bg-green-700":"bg-bca-blue text-white hover:bg-blue-700"}`,children:T}),x.jsx("button",{onClick:n,className:"bg-slate-100 text-slate-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-slate-200 transition-colors",children:"Nanti"})]})]}),x.jsx("button",{onClick:n,className:"ml-4 text-slate-400 hover:text-slate-600 transition-colors",children:x.jsx(SB,{className:"h-5 w-5"})})]})})},EB=({activeView:t})=>{const{transactions:e,deleteTransaction:n}=fo(),{logout:i}=Ol(),{isPromptVisible:r,isOnline:l,promptType:c,handleInstall:h,handleDismiss:p}=JC(),[m,y]=V.useState(!1),[T,S]=V.useState(null),[C,b]=V.useState(null),[E,A]=V.useState(!1),[D,I]=V.useState(null),M=V.useRef(null),{scrollY:L}=oC({container:M});tC(L,"change",j=>{A(j>10)});const N=C?e.find(j=>j.id===C):null,O=V.useCallback(j=>{I({title:"Transaksi Gagal",message:j})},[]),z=V.useCallback(()=>{y(!1),S(null)},[]),X=V.useCallback(()=>{S(null),y(!0)},[]),J=V.useCallback(j=>{S(j),y(!0)},[]),Q=V.useCallback(j=>{b(j)},[]),Z=V.useCallback(()=>{b(null)},[]),ne=V.useCallback(()=>{C&&n(C),b(null)},[C,n]),Pe={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},ue=()=>{switch(t){case"dashboard":return x.jsx(Il,{});case"list":return x.jsx(hC,{onEdit:J,onDelete:Q});case"ai":return x.jsx(uB,{});case"settings":return x.jsx(mB,{});default:return x.jsx(Il,{})}},ve={dashboard:"Dashboard Admin",list:"Riwayat Transaksi",ai:"SIKAT Advisor",settings:"Data Master"},F=({view:j,label:ie,icon:xe})=>x.jsxs(oe.button,{onClick:()=>window.location.hash=`#/admin/${j}`,className:`flex flex-col items-center justify-center w-full transition-colors duration-200 h-full ${t===j?"text-bca-blue":"text-slate-500 hover:text-bca-blue"}`,whileTap:{scale:.9},children:[x.jsx(oe.div,{className:"relative",animate:t===j?{scale:[1,1.25,1]}:{},transition:{duration:.4,ease:"easeOut"},children:xe}),x.jsx("span",{className:"text-xs font-medium mt-1.5",children:ie})]});return x.jsxs("div",{className:"h-screen w-screen bg-slate-50 flex flex-col font-sans max-w-md mx-auto shadow-2xl shadow-slate-400/20 border-x border-slate-200/80",children:[x.jsxs(oe.header,{layout:!0,className:`flex justify-between items-center flex-shrink-0 px-4 pt-6 pb-4 sticky top-0 z-20 transition-all duration-300 ${E?"bg-slate-50/80 backdrop-blur-lg shadow-sm":"bg-transparent"}`,children:[x.jsx(oe.h1,{layout:"position",className:"text-2xl font-extrabold text-slate-900 text-left",children:ve[t]}),x.jsx(oe.button,{onClick:i,whileTap:{scale:.95},className:"p-2 text-slate-500 hover:text-rose-600 hover:bg-rose-50 rounded-full","aria-label":"Logout",children:x.jsx(VN,{className:"w-6 h-6"})})]}),x.jsx("main",{ref:M,className:"flex-grow overflow-y-auto pb-28",children:x.jsx(hn,{mode:"wait",children:x.jsx(oe.div,{variants:Pe,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.2},children:ue()},t)})}),x.jsx(hn,{children:t!=="ai"&&t!=="settings"&&!r&&x.jsx(oe.div,{initial:{scale:0,y:50},animate:{scale:1,y:0},exit:{scale:0,y:50},transition:{type:"spring",stiffness:260,damping:20},className:"fixed bottom-24 right-6 z-40",children:x.jsx(oe.button,{onClick:X,className:"bg-bca-blue text-white rounded-full p-4 shadow-lg shadow-blue-600/30 focus:outline-none focus:ring-4 focus:ring-bca-blue/50","aria-label":"Tambah Transaksi",whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:x.jsx(aC,{className:"w-8 h-8"})})})}),x.jsx(YC,{isVisible:r,onInstall:h,onDismiss:p,type:c}),!l&&x.jsx("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500 text-white text-center py-2 text-sm z-50",children:"Mode Offline - Beberapa fitur mungkin tidak tersedia"}),x.jsx(pB,{isOpen:m,onClose:z,transactionToEdit:T,onSaveFailed:O}),x.jsx(FC,{isOpen:!!C,onConfirm:ne,onCancel:Z,title:"Konfirmasi Penghapusan",children:x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("p",{children:"Apakah Anda yakin ingin menghapus transaksi ini?"}),N&&x.jsxs("div",{className:"bg-slate-100 p-3 rounded-lg border border-slate-200",children:[x.jsx("p",{className:"font-semibold text-slate-800 truncate",children:N.description}),x.jsxs("p",{className:"text-sm text-slate-500",children:[N.type===Ve.INCOME?"+":"-","Rp ",N.amount.toLocaleString("id-ID")]})]}),x.jsx("p",{className:"text-xs text-rose-500 pt-2",children:"Tindakan ini tidak dapat diurungkan."})]})}),x.jsx($C,{isOpen:!!D,onClose:()=>I(null),title:(D==null?void 0:D.title)||"Informasi",children:x.jsx("p",{children:(D==null?void 0:D.message)||""})}),x.jsx("footer",{className:"fixed bottom-0 left-0 right-0 h-20 bg-white/70 backdrop-blur-lg border-t border-slate-200/80 shadow-[0_-5px_20px_-10px_rgba(0,0,0,0.07)] z-30 max-w-md mx-auto",children:x.jsxs("nav",{className:"flex items-center justify-around h-full px-2",children:[x.jsx(F,{view:"dashboard",label:"Dashboard",icon:x.jsx(xh,{className:"w-6 h-6"})}),x.jsx(F,{view:"list",label:"Riwayat",icon:x.jsx(rC,{className:"w-6 h-6"})}),x.jsx(F,{view:"ai",label:"Advisor",icon:x.jsx(DN,{className:"w-6 h-6"})}),x.jsx(F,{view:"settings",label:"Data",icon:x.jsx(IN,{className:"w-6 h-6"})})]})})]})},wB=({activeView:t})=>{const{isPromptVisible:e,promptType:n,handleInstall:i,handleDismiss:r}=JC(),[l,c]=V.useState(!1),h=V.useRef(null),{scrollY:p}=oC({container:h});tC(p,"change",C=>{c(C>10)});const m={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},y=()=>{switch(t){case"dashboard":return x.jsx(Il,{});case"list":return x.jsx(hC,{onEdit:()=>{},onDelete:()=>{},isReadOnly:!0});default:return x.jsx(Il,{})}},T={dashboard:"Dashboard Publik",list:"Riwayat Transaksi"},S=({view:C,label:b,icon:E})=>x.jsxs(oe.button,{onClick:()=>window.location.hash=`#/public/${C}`,className:`flex flex-col items-center justify-center w-full transition-colors duration-200 h-full ${t===C?"text-bca-blue":"text-slate-500 hover:text-bca-blue"}`,whileTap:{scale:.9},children:[x.jsx(oe.div,{className:"relative",animate:t===C?{scale:[1,1.25,1]}:{},transition:{duration:.4,ease:"easeOut"},children:E}),x.jsx("span",{className:"text-xs font-medium mt-1.5",children:b})]});return x.jsxs("div",{className:"h-screen w-screen bg-slate-50 flex flex-col font-sans max-w-md mx-auto shadow-2xl shadow-slate-400/20 border-x border-slate-200/80",children:[x.jsxs(oe.header,{layout:!0,className:`flex justify-between items-center flex-shrink-0 px-4 pt-6 pb-4 sticky top-0 z-20 transition-all duration-300 ${l?"bg-slate-50/80 backdrop-blur-lg shadow-sm":"bg-transparent"}`,children:[x.jsx(oe.h1,{layout:"position",className:"text-2xl font-extrabold text-slate-900 text-left",children:T[t]}),x.jsx("button",{onClick:()=>window.location.hash="#/login",className:"text-sm font-semibold text-bca-blue hover:underline",children:"Login Admin"})]}),x.jsx("main",{ref:h,className:"flex-grow overflow-y-auto pb-28",children:x.jsx(hn,{mode:"wait",children:x.jsx(oe.div,{variants:m,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.2},children:y()},t)})}),x.jsx(YC,{isVisible:e,onInstall:i,onDismiss:r,type:n}),x.jsx("footer",{className:"fixed bottom-0 left-0 right-0 h-20 bg-white/70 backdrop-blur-lg border-t border-slate-200/80 shadow-[0_-5px_20px_-10px_rgba(0,0,0,0.07)] z-30 max-w-md mx-auto",children:x.jsxs("nav",{className:"flex items-center justify-around h-full px-2",children:[x.jsx(S,{view:"dashboard",label:"Dashboard",icon:x.jsx(xh,{className:"w-6 h-6"})}),x.jsx(S,{view:"list",label:"Riwayat",icon:x.jsx(rC,{className:"w-6 h-6"})})]})})]})},bB=["dashboard","list","ai","settings"],AB=["dashboard","list"],MB=()=>{const{isAuthenticated:t}=Ol(),{route:e}=IA(),n=e[0]||"",i=e[1]||"dashboard";if(t){if(n==="admin"){const r=bB.includes(i)?i:"dashboard";return x.jsx(EB,{activeView:r})}return window.location.hash="#/admin/dashboard",null}if(n==="public"){const r=AB.includes(i)?i:"dashboard";return x.jsx(wB,{activeView:r})}return n==="login"?x.jsx(qN,{}):(window.location.hash&&window.location.hash!=="#/"&&(window.location.hash="#/"),x.jsx(BN,{}))},KC=document.getElementById("root");if(!KC)throw new Error("Could not find root element to mount to");const RB=Rw.createRoot(KC);RB.render(x.jsx(_w.StrictMode,{children:x.jsx(PA,{children:x.jsx(GN,{children:x.jsx(MB,{})})})}));
