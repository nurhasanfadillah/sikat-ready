(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function Id(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var ff={exports:{}},pr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function pw(){if(_y)return pr;_y=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:t,type:i,key:c,ref:r!==void 0?r:null,props:l}}return pr.Fragment=e,pr.jsx=n,pr.jsxs=n,pr}var Cy;function gw(){return Cy||(Cy=1,ff.exports=pw()),ff.exports}var x=gw(),df={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function yw(){if(xy)return ge;xy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function A(P,W,te){this.props=P,this.context=W,this.refs=E,this.updater=te||C}A.prototype.isReactComponent={},A.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function R(){}R.prototype=A.prototype;function k(P,W,te){this.props=P,this.context=W,this.refs=E,this.updater=te||C}var D=k.prototype=new R;D.constructor=k,b(D,A.prototype),D.isPureReactComponent=!0;var L=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function z(P,W,te,ee,ae,Ee){return te=Ee.ref,{$$typeof:t,type:P,key:W,ref:te!==void 0?te:null,props:Ee}}function j(P,W){return z(P.type,W,void 0,void 0,void 0,P.props)}function J(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function Q(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(te){return W[te]})}var Z=/\/+/g;function ne(P,W){return typeof P=="object"&&P!==null&&P.key!=null?Q(""+P.key):W.toString(36)}function Pe(){}function ue(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Pe,Pe):(P.status="pending",P.then(function(W){P.status==="pending"&&(P.status="fulfilled",P.value=W)},function(W){P.status==="pending"&&(P.status="rejected",P.reason=W)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ve(P,W,te,ee,ae){var Ee=typeof P;(Ee==="undefined"||Ee==="boolean")&&(P=null);var me=!1;if(P===null)me=!0;else switch(Ee){case"bigint":case"string":case"number":me=!0;break;case"object":switch(P.$$typeof){case t:case e:me=!0;break;case y:return me=P._init,ve(me(P._payload),W,te,ee,ae)}}if(me)return ae=ae(P),me=ee===""?"."+ne(P,0):ee,L(ae)?(te="",me!=null&&(te=me.replace(Z,"$&/")+"/"),ve(ae,W,te,"",function(Bn){return Bn})):ae!=null&&(J(ae)&&(ae=j(ae,te+(ae.key==null||P&&P.key===ae.key?"":(""+ae.key).replace(Z,"$&/")+"/")+me)),W.push(ae)),1;me=0;var Mt=ee===""?".":ee+":";if(L(P))for(var He=0;He<P.length;He++)ee=P[He],Ee=Mt+ne(ee,He),me+=ve(ee,W,te,Ee,ae);else if(He=S(P),typeof He=="function")for(P=He.call(P),He=0;!(ee=P.next()).done;)ee=ee.value,Ee=Mt+ne(ee,He++),me+=ve(ee,W,te,Ee,ae);else if(Ee==="object"){if(typeof P.then=="function")return ve(ue(P),W,te,ee,ae);throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return me}function F(P,W,te){if(P==null)return P;var ee=[],ae=0;return ve(P,ee,"","",function(Ee){return W.call(te,Ee,ae++)}),ee}function X(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(te){(P._status===0||P._status===-1)&&(P._status=1,P._result=te)},function(te){(P._status===0||P._status===-1)&&(P._status=2,P._result=te)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var ie=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function xe(){}return ge.Children={map:F,forEach:function(P,W,te){F(P,function(){W.apply(this,arguments)},te)},count:function(P){var W=0;return F(P,function(){W++}),W},toArray:function(P){return F(P,function(W){return W})||[]},only:function(P){if(!J(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ge.Component=A,ge.Fragment=n,ge.Profiler=r,ge.PureComponent=k,ge.StrictMode=i,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ge.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},ge.cache=function(P){return function(){return P.apply(null,arguments)}},ge.cloneElement=function(P,W,te){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ee=b({},P.props),ae=P.key,Ee=void 0;if(W!=null)for(me in W.ref!==void 0&&(Ee=void 0),W.key!==void 0&&(ae=""+W.key),W)!V.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(ee[me]=W[me]);var me=arguments.length-2;if(me===1)ee.children=te;else if(1<me){for(var Mt=Array(me),He=0;He<me;He++)Mt[He]=arguments[He+2];ee.children=Mt}return z(P.type,ae,void 0,void 0,Ee,ee)},ge.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},ge.createElement=function(P,W,te){var ee,ae={},Ee=null;if(W!=null)for(ee in W.key!==void 0&&(Ee=""+W.key),W)V.call(W,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ae[ee]=W[ee]);var me=arguments.length-2;if(me===1)ae.children=te;else if(1<me){for(var Mt=Array(me),He=0;He<me;He++)Mt[He]=arguments[He+2];ae.children=Mt}if(P&&P.defaultProps)for(ee in me=P.defaultProps,me)ae[ee]===void 0&&(ae[ee]=me[ee]);return z(P,Ee,void 0,void 0,null,ae)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(P){return{$$typeof:h,render:P}},ge.isValidElement=J,ge.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:X}},ge.memo=function(P,W){return{$$typeof:m,type:P,compare:W===void 0?null:W}},ge.startTransition=function(P){var W=N.T,te={};N.T=te;try{var ee=P(),ae=N.S;ae!==null&&ae(te,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(xe,ie)}catch(Ee){ie(Ee)}finally{N.T=W}},ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ge.use=function(P){return N.H.use(P)},ge.useActionState=function(P,W,te){return N.H.useActionState(P,W,te)},ge.useCallback=function(P,W){return N.H.useCallback(P,W)},ge.useContext=function(P){return N.H.useContext(P)},ge.useDebugValue=function(){},ge.useDeferredValue=function(P,W){return N.H.useDeferredValue(P,W)},ge.useEffect=function(P,W,te){var ee=N.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(P,W)},ge.useId=function(){return N.H.useId()},ge.useImperativeHandle=function(P,W,te){return N.H.useImperativeHandle(P,W,te)},ge.useInsertionEffect=function(P,W){return N.H.useInsertionEffect(P,W)},ge.useLayoutEffect=function(P,W){return N.H.useLayoutEffect(P,W)},ge.useMemo=function(P,W){return N.H.useMemo(P,W)},ge.useOptimistic=function(P,W){return N.H.useOptimistic(P,W)},ge.useReducer=function(P,W,te){return N.H.useReducer(P,W,te)},ge.useRef=function(P){return N.H.useRef(P)},ge.useState=function(P){return N.H.useState(P)},ge.useSyncExternalStore=function(P,W,te){return N.H.useSyncExternalStore(P,W,te)},ge.useTransition=function(){return N.H.useTransition()},ge.version="19.1.1",ge}var Ey;function kd(){return Ey||(Ey=1,df.exports=yw()),df.exports}var q=kd();const vw=Id(q);var hf={exports:{}},gr={},mf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function Tw(){return wy||(wy=1,function(t){function e(F,X){var ie=F.length;F.push(X);e:for(;0<ie;){var xe=ie-1>>>1,P=F[xe];if(0<r(P,X))F[xe]=X,F[ie]=P,ie=xe;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var X=F[0],ie=F.pop();if(ie!==X){F[0]=ie;e:for(var xe=0,P=F.length,W=P>>>1;xe<W;){var te=2*(xe+1)-1,ee=F[te],ae=te+1,Ee=F[ae];if(0>r(ee,ie))ae<P&&0>r(Ee,ee)?(F[xe]=Ee,F[ae]=ie,xe=ae):(F[xe]=ee,F[te]=ie,xe=te);else if(ae<P&&0>r(Ee,ie))F[xe]=Ee,F[ae]=ie,xe=ae;else break e}}return X}function r(F,X){var ie=F.sortIndex-X.sortIndex;return ie!==0?ie:F.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,T=null,S=3,C=!1,b=!1,E=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(F){for(var X=n(m);X!==null;){if(X.callback===null)i(m);else if(X.startTime<=F)i(m),X.sortIndex=X.expirationTime,e(p,X);else break;X=n(m)}}function N(F){if(E=!1,L(F),!b)if(n(p)!==null)b=!0,V||(V=!0,ne());else{var X=n(m);X!==null&&ve(N,X.startTime-F)}}var V=!1,z=-1,j=5,J=-1;function Q(){return A?!0:!(t.unstable_now()-J<j)}function Z(){if(A=!1,V){var F=t.unstable_now();J=F;var X=!0;try{e:{b=!1,E&&(E=!1,k(z),z=-1),C=!0;var ie=S;try{t:{for(L(F),T=n(p);T!==null&&!(T.expirationTime>F&&Q());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,S=T.priorityLevel;var P=xe(T.expirationTime<=F);if(F=t.unstable_now(),typeof P=="function"){T.callback=P,L(F),X=!0;break t}T===n(p)&&i(p),L(F)}else i(p);T=n(p)}if(T!==null)X=!0;else{var W=n(m);W!==null&&ve(N,W.startTime-F),X=!1}}break e}finally{T=null,S=ie,C=!1}X=void 0}}finally{X?ne():V=!1}}}var ne;if(typeof D=="function")ne=function(){D(Z)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,ue=Pe.port2;Pe.port1.onmessage=Z,ne=function(){ue.postMessage(null)}}else ne=function(){R(Z,0)};function ve(F,X){z=R(function(){F(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(F){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var ie=S;S=X;try{return F()}finally{S=ie}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=S;S=F;try{return X()}finally{S=ie}},t.unstable_scheduleCallback=function(F,X,ie){var xe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,F){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ie+P,F={id:y++,callback:X,priorityLevel:F,startTime:ie,expirationTime:P,sortIndex:-1},ie>xe?(F.sortIndex=ie,e(m,F),n(p)===null&&F===n(m)&&(E?(k(z),z=-1):E=!0,ve(N,ie-xe))):(F.sortIndex=P,e(p,F),b||C||(b=!0,V||(V=!0,ne()))),F},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(F){var X=S;return function(){var ie=S;S=X;try{return F.apply(this,arguments)}finally{S=ie}}}}(pf)),pf}var by;function Sw(){return by||(by=1,mf.exports=Tw()),mf.exports}var gf={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function _w(){if(Ay)return mt;Ay=1;var t=kd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(p,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},mt.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},mt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},mt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},mt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):y==="script"&&i.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},mt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},mt.requestFormReset=function(p){i.d.r(p)},mt.unstable_batchedUpdates=function(p,m){return p(m)},mt.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},mt.version="19.1.1",mt}var My;function Cw(){if(My)return gf.exports;My=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gf.exports=_w(),gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function xw(){if(Ry)return gr;Ry=1;var t=Sw(),e=kd(),n=Cw();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,a=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(a=o.return),s=o.return;while(s)}return o.tag===3?a:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(l(s)!==s)throw Error(i(188))}function p(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(i(188));return o!==s?null:s}for(var a=s,d=o;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){a=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return h(g),s;if(v===d)return h(g),o;v=v.sibling}throw Error(i(188))}if(a.return!==d.return)a=g,d=v;else{for(var _=!1,w=g.child;w;){if(w===a){_=!0,a=g,d=v;break}if(w===d){_=!0,d=g,a=v;break}w=w.sibling}if(!_){for(w=v.child;w;){if(w===a){_=!0,a=v,d=g;break}if(w===d){_=!0,d=v,a=g;break}w=w.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==d)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var Pe=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Pe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case V:return"SuspenseList";case J:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case D:return(s.displayName||"Context")+".Provider";case k:return(s._context.displayName||"Context")+".Consumer";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return o=s.displayName||null,o!==null?o:ue(s.type)||"Memo";case j:o=s._payload,s=s._init;try{return ue(s(o))}catch{}}return null}var ve=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},xe=[],P=-1;function W(s){return{current:s}}function te(s){0>P||(s.current=xe[P],xe[P]=null,P--)}function ee(s,o){P++,xe[P]=s.current,s.current=o}var ae=W(null),Ee=W(null),me=W(null),Mt=W(null);function He(s,o){switch(ee(me,o),ee(Ee,s),ee(ae,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?jg(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=jg(o),s=Xg(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(ae),ee(ae,s)}function Bn(){te(ae),te(Ee),te(me)}function jl(s){s.memoizedState!==null&&ee(Mt,s);var o=ae.current,a=Xg(o,s.type);o!==a&&(ee(Ee,s),ee(ae,a))}function Jr(s){Ee.current===s&&(te(ae),te(Ee)),Mt.current===s&&(te(Mt),cr._currentValue=ie)}var Xl=Object.prototype.hasOwnProperty,Wl=t.unstable_scheduleCallback,Ql=t.unstable_cancelCallback,JC=t.unstable_shouldYield,YC=t.unstable_requestPaint,sn=t.unstable_now,KC=t.unstable_getCurrentPriorityLevel,Rh=t.unstable_ImmediatePriority,Dh=t.unstable_UserBlockingPriority,Yr=t.unstable_NormalPriority,jC=t.unstable_LowPriority,Nh=t.unstable_IdlePriority,XC=t.log,WC=t.unstable_setDisableYieldValue,vo=null,Rt=null;function qn(s){if(typeof XC=="function"&&WC(s),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(vo,s)}catch{}}var Dt=Math.clz32?Math.clz32:ex,QC=Math.log,ZC=Math.LN2;function ex(s){return s>>>=0,s===0?32:31-(QC(s)/ZC|0)|0}var Kr=256,jr=4194304;function Ti(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xr(s,o,a){var d=s.pendingLanes;if(d===0)return 0;var g=0,v=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var w=d&134217727;return w!==0?(d=w&~v,d!==0?g=Ti(d):(_&=w,_!==0?g=Ti(_):a||(a=w&~s,a!==0&&(g=Ti(a))))):(w=d&~v,w!==0?g=Ti(w):_!==0?g=Ti(_):a||(a=d&~s,a!==0&&(g=Ti(a)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,a=o&-o,v>=a||v===32&&(a&4194048)!==0)?o:g}function To(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function tx(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ph(){var s=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),s}function Ih(){var s=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),s}function Zl(s){for(var o=[],a=0;31>a;a++)o.push(s);return o}function So(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function nx(s,o,a,d,g,v){var _=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var w=s.entanglements,M=s.expirationTimes,B=s.hiddenUpdates;for(a=_&~a;0<a;){var $=31-Dt(a),K=1<<$;w[$]=0,M[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var G=H[$];G!==null&&(G.lane&=-536870913)}a&=~K}d!==0&&kh(s,d,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(_&~o))}function kh(s,o,a){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Dt(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|a&4194090}function Uh(s,o){var a=s.entangledLanes|=o;for(s=s.entanglements;a;){var d=31-Dt(a),g=1<<d;g&o|s[d]&o&&(s[d]|=o),a&=~g}}function eu(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function tu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Lh(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:py(s.type))}function ix(s,o){var a=X.p;try{return X.p=s,o()}finally{X.p=a}}var Hn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Hn,Ct="__reactProps$"+Hn,Qi="__reactContainer$"+Hn,nu="__reactEvents$"+Hn,sx="__reactListeners$"+Hn,ox="__reactHandles$"+Hn,Vh="__reactResources$"+Hn,_o="__reactMarker$"+Hn;function iu(s){delete s[dt],delete s[Ct],delete s[nu],delete s[sx],delete s[ox]}function Zi(s){var o=s[dt];if(o)return o;for(var a=s.parentNode;a;){if(o=a[Qi]||a[dt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(s=ey(s);s!==null;){if(a=s[dt])return a;s=ey(s)}return o}s=a,a=s.parentNode}return null}function es(s){if(s=s[dt]||s[Qi]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Co(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function ts(s){var o=s[Vh];return o||(o=s[Vh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function nt(s){s[_o]=!0}var Oh=new Set,Bh={};function Si(s,o){ns(s,o),ns(s+"Capture",o)}function ns(s,o){for(Bh[s]=o,s=0;s<o.length;s++)Oh.add(o[s])}var rx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qh={},Hh={};function ax(s){return Xl.call(Hh,s)?!0:Xl.call(qh,s)?!1:rx.test(s)?Hh[s]=!0:(qh[s]=!0,!1)}function Wr(s,o,a){if(ax(o))if(a===null)s.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+a)}}function Qr(s,o,a){if(a===null)s.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+a)}}function yn(s,o,a,d){if(d===null)s.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(o,a,""+d)}}var su,Gh;function is(s){if(su===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);su=o&&o[1]||"",Gh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+s+Gh}var ou=!1;function ru(s,o){if(!s||ou)return"";ou=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(G){var H=G}Reflect.construct(s,[],K)}else{try{K.call()}catch(G){H=G}s.call(K.prototype)}}else{try{throw Error()}catch(G){H=G}(K=s())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),_=v[0],w=v[1];if(_&&w){var M=_.split(`
`),B=w.split(`
`);for(g=d=0;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;for(;g<B.length&&!B[g].includes("DetermineComponentFrameRoot");)g++;if(d===M.length||g===B.length)for(d=M.length-1,g=B.length-1;1<=d&&0<=g&&M[d]!==B[g];)g--;for(;1<=d&&0<=g;d--,g--)if(M[d]!==B[g]){if(d!==1||g!==1)do if(d--,g--,0>g||M[d]!==B[g]){var $=`
`+M[d].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=d&&0<=g);break}}}finally{ou=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?is(a):""}function lx(s){switch(s.tag){case 26:case 27:case 5:return is(s.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return ru(s.type,!1);case 11:return ru(s.type.render,!1);case 1:return ru(s.type,!0);case 31:return is("Activity");default:return""}}function zh(s){try{var o="";do o+=lx(s),s=s.return;while(s);return o}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Bt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fh(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ux(s){var o=Fh(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,v=a.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(_){d=""+_,v.call(this,_)}}),Object.defineProperty(s,o,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Zr(s){s._valueTracker||(s._valueTracker=ux(s))}function $h(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var a=o.getValue(),d="";return s&&(d=Fh(s)?s.checked?"true":"false":s.value),s=d,s!==a?(o.setValue(s),!0):!1}function ea(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var cx=/[\n"\\]/g;function qt(s){return s.replace(cx,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function au(s,o,a,d,g,v,_,w){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),o!=null?_==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Bt(o)):s.value!==""+Bt(o)&&(s.value=""+Bt(o)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),o!=null?lu(s,_,Bt(o)):a!=null?lu(s,_,Bt(a)):d!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+Bt(w):s.removeAttribute("name")}function Jh(s,o,a,d,g,v,_,w){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),o!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;a=a!=null?""+Bt(a):"",o=o!=null?""+Bt(o):a,w||o===s.value||(s.value=o),s.defaultValue=o}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=w?s.checked:!!d,s.defaultChecked=!!d,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_)}function lu(s,o,a){o==="number"&&ea(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function ss(s,o,a,d){if(s=s.options,o){o={};for(var g=0;g<a.length;g++)o["$"+a[g]]=!0;for(a=0;a<s.length;a++)g=o.hasOwnProperty("$"+s[a].value),s[a].selected!==g&&(s[a].selected=g),g&&d&&(s[a].defaultSelected=!0)}else{for(a=""+Bt(a),o=null,g=0;g<s.length;g++){if(s[g].value===a){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Yh(s,o,a){if(o!=null&&(o=""+Bt(o),o!==s.value&&(s.value=o),a==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=a!=null?""+Bt(a):""}function Kh(s,o,a,d){if(o==null){if(d!=null){if(a!=null)throw Error(i(92));if(ve(d)){if(1<d.length)throw Error(i(93));d=d[0]}a=d}a==null&&(a=""),o=a}a=Bt(o),s.defaultValue=a,d=s.textContent,d===a&&d!==""&&d!==null&&(s.value=d)}function os(s,o){if(o){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=o;return}}s.textContent=o}var fx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jh(s,o,a){var d=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,a):typeof a!="number"||a===0||fx.has(o)?o==="float"?s.cssFloat=a:s[o]=(""+a).trim():s[o]=a+"px"}function Xh(s,o,a){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,a!=null){for(var d in a)!a.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var g in o)d=o[g],o.hasOwnProperty(g)&&a[g]!==d&&jh(s,g,d)}else for(var v in o)o.hasOwnProperty(v)&&jh(s,v,o[v])}function uu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(s){return hx.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var cu=null;function fu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var rs=null,as=null;function Wh(s){var o=es(s);if(o&&(s=o.stateNode)){var a=s[Ct]||null;e:switch(s=o.stateNode,o.type){case"input":if(au(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var d=a[o];if(d!==s&&d.form===s.form){var g=d[Ct]||null;if(!g)throw Error(i(90));au(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<a.length;o++)d=a[o],d.form===s.form&&$h(d)}break e;case"textarea":Yh(s,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&ss(s,!!a.multiple,o,!1)}}}var du=!1;function Qh(s,o,a){if(du)return s(o,a);du=!0;try{var d=s(o);return d}finally{if(du=!1,(rs!==null||as!==null)&&(qa(),rs&&(o=rs,s=as,as=rs=null,Wh(o),s)))for(o=0;o<s.length;o++)Wh(s[o])}}function xo(s,o){var a=s.stateNode;if(a===null)return null;var d=a[Ct]||null;if(d===null)return null;a=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(i(231,o,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=!1;if(vn)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){hu=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{hu=!1}var Gn=null,mu=null,na=null;function Zh(){if(na)return na;var s,o=mu,a=o.length,d,g="value"in Gn?Gn.value:Gn.textContent,v=g.length;for(s=0;s<a&&o[s]===g[s];s++);var _=a-s;for(d=1;d<=_&&o[a-d]===g[v-d];d++);return na=g.slice(s,1<d?1-d:void 0)}function ia(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function sa(){return!0}function em(){return!1}function xt(s){function o(a,d,g,v,_){this._reactName=a,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(a=s[w],this[w]=a?a(v):v[w]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?sa:em,this.isPropagationStopped=em,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),o}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=xt(_i),wo=y({},_i,{view:0,detail:0}),mx=xt(wo),pu,gu,bo,ra=y({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bo&&(bo&&s.type==="mousemove"?(pu=s.screenX-bo.screenX,gu=s.screenY-bo.screenY):gu=pu=0,bo=s),pu)},movementY:function(s){return"movementY"in s?s.movementY:gu}}),tm=xt(ra),px=y({},ra,{dataTransfer:0}),gx=xt(px),yx=y({},wo,{relatedTarget:0}),yu=xt(yx),vx=y({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Tx=xt(vx),Sx=y({},_i,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_x=xt(Sx),Cx=y({},_i,{data:0}),nm=xt(Cx),xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bx(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=wx[s])?!!o[s]:!1}function vu(){return bx}var Ax=y({},wo,{key:function(s){if(s.key){var o=xx[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ex[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(s){return s.type==="keypress"?ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Mx=xt(Ax),Rx=y({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=xt(Rx),Dx=y({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Nx=xt(Dx),Px=y({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ix=xt(Px),kx=y({},ra,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ux=xt(kx),Lx=y({},_i,{newState:0,oldState:0}),Vx=xt(Lx),Ox=[9,13,27,32],Tu=vn&&"CompositionEvent"in window,Ao=null;vn&&"documentMode"in document&&(Ao=document.documentMode);var Bx=vn&&"TextEvent"in window&&!Ao,sm=vn&&(!Tu||Ao&&8<Ao&&11>=Ao),om=" ",rm=!1;function am(s,o){switch(s){case"keyup":return Ox.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ls=!1;function qx(s,o){switch(s){case"compositionend":return lm(o);case"keypress":return o.which!==32?null:(rm=!0,om);case"textInput":return s=o.data,s===om&&rm?null:s;default:return null}}function Hx(s,o){if(ls)return s==="compositionend"||!Tu&&am(s,o)?(s=Zh(),na=mu=Gn=null,ls=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sm&&o.locale!=="ko"?null:o.data;default:return null}}var Gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Gx[s.type]:o==="textarea"}function cm(s,o,a,d){rs?as?as.push(d):as=[d]:rs=d,o=Ja(o,"onChange"),0<o.length&&(a=new oa("onChange","change",null,a,d),s.push({event:a,listeners:o}))}var Mo=null,Ro=null;function zx(s){Fg(s,0)}function aa(s){var o=Co(s);if($h(o))return s}function fm(s,o){if(s==="change")return o}var dm=!1;if(vn){var Su;if(vn){var _u="oninput"in document;if(!_u){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),_u=typeof hm.oninput=="function"}Su=_u}else Su=!1;dm=Su&&(!document.documentMode||9<document.documentMode)}function mm(){Mo&&(Mo.detachEvent("onpropertychange",pm),Ro=Mo=null)}function pm(s){if(s.propertyName==="value"&&aa(Ro)){var o=[];cm(o,Ro,s,fu(s)),Qh(zx,o)}}function Fx(s,o,a){s==="focusin"?(mm(),Mo=o,Ro=a,Mo.attachEvent("onpropertychange",pm)):s==="focusout"&&mm()}function $x(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return aa(Ro)}function Jx(s,o){if(s==="click")return aa(o)}function Yx(s,o){if(s==="input"||s==="change")return aa(o)}function Kx(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Nt=typeof Object.is=="function"?Object.is:Kx;function Do(s,o){if(Nt(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var a=Object.keys(s),d=Object.keys(o);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var g=a[d];if(!Xl.call(o,g)||!Nt(s[g],o[g]))return!1}return!0}function gm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ym(s,o){var a=gm(s);s=0;for(var d;a;){if(a.nodeType===3){if(d=s+a.textContent.length,s<=o&&d>=o)return{node:a,offset:o-s};s=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gm(a)}}function vm(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?vm(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Tm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=ea(s.document);o instanceof s.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)s=o.contentWindow;else break;o=ea(s.document)}return o}function Cu(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var jx=vn&&"documentMode"in document&&11>=document.documentMode,us=null,xu=null,No=null,Eu=!1;function Sm(s,o,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Eu||us==null||us!==ea(d)||(d=us,"selectionStart"in d&&Cu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),No&&Do(No,d)||(No=d,d=Ja(xu,"onSelect"),0<d.length&&(o=new oa("onSelect","select",null,o,a),s.push({event:o,listeners:d}),o.target=us)))}function Ci(s,o){var a={};return a[s.toLowerCase()]=o.toLowerCase(),a["Webkit"+s]="webkit"+o,a["Moz"+s]="moz"+o,a}var cs={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},wu={},_m={};vn&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function xi(s){if(wu[s])return wu[s];if(!cs[s])return s;var o=cs[s],a;for(a in o)if(o.hasOwnProperty(a)&&a in _m)return wu[s]=o[a];return s}var Cm=xi("animationend"),xm=xi("animationiteration"),Em=xi("animationstart"),Xx=xi("transitionrun"),Wx=xi("transitionstart"),Qx=xi("transitioncancel"),wm=xi("transitionend"),bm=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function Wt(s,o){bm.set(s,o),Si(o,[s])}var Am=new WeakMap;function Ht(s,o){if(typeof s=="object"&&s!==null){var a=Am.get(s);return a!==void 0?a:(o={value:s,source:o,stack:zh(o)},Am.set(s,o),o)}return{value:s,source:o,stack:zh(o)}}var Gt=[],fs=0,Au=0;function la(){for(var s=fs,o=Au=fs=0;o<s;){var a=Gt[o];Gt[o++]=null;var d=Gt[o];Gt[o++]=null;var g=Gt[o];Gt[o++]=null;var v=Gt[o];if(Gt[o++]=null,d!==null&&g!==null){var _=d.pending;_===null?g.next=g:(g.next=_.next,_.next=g),d.pending=g}v!==0&&Mm(a,g,v)}}function ua(s,o,a,d){Gt[fs++]=s,Gt[fs++]=o,Gt[fs++]=a,Gt[fs++]=d,Au|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Mu(s,o,a,d){return ua(s,o,a,d),ca(s)}function ds(s,o){return ua(s,null,null,o),ca(s)}function Mm(s,o,a){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a);for(var g=!1,v=s.return;v!==null;)v.childLanes|=a,d=v.alternate,d!==null&&(d.childLanes|=a),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&o!==null&&(g=31-Dt(a),s=v.hiddenUpdates,d=s[g],d===null?s[g]=[o]:d.push(o),o.lane=a|536870912),v):null}function ca(s){if(50<nr)throw nr=0,kc=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var hs={};function Zx(s,o,a,d){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(s,o,a,d){return new Zx(s,o,a,d)}function Ru(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Tn(s,o){var a=s.alternate;return a===null?(a=Pt(s.tag,o,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=o,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,o=s.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function Rm(s,o){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,o=a.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function fa(s,o,a,d,g,v){var _=0;if(d=s,typeof s=="function")Ru(s)&&(_=1);else if(typeof s=="string")_=tw(s,a,ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case J:return s=Pt(31,a,o,g),s.elementType=J,s.lanes=v,s;case b:return Ei(a.children,g,v,o);case E:_=8,g|=24;break;case A:return s=Pt(12,a,o,g|2),s.elementType=A,s.lanes=v,s;case N:return s=Pt(13,a,o,g),s.elementType=N,s.lanes=v,s;case V:return s=Pt(19,a,o,g),s.elementType=V,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:case D:_=10;break e;case k:_=9;break e;case L:_=11;break e;case z:_=14;break e;case j:_=16,d=null;break e}_=29,a=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=Pt(_,a,o,g),o.elementType=s,o.type=d,o.lanes=v,o}function Ei(s,o,a,d){return s=Pt(7,s,d,o),s.lanes=a,s}function Du(s,o,a){return s=Pt(6,s,null,o),s.lanes=a,s}function Nu(s,o,a){return o=Pt(4,s.children!==null?s.children:[],s.key,o),o.lanes=a,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var ms=[],ps=0,da=null,ha=0,zt=[],Ft=0,wi=null,Sn=1,_n="";function bi(s,o){ms[ps++]=ha,ms[ps++]=da,da=s,ha=o}function Dm(s,o,a){zt[Ft++]=Sn,zt[Ft++]=_n,zt[Ft++]=wi,wi=s;var d=Sn;s=_n;var g=32-Dt(d)-1;d&=~(1<<g),a+=1;var v=32-Dt(o)+g;if(30<v){var _=g-g%5;v=(d&(1<<_)-1).toString(32),d>>=_,g-=_,Sn=1<<32-Dt(o)+g|a<<g|d,_n=v+s}else Sn=1<<v|a<<g|d,_n=s}function Pu(s){s.return!==null&&(bi(s,1),Dm(s,1,0))}function Iu(s){for(;s===da;)da=ms[--ps],ms[ps]=null,ha=ms[--ps],ms[ps]=null;for(;s===wi;)wi=zt[--Ft],zt[Ft]=null,_n=zt[--Ft],zt[Ft]=null,Sn=zt[--Ft],zt[Ft]=null}var Tt=null,$e=null,Ae=!1,Ai=null,on=!1,ku=Error(i(519));function Mi(s){var o=Error(i(418,""));throw ko(Ht(o,s)),ku}function Nm(s){var o=s.stateNode,a=s.type,d=s.memoizedProps;switch(o[dt]=s,o[Ct]=d,a){case"dialog":_e("cancel",o),_e("close",o);break;case"iframe":case"object":case"embed":_e("load",o);break;case"video":case"audio":for(a=0;a<sr.length;a++)_e(sr[a],o);break;case"source":_e("error",o);break;case"img":case"image":case"link":_e("error",o),_e("load",o);break;case"details":_e("toggle",o);break;case"input":_e("invalid",o),Jh(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Zr(o);break;case"select":_e("invalid",o);break;case"textarea":_e("invalid",o),Kh(o,d.value,d.defaultValue,d.children),Zr(o)}a=d.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||d.suppressHydrationWarning===!0||Kg(o.textContent,a)?(d.popover!=null&&(_e("beforetoggle",o),_e("toggle",o)),d.onScroll!=null&&_e("scroll",o),d.onScrollEnd!=null&&_e("scrollend",o),d.onClick!=null&&(o.onclick=Ya),o=!0):o=!1,o||Mi(s)}function Pm(s){for(Tt=s.return;Tt;)switch(Tt.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Tt=Tt.return}}function Po(s){if(s!==Tt)return!1;if(!Ae)return Pm(s),Ae=!0,!1;var o=s.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||Xc(s.type,s.memoizedProps)),a=!a),a&&$e&&Mi(s),Pm(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(a=s.data,a==="/$"){if(o===0){$e=Zt(s.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++;s=s.nextSibling}$e=null}}else o===27?(o=$e,si(s.type)?(s=ef,ef=null,$e=s):$e=o):$e=Tt?Zt(s.stateNode.nextSibling):null;return!0}function Io(){$e=Tt=null,Ae=!1}function Im(){var s=Ai;return s!==null&&(bt===null?bt=s:bt.push.apply(bt,s),Ai=null),s}function ko(s){Ai===null?Ai=[s]:Ai.push(s)}var Uu=W(null),Ri=null,Cn=null;function zn(s,o,a){ee(Uu,o._currentValue),o._currentValue=a}function xn(s){s._currentValue=Uu.current,te(Uu)}function Lu(s,o,a){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===a)break;s=s.return}}function Vu(s,o,a,d){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var _=g.child;v=v.firstContext;e:for(;v!==null;){var w=v;v=g;for(var M=0;M<o.length;M++)if(w.context===o[M]){v.lanes|=a,w=v.alternate,w!==null&&(w.lanes|=a),Lu(v.return,a,s),d||(_=null);break e}v=w.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(i(341));_.lanes|=a,v=_.alternate,v!==null&&(v.lanes|=a),Lu(_,a,s),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function Uo(s,o,a,d){s=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var w=g.type;Nt(g.pendingProps.value,_.value)||(s!==null?s.push(w):s=[w])}}else if(g===Mt.current){if(_=g.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(cr):s=[cr])}g=g.return}s!==null&&Vu(o,s,a,d),o.flags|=262144}function ma(s){for(s=s.firstContext;s!==null;){if(!Nt(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Di(s){Ri=s,Cn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ht(s){return km(Ri,s)}function pa(s,o){return Ri===null&&Di(s),km(s,o)}function km(s,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},Cn===null){if(s===null)throw Error(i(308));Cn=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Cn=Cn.next=o;return a}var eE=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(a,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(a){return a()})}},tE=t.unstable_scheduleCallback,nE=t.unstable_NormalPriority,Ze={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ou(){return{controller:new eE,data:new Map,refCount:0}}function Lo(s){s.refCount--,s.refCount===0&&tE(nE,function(){s.controller.abort()})}var Vo=null,Bu=0,gs=0,ys=null;function iE(s,o){if(Vo===null){var a=Vo=[];Bu=0,gs=Hc(),ys={status:"pending",value:void 0,then:function(d){a.push(d)}}}return Bu++,o.then(Um,Um),o}function Um(){if(--Bu===0&&Vo!==null){ys!==null&&(ys.status="fulfilled");var s=Vo;Vo=null,gs=0,ys=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function sE(s,o){var a=[],d={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var g=0;g<a.length;g++)(0,a[g])(o)},function(g){for(d.status="rejected",d.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),d}var Lm=F.S;F.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&iE(s,o),Lm!==null&&Lm(s,o)};var Ni=W(null);function qu(){var s=Ni.current;return s!==null?s:Oe.pooledCache}function ga(s,o){o===null?ee(Ni,Ni.current):ee(Ni,o.pool)}function Vm(){var s=qu();return s===null?null:{parent:Ze._currentValue,pool:s}}var Oo=Error(i(460)),Om=Error(i(474)),ya=Error(i(542)),Hu={then:function(){}};function Bm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function va(){}function qm(s,o,a){switch(a=s[a],a===void 0?s.push(o):a!==o&&(o.then(va,va),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Gm(s),s;default:if(typeof o.status=="string")o.then(va,va);else{if(s=Oe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=d}},function(d){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Gm(s),s}throw Bo=o,Oo}}var Bo=null;function Hm(){if(Bo===null)throw Error(i(459));var s=Bo;return Bo=null,s}function Gm(s){if(s===Oo||s===ya)throw Error(i(483))}var Fn=!1;function Gu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function $n(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Jn(s,o,a){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Re&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,o=ca(s),Mm(s,null,a),o}return ua(s,d,o,a),ca(s)}function qo(s,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,a|=d,o.lanes=a,Uh(s,a)}}function Fu(s,o){var a=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=_:v=v.next=_,a=a.next}while(a!==null);v===null?g=v=o:v=v.next=o}else g=v=o;a={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=o:s.next=o,a.lastBaseUpdate=o}var $u=!1;function Ho(){if($u){var s=ys;if(s!==null)throw s}}function Go(s,o,a,d){$u=!1;var g=s.updateQueue;Fn=!1;var v=g.firstBaseUpdate,_=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var M=w,B=M.next;M.next=null,_===null?v=B:_.next=B,_=M;var $=s.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==_&&(w===null?$.firstBaseUpdate=B:w.next=B,$.lastBaseUpdate=M))}if(v!==null){var K=g.baseState;_=0,$=B=M=null,w=v;do{var H=w.lane&-536870913,G=H!==w.lane;if(G?(we&H)===H:(d&H)===H){H!==0&&H===gs&&($u=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=s,ce=w;H=o;var Ue=a;switch(ce.tag){case 1:if(he=ce.payload,typeof he=="function"){K=he.call(Ue,K,H);break e}K=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ce.payload,H=typeof he=="function"?he.call(Ue,K,H):he,H==null)break e;K=y({},K,H);break e;case 2:Fn=!0}}H=w.callback,H!==null&&(s.flags|=64,G&&(s.flags|=8192),G=g.callbacks,G===null?g.callbacks=[H]:G.push(H))}else G={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(B=$=G,M=K):$=$.next=G,_|=H;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;G=w,w=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);$===null&&(M=K),g.baseState=M,g.firstBaseUpdate=B,g.lastBaseUpdate=$,v===null&&(g.shared.lanes=0),ei|=_,s.lanes=_,s.memoizedState=K}}function zm(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Fm(s,o){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)zm(a[s],o)}var vs=W(null),Ta=W(0);function $m(s,o){s=Dn,ee(Ta,s),ee(vs,o),Dn=s|o.baseLanes}function Ju(){ee(Ta,Dn),ee(vs,vs.current)}function Yu(){Dn=Ta.current,te(vs),te(Ta)}var Yn=0,ye=null,Ie=null,We=null,Sa=!1,Ts=!1,Pi=!1,_a=0,zo=0,Ss=null,oE=0;function Ke(){throw Error(i(321))}function Ku(s,o){if(o===null)return!1;for(var a=0;a<o.length&&a<s.length;a++)if(!Nt(s[a],o[a]))return!1;return!0}function ju(s,o,a,d,g,v){return Yn=v,ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=s===null||s.memoizedState===null?Mp:Rp,Pi=!1,v=a(d,g),Pi=!1,Ts&&(v=Ym(o,a,d,g)),Jm(s),v}function Jm(s){F.H=Aa;var o=Ie!==null&&Ie.next!==null;if(Yn=0,We=Ie=ye=null,Sa=!1,zo=0,Ss=null,o)throw Error(i(300));s===null||it||(s=s.dependencies,s!==null&&ma(s)&&(it=!0))}function Ym(s,o,a,d){ye=s;var g=0;do{if(Ts&&(Ss=null),zo=0,Ts=!1,25<=g)throw Error(i(301));if(g+=1,We=Ie=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}F.H=dE,v=o(a,d)}while(Ts);return v}function rE(){var s=F.H,o=s.useState()[0];return o=typeof o.then=="function"?Fo(o):o,s=s.useState()[0],(Ie!==null?Ie.memoizedState:null)!==s&&(ye.flags|=1024),o}function Xu(){var s=_a!==0;return _a=0,s}function Wu(s,o,a){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~a}function Qu(s){if(Sa){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Sa=!1}Yn=0,We=Ie=ye=null,Ts=!1,zo=_a=0,Ss=null}function Et(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?ye.memoizedState=We=s:We=We.next=s,We}function Qe(){if(Ie===null){var s=ye.alternate;s=s!==null?s.memoizedState:null}else s=Ie.next;var o=We===null?ye.memoizedState:We.next;if(o!==null)We=o,Ie=s;else{if(s===null)throw ye.alternate===null?Error(i(467)):Error(i(310));Ie=s,s={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},We===null?ye.memoizedState=We=s:We=We.next=s}return We}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(s){var o=zo;return zo+=1,Ss===null&&(Ss=[]),s=qm(Ss,s,o),o=ye,(We===null?o.memoizedState:We.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?Mp:Rp),s}function Ca(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Fo(s);if(s.$$typeof===D)return ht(s)}throw Error(i(438,String(s)))}function ec(s){var o=null,a=ye.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var d=ye.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Zu(),ye.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(s),d=0;d<s;d++)a[d]=Q;return o.index++,a}function En(s,o){return typeof o=="function"?o(s):o}function xa(s){var o=Qe();return tc(o,Ie,s)}function tc(s,o,a){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var g=s.baseQueue,v=d.pending;if(v!==null){if(g!==null){var _=g.next;g.next=v.next,v.next=_}o.baseQueue=g=v,d.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{o=g.next;var w=_=null,M=null,B=o,$=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(we&K)===K:(Yn&K)===K){var H=B.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===gs&&($=!0);else if((Yn&H)===H){B=B.next,H===gs&&($=!0);continue}else K={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(w=M=K,_=v):M=M.next=K,ye.lanes|=H,ei|=H;K=B.action,Pi&&a(v,K),v=B.hasEagerState?B.eagerState:a(v,K)}else H={lane:K,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(w=M=H,_=v):M=M.next=H,ye.lanes|=K,ei|=K;B=B.next}while(B!==null&&B!==o);if(M===null?_=v:M.next=w,!Nt(v,s.memoizedState)&&(it=!0,$&&(a=ys,a!==null)))throw a;s.memoizedState=v,s.baseState=_,s.baseQueue=M,d.lastRenderedState=v}return g===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function nc(s){var o=Qe(),a=o.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=s;var d=a.dispatch,g=a.pending,v=o.memoizedState;if(g!==null){a.pending=null;var _=g=g.next;do v=s(v,_.action),_=_.next;while(_!==g);Nt(v,o.memoizedState)||(it=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),a.lastRenderedState=v}return[v,d]}function Km(s,o,a){var d=ye,g=Qe(),v=Ae;if(v){if(a===void 0)throw Error(i(407));a=a()}else a=o();var _=!Nt((Ie||g).memoizedState,a);_&&(g.memoizedState=a,it=!0),g=g.queue;var w=Wm.bind(null,d,g,s);if($o(2048,8,w,[s]),g.getSnapshot!==o||_||We!==null&&We.memoizedState.tag&1){if(d.flags|=2048,_s(9,Ea(),Xm.bind(null,d,g,a,o),null),Oe===null)throw Error(i(349));v||(Yn&124)!==0||jm(d,o,a)}return a}function jm(s,o,a){s.flags|=16384,s={getSnapshot:o,value:a},o=ye.updateQueue,o===null?(o=Zu(),ye.updateQueue=o,o.stores=[s]):(a=o.stores,a===null?o.stores=[s]:a.push(s))}function Xm(s,o,a,d){o.value=a,o.getSnapshot=d,Qm(o)&&Zm(s)}function Wm(s,o,a){return a(function(){Qm(o)&&Zm(s)})}function Qm(s){var o=s.getSnapshot;s=s.value;try{var a=o();return!Nt(s,a)}catch{return!0}}function Zm(s){var o=ds(s,2);o!==null&&Vt(o,s,2)}function ic(s){var o=Et();if(typeof s=="function"){var a=s;if(s=a(),Pi){qn(!0);try{a()}finally{qn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:s},o}function ep(s,o,a,d){return s.baseState=a,tc(s,Ie,typeof d=="function"?d:En)}function aE(s,o,a,d,g){if(ba(s))throw Error(i(485));if(s=o.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};F.T!==null?a(!0):v.isTransition=!1,d(v),a=o.pending,a===null?(v.next=o.pending=v,tp(o,v)):(v.next=a.next,o.pending=a.next=v)}}function tp(s,o){var a=o.action,d=o.payload,g=s.state;if(o.isTransition){var v=F.T,_={};F.T=_;try{var w=a(g,d),M=F.S;M!==null&&M(_,w),np(s,o,w)}catch(B){sc(s,o,B)}finally{F.T=v}}else try{v=a(g,d),np(s,o,v)}catch(B){sc(s,o,B)}}function np(s,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(d){ip(s,o,d)},function(d){return sc(s,o,d)}):ip(s,o,a)}function ip(s,o,a){o.status="fulfilled",o.value=a,sp(o),s.state=a,o=s.pending,o!==null&&(a=o.next,a===o?s.pending=null:(a=a.next,o.next=a,tp(s,a)))}function sc(s,o,a){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=a,sp(o),o=o.next;while(o!==d)}s.action=null}function sp(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function op(s,o){return o}function rp(s,o){if(Ae){var a=Oe.formState;if(a!==null){e:{var d=ye;if(Ae){if($e){t:{for(var g=$e,v=on;g.nodeType!==8;){if(!v){g=null;break t}if(g=Zt(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){$e=Zt(g.nextSibling),d=g.data==="F!";break e}}Mi(d)}d=!1}d&&(o=a[0])}}return a=Et(),a.memoizedState=a.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:o},a.queue=d,a=wp.bind(null,ye,d),d.dispatch=a,d=ic(!1),v=uc.bind(null,ye,!1,d.queue),d=Et(),g={state:o,dispatch:null,action:s,pending:null},d.queue=g,a=aE.bind(null,ye,g,v,a),g.dispatch=a,d.memoizedState=s,[o,a,!1]}function ap(s){var o=Qe();return lp(o,Ie,s)}function lp(s,o,a){if(o=tc(s,o,op)[0],s=xa(En)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Fo(o)}catch(_){throw _===Oo?ya:_}else d=o;o=Qe();var g=o.queue,v=g.dispatch;return a!==o.memoizedState&&(ye.flags|=2048,_s(9,Ea(),lE.bind(null,g,a),null)),[d,v,s]}function lE(s,o){s.action=o}function up(s){var o=Qe(),a=Ie;if(a!==null)return lp(o,a,s);Qe(),o=o.memoizedState,a=Qe();var d=a.queue.dispatch;return a.memoizedState=s,[o,d,!1]}function _s(s,o,a,d){return s={tag:s,create:a,deps:d,inst:o,next:null},o=ye.updateQueue,o===null&&(o=Zu(),ye.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=s.next=s:(d=a.next,a.next=s,s.next=d,o.lastEffect=s),s}function Ea(){return{destroy:void 0,resource:void 0}}function cp(){return Qe().memoizedState}function wa(s,o,a,d){var g=Et();d=d===void 0?null:d,ye.flags|=s,g.memoizedState=_s(1|o,Ea(),a,d)}function $o(s,o,a,d){var g=Qe();d=d===void 0?null:d;var v=g.memoizedState.inst;Ie!==null&&d!==null&&Ku(d,Ie.memoizedState.deps)?g.memoizedState=_s(o,v,a,d):(ye.flags|=s,g.memoizedState=_s(1|o,v,a,d))}function fp(s,o){wa(8390656,8,s,o)}function dp(s,o){$o(2048,8,s,o)}function hp(s,o){return $o(4,2,s,o)}function mp(s,o){return $o(4,4,s,o)}function pp(s,o){if(typeof o=="function"){s=s();var a=o(s);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function gp(s,o,a){a=a!=null?a.concat([s]):null,$o(4,4,pp.bind(null,o,s),a)}function oc(){}function yp(s,o){var a=Qe();o=o===void 0?null:o;var d=a.memoizedState;return o!==null&&Ku(o,d[1])?d[0]:(a.memoizedState=[s,o],s)}function vp(s,o){var a=Qe();o=o===void 0?null:o;var d=a.memoizedState;if(o!==null&&Ku(o,d[1]))return d[0];if(d=s(),Pi){qn(!0);try{s()}finally{qn(!1)}}return a.memoizedState=[d,o],d}function rc(s,o,a){return a===void 0||(Yn&1073741824)!==0?s.memoizedState=o:(s.memoizedState=a,s=_g(),ye.lanes|=s,ei|=s,a)}function Tp(s,o,a,d){return Nt(a,o)?a:vs.current!==null?(s=rc(s,a,d),Nt(s,o)||(it=!0),s):(Yn&42)===0?(it=!0,s.memoizedState=a):(s=_g(),ye.lanes|=s,ei|=s,o)}function Sp(s,o,a,d,g){var v=X.p;X.p=v!==0&&8>v?v:8;var _=F.T,w={};F.T=w,uc(s,!1,o,a);try{var M=g(),B=F.S;if(B!==null&&B(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var $=sE(M,d);Jo(s,o,$,Lt(s))}else Jo(s,o,d,Lt(s))}catch(K){Jo(s,o,{then:function(){},status:"rejected",reason:K},Lt())}finally{X.p=v,F.T=_}}function uE(){}function ac(s,o,a,d){if(s.tag!==5)throw Error(i(476));var g=_p(s).queue;Sp(s,g,o,ie,a===null?uE:function(){return Cp(s),a(d)})}function _p(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:ie},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:a},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Cp(s){var o=_p(s).next.queue;Jo(s,o,{},Lt())}function lc(){return ht(cr)}function xp(){return Qe().memoizedState}function Ep(){return Qe().memoizedState}function cE(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var a=Lt();s=$n(a);var d=Jn(o,s,a);d!==null&&(Vt(d,o,a),qo(d,o,a)),o={cache:Ou()},s.payload=o;return}o=o.return}}function fE(s,o,a){var d=Lt();a={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ba(s)?bp(o,a):(a=Mu(s,o,a,d),a!==null&&(Vt(a,s,d),Ap(a,o,d)))}function wp(s,o,a){var d=Lt();Jo(s,o,a,d)}function Jo(s,o,a,d){var g={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ba(s))bp(o,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var _=o.lastRenderedState,w=v(_,a);if(g.hasEagerState=!0,g.eagerState=w,Nt(w,_))return ua(s,o,g,0),Oe===null&&la(),!1}catch{}finally{}if(a=Mu(s,o,g,d),a!==null)return Vt(a,s,d),Ap(a,o,d),!0}return!1}function uc(s,o,a,d){if(d={lane:2,revertLane:Hc(),action:d,hasEagerState:!1,eagerState:null,next:null},ba(s)){if(o)throw Error(i(479))}else o=Mu(s,a,d,2),o!==null&&Vt(o,s,2)}function ba(s){var o=s.alternate;return s===ye||o!==null&&o===ye}function bp(s,o){Ts=Sa=!0;var a=s.pending;a===null?o.next=o:(o.next=a.next,a.next=o),s.pending=o}function Ap(s,o,a){if((a&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,a|=d,o.lanes=a,Uh(s,a)}}var Aa={readContext:ht,use:Ca,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},Mp={readContext:ht,use:Ca,useCallback:function(s,o){return Et().memoizedState=[s,o===void 0?null:o],s},useContext:ht,useEffect:fp,useImperativeHandle:function(s,o,a){a=a!=null?a.concat([s]):null,wa(4194308,4,pp.bind(null,o,s),a)},useLayoutEffect:function(s,o){return wa(4194308,4,s,o)},useInsertionEffect:function(s,o){wa(4,2,s,o)},useMemo:function(s,o){var a=Et();o=o===void 0?null:o;var d=s();if(Pi){qn(!0);try{s()}finally{qn(!1)}}return a.memoizedState=[d,o],d},useReducer:function(s,o,a){var d=Et();if(a!==void 0){var g=a(o);if(Pi){qn(!0);try{a(o)}finally{qn(!1)}}}else g=o;return d.memoizedState=d.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},d.queue=s,s=s.dispatch=fE.bind(null,ye,s),[d.memoizedState,s]},useRef:function(s){var o=Et();return s={current:s},o.memoizedState=s},useState:function(s){s=ic(s);var o=s.queue,a=wp.bind(null,ye,o);return o.dispatch=a,[s.memoizedState,a]},useDebugValue:oc,useDeferredValue:function(s,o){var a=Et();return rc(a,s,o)},useTransition:function(){var s=ic(!1);return s=Sp.bind(null,ye,s.queue,!0,!1),Et().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,a){var d=ye,g=Et();if(Ae){if(a===void 0)throw Error(i(407));a=a()}else{if(a=o(),Oe===null)throw Error(i(349));(we&124)!==0||jm(d,o,a)}g.memoizedState=a;var v={value:a,getSnapshot:o};return g.queue=v,fp(Wm.bind(null,d,v,s),[s]),d.flags|=2048,_s(9,Ea(),Xm.bind(null,d,v,a,o),null),a},useId:function(){var s=Et(),o=Oe.identifierPrefix;if(Ae){var a=_n,d=Sn;a=(d&~(1<<32-Dt(d)-1)).toString(32)+a,o="«"+o+"R"+a,a=_a++,0<a&&(o+="H"+a.toString(32)),o+="»"}else a=oE++,o="«"+o+"r"+a.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:lc,useFormState:rp,useActionState:rp,useOptimistic:function(s){var o=Et();o.memoizedState=o.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=uc.bind(null,ye,!0,a),a.dispatch=o,[s,o]},useMemoCache:ec,useCacheRefresh:function(){return Et().memoizedState=cE.bind(null,ye)}},Rp={readContext:ht,use:Ca,useCallback:yp,useContext:ht,useEffect:dp,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:mp,useMemo:vp,useReducer:xa,useRef:cp,useState:function(){return xa(En)},useDebugValue:oc,useDeferredValue:function(s,o){var a=Qe();return Tp(a,Ie.memoizedState,s,o)},useTransition:function(){var s=xa(En)[0],o=Qe().memoizedState;return[typeof s=="boolean"?s:Fo(s),o]},useSyncExternalStore:Km,useId:xp,useHostTransitionStatus:lc,useFormState:ap,useActionState:ap,useOptimistic:function(s,o){var a=Qe();return ep(a,Ie,s,o)},useMemoCache:ec,useCacheRefresh:Ep},dE={readContext:ht,use:Ca,useCallback:yp,useContext:ht,useEffect:dp,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:mp,useMemo:vp,useReducer:nc,useRef:cp,useState:function(){return nc(En)},useDebugValue:oc,useDeferredValue:function(s,o){var a=Qe();return Ie===null?rc(a,s,o):Tp(a,Ie.memoizedState,s,o)},useTransition:function(){var s=nc(En)[0],o=Qe().memoizedState;return[typeof s=="boolean"?s:Fo(s),o]},useSyncExternalStore:Km,useId:xp,useHostTransitionStatus:lc,useFormState:up,useActionState:up,useOptimistic:function(s,o){var a=Qe();return Ie!==null?ep(a,Ie,s,o):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:ec,useCacheRefresh:Ep},Cs=null,Yo=0;function Ma(s){var o=Yo;return Yo+=1,Cs===null&&(Cs=[]),qm(Cs,s,o)}function Ko(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Ra(s,o){throw o.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Dp(s){var o=s._init;return o(s._payload)}function Np(s){function o(U,I){if(s){var O=U.deletions;O===null?(U.deletions=[I],U.flags|=16):O.push(I)}}function a(U,I){if(!s)return null;for(;I!==null;)o(U,I),I=I.sibling;return null}function d(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function g(U,I){return U=Tn(U,I),U.index=0,U.sibling=null,U}function v(U,I,O){return U.index=O,s?(O=U.alternate,O!==null?(O=O.index,O<I?(U.flags|=67108866,I):O):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function _(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function w(U,I,O,Y){return I===null||I.tag!==6?(I=Du(O,U.mode,Y),I.return=U,I):(I=g(I,O),I.return=U,I)}function M(U,I,O,Y){var se=O.type;return se===b?$(U,I,O.props.children,Y,O.key):I!==null&&(I.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===j&&Dp(se)===I.type)?(I=g(I,O.props),Ko(I,O),I.return=U,I):(I=fa(O.type,O.key,O.props,null,U.mode,Y),Ko(I,O),I.return=U,I)}function B(U,I,O,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==O.containerInfo||I.stateNode.implementation!==O.implementation?(I=Nu(O,U.mode,Y),I.return=U,I):(I=g(I,O.children||[]),I.return=U,I)}function $(U,I,O,Y,se){return I===null||I.tag!==7?(I=Ei(O,U.mode,Y,se),I.return=U,I):(I=g(I,O),I.return=U,I)}function K(U,I,O){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Du(""+I,U.mode,O),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case S:return O=fa(I.type,I.key,I.props,null,U.mode,O),Ko(O,I),O.return=U,O;case C:return I=Nu(I,U.mode,O),I.return=U,I;case j:var Y=I._init;return I=Y(I._payload),K(U,I,O)}if(ve(I)||ne(I))return I=Ei(I,U.mode,O,null),I.return=U,I;if(typeof I.then=="function")return K(U,Ma(I),O);if(I.$$typeof===D)return K(U,pa(U,I),O);Ra(U,I)}return null}function H(U,I,O,Y){var se=I!==null?I.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return se!==null?null:w(U,I,""+O,Y);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return O.key===se?M(U,I,O,Y):null;case C:return O.key===se?B(U,I,O,Y):null;case j:return se=O._init,O=se(O._payload),H(U,I,O,Y)}if(ve(O)||ne(O))return se!==null?null:$(U,I,O,Y,null);if(typeof O.then=="function")return H(U,I,Ma(O),Y);if(O.$$typeof===D)return H(U,I,pa(U,O),Y);Ra(U,O)}return null}function G(U,I,O,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(O)||null,w(I,U,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return U=U.get(Y.key===null?O:Y.key)||null,M(I,U,Y,se);case C:return U=U.get(Y.key===null?O:Y.key)||null,B(I,U,Y,se);case j:var Te=Y._init;return Y=Te(Y._payload),G(U,I,O,Y,se)}if(ve(Y)||ne(Y))return U=U.get(O)||null,$(I,U,Y,se,null);if(typeof Y.then=="function")return G(U,I,O,Ma(Y),se);if(Y.$$typeof===D)return G(U,I,O,pa(I,Y),se);Ra(I,Y)}return null}function he(U,I,O,Y){for(var se=null,Te=null,le=I,fe=I=0,ot=null;le!==null&&fe<O.length;fe++){le.index>fe?(ot=le,le=null):ot=le.sibling;var be=H(U,le,O[fe],Y);if(be===null){le===null&&(le=ot);break}s&&le&&be.alternate===null&&o(U,le),I=v(be,I,fe),Te===null?se=be:Te.sibling=be,Te=be,le=ot}if(fe===O.length)return a(U,le),Ae&&bi(U,fe),se;if(le===null){for(;fe<O.length;fe++)le=K(U,O[fe],Y),le!==null&&(I=v(le,I,fe),Te===null?se=le:Te.sibling=le,Te=le);return Ae&&bi(U,fe),se}for(le=d(le);fe<O.length;fe++)ot=G(le,U,fe,O[fe],Y),ot!==null&&(s&&ot.alternate!==null&&le.delete(ot.key===null?fe:ot.key),I=v(ot,I,fe),Te===null?se=ot:Te.sibling=ot,Te=ot);return s&&le.forEach(function(ui){return o(U,ui)}),Ae&&bi(U,fe),se}function ce(U,I,O,Y){if(O==null)throw Error(i(151));for(var se=null,Te=null,le=I,fe=I=0,ot=null,be=O.next();le!==null&&!be.done;fe++,be=O.next()){le.index>fe?(ot=le,le=null):ot=le.sibling;var ui=H(U,le,be.value,Y);if(ui===null){le===null&&(le=ot);break}s&&le&&ui.alternate===null&&o(U,le),I=v(ui,I,fe),Te===null?se=ui:Te.sibling=ui,Te=ui,le=ot}if(be.done)return a(U,le),Ae&&bi(U,fe),se;if(le===null){for(;!be.done;fe++,be=O.next())be=K(U,be.value,Y),be!==null&&(I=v(be,I,fe),Te===null?se=be:Te.sibling=be,Te=be);return Ae&&bi(U,fe),se}for(le=d(le);!be.done;fe++,be=O.next())be=G(le,U,fe,be.value,Y),be!==null&&(s&&be.alternate!==null&&le.delete(be.key===null?fe:be.key),I=v(be,I,fe),Te===null?se=be:Te.sibling=be,Te=be);return s&&le.forEach(function(hw){return o(U,hw)}),Ae&&bi(U,fe),se}function Ue(U,I,O,Y){if(typeof O=="object"&&O!==null&&O.type===b&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case S:e:{for(var se=O.key;I!==null;){if(I.key===se){if(se=O.type,se===b){if(I.tag===7){a(U,I.sibling),Y=g(I,O.props.children),Y.return=U,U=Y;break e}}else if(I.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===j&&Dp(se)===I.type){a(U,I.sibling),Y=g(I,O.props),Ko(Y,O),Y.return=U,U=Y;break e}a(U,I);break}else o(U,I);I=I.sibling}O.type===b?(Y=Ei(O.props.children,U.mode,Y,O.key),Y.return=U,U=Y):(Y=fa(O.type,O.key,O.props,null,U.mode,Y),Ko(Y,O),Y.return=U,U=Y)}return _(U);case C:e:{for(se=O.key;I!==null;){if(I.key===se)if(I.tag===4&&I.stateNode.containerInfo===O.containerInfo&&I.stateNode.implementation===O.implementation){a(U,I.sibling),Y=g(I,O.children||[]),Y.return=U,U=Y;break e}else{a(U,I);break}else o(U,I);I=I.sibling}Y=Nu(O,U.mode,Y),Y.return=U,U=Y}return _(U);case j:return se=O._init,O=se(O._payload),Ue(U,I,O,Y)}if(ve(O))return he(U,I,O,Y);if(ne(O)){if(se=ne(O),typeof se!="function")throw Error(i(150));return O=se.call(O),ce(U,I,O,Y)}if(typeof O.then=="function")return Ue(U,I,Ma(O),Y);if(O.$$typeof===D)return Ue(U,I,pa(U,O),Y);Ra(U,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,I!==null&&I.tag===6?(a(U,I.sibling),Y=g(I,O),Y.return=U,U=Y):(a(U,I),Y=Du(O,U.mode,Y),Y.return=U,U=Y),_(U)):a(U,I)}return function(U,I,O,Y){try{Yo=0;var se=Ue(U,I,O,Y);return Cs=null,se}catch(le){if(le===Oo||le===ya)throw le;var Te=Pt(29,le,null,U.mode);return Te.lanes=Y,Te.return=U,Te}finally{}}}var xs=Np(!0),Pp=Np(!1),$t=W(null),rn=null;function Kn(s){var o=s.alternate;ee(et,et.current&1),ee($t,s),rn===null&&(o===null||vs.current!==null||o.memoizedState!==null)&&(rn=s)}function Ip(s){if(s.tag===22){if(ee(et,et.current),ee($t,s),rn===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(rn=s)}}else jn()}function jn(){ee(et,et.current),ee($t,$t.current)}function wn(s){te($t),rn===s&&(rn=null),te(et)}var et=W(0);function Da(s){for(var o=s;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zc(a)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function cc(s,o,a,d){o=s.memoizedState,a=a(d,o),a=a==null?o:y({},o,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var fc={enqueueSetState:function(s,o,a){s=s._reactInternals;var d=Lt(),g=$n(d);g.payload=o,a!=null&&(g.callback=a),o=Jn(s,g,d),o!==null&&(Vt(o,s,d),qo(o,s,d))},enqueueReplaceState:function(s,o,a){s=s._reactInternals;var d=Lt(),g=$n(d);g.tag=1,g.payload=o,a!=null&&(g.callback=a),o=Jn(s,g,d),o!==null&&(Vt(o,s,d),qo(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var a=Lt(),d=$n(a);d.tag=2,o!=null&&(d.callback=o),o=Jn(s,d,a),o!==null&&(Vt(o,s,a),qo(o,s,a))}};function kp(s,o,a,d,g,v,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,_):o.prototype&&o.prototype.isPureReactComponent?!Do(a,d)||!Do(g,v):!0}function Up(s,o,a,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,d),o.state!==s&&fc.enqueueReplaceState(o,o.state,null)}function Ii(s,o){var a=o;if("ref"in o){a={};for(var d in o)d!=="ref"&&(a[d]=o[d])}if(s=s.defaultProps){a===o&&(a=y({},a));for(var g in s)a[g]===void 0&&(a[g]=s[g])}return a}var Na=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Lp(s){Na(s)}function Vp(s){console.error(s)}function Op(s){Na(s)}function Pa(s,o){try{var a=s.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Bp(s,o,a){try{var d=s.onCaughtError;d(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function dc(s,o,a){return a=$n(a),a.tag=3,a.payload={element:null},a.callback=function(){Pa(s,o)},a}function qp(s){return s=$n(s),s.tag=3,s}function Hp(s,o,a,d){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;s.payload=function(){return g(v)},s.callback=function(){Bp(o,a,d)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Bp(o,a,d),typeof g!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var w=d.stack;this.componentDidCatch(d.value,{componentStack:w!==null?w:""})})}function hE(s,o,a,d,g){if(a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=a.alternate,o!==null&&Uo(o,a,g,!0),a=$t.current,a!==null){switch(a.tag){case 13:return rn===null?Lc():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=g,d===Hu?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([d]):o.add(d),Oc(s,d,g)),!1;case 22:return a.flags|=65536,d===Hu?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([d]):a.add(d)),Oc(s,d,g)),!1}throw Error(i(435,a.tag))}return Oc(s,d,g),Lc(),!1}if(Ae)return o=$t.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,d!==ku&&(s=Error(i(422),{cause:d}),ko(Ht(s,a)))):(d!==ku&&(o=Error(i(423),{cause:d}),ko(Ht(o,a))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,d=Ht(d,a),g=dc(s.stateNode,d,g),Fu(s,g),Je!==4&&(Je=2)),!1;var v=Error(i(520),{cause:d});if(v=Ht(v,a),tr===null?tr=[v]:tr.push(v),Je!==4&&(Je=2),o===null)return!0;d=Ht(d,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,s=g&-g,a.lanes|=s,s=dc(a.stateNode,d,s),Fu(a,s),!1;case 1:if(o=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ti===null||!ti.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=qp(g),Hp(g,s,a,d),Fu(a,g),!1}a=a.return}while(a!==null);return!1}var Gp=Error(i(461)),it=!1;function ut(s,o,a,d){o.child=s===null?Pp(o,null,a,d):xs(o,s.child,a,d)}function zp(s,o,a,d,g){a=a.render;var v=o.ref;if("ref"in d){var _={};for(var w in d)w!=="ref"&&(_[w]=d[w])}else _=d;return Di(o),d=ju(s,o,a,_,v,g),w=Xu(),s!==null&&!it?(Wu(s,o,g),bn(s,o,g)):(Ae&&w&&Pu(o),o.flags|=1,ut(s,o,d,g),o.child)}function Fp(s,o,a,d,g){if(s===null){var v=a.type;return typeof v=="function"&&!Ru(v)&&v.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=v,$p(s,o,v,d,g)):(s=fa(a.type,null,d,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!Sc(s,g)){var _=v.memoizedProps;if(a=a.compare,a=a!==null?a:Do,a(_,d)&&s.ref===o.ref)return bn(s,o,g)}return o.flags|=1,s=Tn(v,d),s.ref=o.ref,s.return=o,o.child=s}function $p(s,o,a,d,g){if(s!==null){var v=s.memoizedProps;if(Do(v,d)&&s.ref===o.ref)if(it=!1,o.pendingProps=d=v,Sc(s,g))(s.flags&131072)!==0&&(it=!0);else return o.lanes=s.lanes,bn(s,o,g)}return hc(s,o,a,d,g)}function Jp(s,o,a){var d=o.pendingProps,g=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|a:a,s!==null){for(g=o.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return Yp(s,o,d,a)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&ga(o,v!==null?v.cachePool:null),v!==null?$m(o,v):Ju(),Ip(o);else return o.lanes=o.childLanes=536870912,Yp(s,o,v!==null?v.baseLanes|a:a,a)}else v!==null?(ga(o,v.cachePool),$m(o,v),jn(),o.memoizedState=null):(s!==null&&ga(o,null),Ju(),jn());return ut(s,o,g,a),o.child}function Yp(s,o,a,d){var g=qu();return g=g===null?null:{parent:Ze._currentValue,pool:g},o.memoizedState={baseLanes:a,cachePool:g},s!==null&&ga(o,null),Ju(),Ip(o),s!==null&&Uo(s,o,d,!0),null}function Ia(s,o){var a=o.ref;if(a===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(s===null||s.ref!==a)&&(o.flags|=4194816)}}function hc(s,o,a,d,g){return Di(o),a=ju(s,o,a,d,void 0,g),d=Xu(),s!==null&&!it?(Wu(s,o,g),bn(s,o,g)):(Ae&&d&&Pu(o),o.flags|=1,ut(s,o,a,g),o.child)}function Kp(s,o,a,d,g,v){return Di(o),o.updateQueue=null,a=Ym(o,d,a,g),Jm(s),d=Xu(),s!==null&&!it?(Wu(s,o,v),bn(s,o,v)):(Ae&&d&&Pu(o),o.flags|=1,ut(s,o,a,v),o.child)}function jp(s,o,a,d,g){if(Di(o),o.stateNode===null){var v=hs,_=a.contextType;typeof _=="object"&&_!==null&&(v=ht(_)),v=new a(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=fc,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},Gu(o),_=a.contextType,v.context=typeof _=="object"&&_!==null?ht(_):hs,v.state=o.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cc(o,a,_,d),v.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&fc.enqueueReplaceState(v,v.state,null),Go(o,d,v,g),Ho(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){v=o.stateNode;var w=o.memoizedProps,M=Ii(a,w);v.props=M;var B=v.context,$=a.contextType;_=hs,typeof $=="object"&&$!==null&&(_=ht($));var K=a.getDerivedStateFromProps;$=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function",w=o.pendingProps!==w,$||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w||B!==_)&&Up(o,v,d,_),Fn=!1;var H=o.memoizedState;v.state=H,Go(o,d,v,g),Ho(),B=o.memoizedState,w||H!==B||Fn?(typeof K=="function"&&(cc(o,a,K,d),B=o.memoizedState),(M=Fn||kp(o,a,M,d,H,B,_))?($||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=B),v.props=d,v.state=B,v.context=_,d=M):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,zu(s,o),_=o.memoizedProps,$=Ii(a,_),v.props=$,K=o.pendingProps,H=v.context,B=a.contextType,M=hs,typeof B=="object"&&B!==null&&(M=ht(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==K||H!==M)&&Up(o,v,d,M),Fn=!1,H=o.memoizedState,v.state=H,Go(o,d,v,g),Ho();var G=o.memoizedState;_!==K||H!==G||Fn||s!==null&&s.dependencies!==null&&ma(s.dependencies)?(typeof w=="function"&&(cc(o,a,w,d),G=o.memoizedState),($=Fn||kp(o,a,$,d,H,G,M)||s!==null&&s.dependencies!==null&&ma(s.dependencies))?(B||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,G,M),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,G,M)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===s.memoizedProps&&H===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&H===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=G),v.props=d,v.state=G,v.context=M,d=$):(typeof v.componentDidUpdate!="function"||_===s.memoizedProps&&H===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&H===s.memoizedState||(o.flags|=1024),d=!1)}return v=d,Ia(s,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,a=d&&typeof a.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,s!==null&&d?(o.child=xs(o,s.child,null,g),o.child=xs(o,null,a,g)):ut(s,o,a,g),o.memoizedState=v.state,s=o.child):s=bn(s,o,g),s}function Xp(s,o,a,d){return Io(),o.flags|=256,ut(s,o,a,d),o.child}var mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pc(s){return{baseLanes:s,cachePool:Vm()}}function gc(s,o,a){return s=s!==null?s.childLanes&~a:0,o&&(s|=Jt),s}function Wp(s,o,a){var d=o.pendingProps,g=!1,v=(o.flags&128)!==0,_;if((_=v)||(_=s!==null&&s.memoizedState===null?!1:(et.current&2)!==0),_&&(g=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ae){if(g?Kn(o):jn(),Ae){var w=$e,M;if(M=w){e:{for(M=w,w=on;M.nodeType!==8;){if(!w){w=null;break e}if(M=Zt(M.nextSibling),M===null){w=null;break e}}w=M}w!==null?(o.memoizedState={dehydrated:w,treeContext:wi!==null?{id:Sn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},M=Pt(18,null,null,0),M.stateNode=w,M.return=o,o.child=M,Tt=o,$e=null,M=!0):M=!1}M||Mi(o)}if(w=o.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Zc(w)?o.lanes=32:o.lanes=536870912,null;wn(o)}return w=d.children,d=d.fallback,g?(jn(),g=o.mode,w=ka({mode:"hidden",children:w},g),d=Ei(d,g,a,null),w.return=o,d.return=o,w.sibling=d,o.child=w,g=o.child,g.memoizedState=pc(a),g.childLanes=gc(s,_,a),o.memoizedState=mc,d):(Kn(o),yc(o,w))}if(M=s.memoizedState,M!==null&&(w=M.dehydrated,w!==null)){if(v)o.flags&256?(Kn(o),o.flags&=-257,o=vc(s,o,a)):o.memoizedState!==null?(jn(),o.child=s.child,o.flags|=128,o=null):(jn(),g=d.fallback,w=o.mode,d=ka({mode:"visible",children:d.children},w),g=Ei(g,w,a,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,xs(o,s.child,null,a),d=o.child,d.memoizedState=pc(a),d.childLanes=gc(s,_,a),o.memoizedState=mc,o=g);else if(Kn(o),Zc(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var B=_.dgst;_=B,d=Error(i(419)),d.stack="",d.digest=_,ko({value:d,source:null,stack:null}),o=vc(s,o,a)}else if(it||Uo(s,o,a,!1),_=(a&s.childLanes)!==0,it||_){if(_=Oe,_!==null&&(d=a&-a,d=(d&42)!==0?1:eu(d),d=(d&(_.suspendedLanes|a))!==0?0:d,d!==0&&d!==M.retryLane))throw M.retryLane=d,ds(s,d),Vt(_,s,d),Gp;w.data==="$?"||Lc(),o=vc(s,o,a)}else w.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=M.treeContext,$e=Zt(w.nextSibling),Tt=o,Ae=!0,Ai=null,on=!1,s!==null&&(zt[Ft++]=Sn,zt[Ft++]=_n,zt[Ft++]=wi,Sn=s.id,_n=s.overflow,wi=o),o=yc(o,d.children),o.flags|=4096);return o}return g?(jn(),g=d.fallback,w=o.mode,M=s.child,B=M.sibling,d=Tn(M,{mode:"hidden",children:d.children}),d.subtreeFlags=M.subtreeFlags&65011712,B!==null?g=Tn(B,g):(g=Ei(g,w,a,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,w=s.child.memoizedState,w===null?w=pc(a):(M=w.cachePool,M!==null?(B=Ze._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=Vm(),w={baseLanes:w.baseLanes|a,cachePool:M}),g.memoizedState=w,g.childLanes=gc(s,_,a),o.memoizedState=mc,d):(Kn(o),a=s.child,s=a.sibling,a=Tn(a,{mode:"visible",children:d.children}),a.return=o,a.sibling=null,s!==null&&(_=o.deletions,_===null?(o.deletions=[s],o.flags|=16):_.push(s)),o.child=a,o.memoizedState=null,a)}function yc(s,o){return o=ka({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function ka(s,o){return s=Pt(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function vc(s,o,a){return xs(o,s.child,null,a),s=yc(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Qp(s,o,a){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Lu(s.return,o,a)}function Tc(s,o,a,d,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=a,v.tailMode=g)}function Zp(s,o,a){var d=o.pendingProps,g=d.revealOrder,v=d.tail;if(ut(s,o,d.children,a),d=et.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Qp(s,a,o);else if(s.tag===19)Qp(s,a,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(ee(et,d),g){case"forwards":for(a=o.child,g=null;a!==null;)s=a.alternate,s!==null&&Da(s)===null&&(g=a),a=a.sibling;a=g,a===null?(g=o.child,o.child=null):(g=a.sibling,a.sibling=null),Tc(o,!1,g,a,v);break;case"backwards":for(a=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Da(s)===null){o.child=g;break}s=g.sibling,g.sibling=a,a=g,g=s}Tc(o,!0,a,null,v);break;case"together":Tc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bn(s,o,a){if(s!==null&&(o.dependencies=s.dependencies),ei|=o.lanes,(a&o.childLanes)===0)if(s!==null){if(Uo(s,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,a=Tn(s,s.pendingProps),o.child=a,a.return=o;s.sibling!==null;)s=s.sibling,a=a.sibling=Tn(s,s.pendingProps),a.return=o;a.sibling=null}return o.child}function Sc(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&ma(s)))}function mE(s,o,a){switch(o.tag){case 3:He(o,o.stateNode.containerInfo),zn(o,Ze,s.memoizedState.cache),Io();break;case 27:case 5:jl(o);break;case 4:He(o,o.stateNode.containerInfo);break;case 10:zn(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Kn(o),o.flags|=128,null):(a&o.child.childLanes)!==0?Wp(s,o,a):(Kn(o),s=bn(s,o,a),s!==null?s.sibling:null);Kn(o);break;case 19:var g=(s.flags&128)!==0;if(d=(a&o.childLanes)!==0,d||(Uo(s,o,a,!1),d=(a&o.childLanes)!==0),g){if(d)return Zp(s,o,a);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ee(et,et.current),d)break;return null;case 22:case 23:return o.lanes=0,Jp(s,o,a);case 24:zn(o,Ze,s.memoizedState.cache)}return bn(s,o,a)}function eg(s,o,a){if(s!==null)if(s.memoizedProps!==o.pendingProps)it=!0;else{if(!Sc(s,a)&&(o.flags&128)===0)return it=!1,mE(s,o,a);it=(s.flags&131072)!==0}else it=!1,Ae&&(o.flags&1048576)!==0&&Dm(o,ha,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var d=o.elementType,g=d._init;if(d=g(d._payload),o.type=d,typeof d=="function")Ru(d)?(s=Ii(d,s),o.tag=1,o=jp(null,o,d,s,a)):(o.tag=0,o=hc(null,o,d,s,a));else{if(d!=null){if(g=d.$$typeof,g===L){o.tag=11,o=zp(null,o,d,s,a);break e}else if(g===z){o.tag=14,o=Fp(null,o,d,s,a);break e}}throw o=ue(d)||d,Error(i(306,o,""))}}return o;case 0:return hc(s,o,o.type,o.pendingProps,a);case 1:return d=o.type,g=Ii(d,o.pendingProps),jp(s,o,d,g,a);case 3:e:{if(He(o,o.stateNode.containerInfo),s===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;g=v.element,zu(s,o),Go(o,d,null,a);var _=o.memoizedState;if(d=_.cache,zn(o,Ze,d),d!==v.cache&&Vu(o,[Ze],a,!0),Ho(),d=_.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Xp(s,o,d,a);break e}else if(d!==g){g=Ht(Error(i(424)),o),ko(g),o=Xp(s,o,d,a);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for($e=Zt(s.firstChild),Tt=o,Ae=!0,Ai=null,on=!0,a=Pp(o,null,d,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Io(),d===g){o=bn(s,o,a);break e}ut(s,o,d,a)}o=o.child}return o;case 26:return Ia(s,o),s===null?(a=sy(o.type,null,o.pendingProps,null))?o.memoizedState=a:Ae||(a=o.type,s=o.pendingProps,d=Ka(me.current).createElement(a),d[dt]=o,d[Ct]=s,ft(d,a,s),nt(d),o.stateNode=d):o.memoizedState=sy(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return jl(o),s===null&&Ae&&(d=o.stateNode=ty(o.type,o.pendingProps,me.current),Tt=o,on=!0,g=$e,si(o.type)?(ef=g,$e=Zt(d.firstChild)):$e=g),ut(s,o,o.pendingProps.children,a),Ia(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Ae&&((g=d=$e)&&(d=GE(d,o.type,o.pendingProps,on),d!==null?(o.stateNode=d,Tt=o,$e=Zt(d.firstChild),on=!1,g=!0):g=!1),g||Mi(o)),jl(o),g=o.type,v=o.pendingProps,_=s!==null?s.memoizedProps:null,d=v.children,Xc(g,v)?d=null:_!==null&&Xc(g,_)&&(o.flags|=32),o.memoizedState!==null&&(g=ju(s,o,rE,null,null,a),cr._currentValue=g),Ia(s,o),ut(s,o,d,a),o.child;case 6:return s===null&&Ae&&((s=a=$e)&&(a=zE(a,o.pendingProps,on),a!==null?(o.stateNode=a,Tt=o,$e=null,s=!0):s=!1),s||Mi(o)),null;case 13:return Wp(s,o,a);case 4:return He(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=xs(o,null,d,a):ut(s,o,d,a),o.child;case 11:return zp(s,o,o.type,o.pendingProps,a);case 7:return ut(s,o,o.pendingProps,a),o.child;case 8:return ut(s,o,o.pendingProps.children,a),o.child;case 12:return ut(s,o,o.pendingProps.children,a),o.child;case 10:return d=o.pendingProps,zn(o,o.type,d.value),ut(s,o,d.children,a),o.child;case 9:return g=o.type._context,d=o.pendingProps.children,Di(o),g=ht(g),d=d(g),o.flags|=1,ut(s,o,d,a),o.child;case 14:return Fp(s,o,o.type,o.pendingProps,a);case 15:return $p(s,o,o.type,o.pendingProps,a);case 19:return Zp(s,o,a);case 31:return d=o.pendingProps,a=o.mode,d={mode:d.mode,children:d.children},s===null?(a=ka(d,a),a.ref=o.ref,o.child=a,a.return=o,o=a):(a=Tn(s.child,d),a.ref=o.ref,o.child=a,a.return=o,o=a),o;case 22:return Jp(s,o,a);case 24:return Di(o),d=ht(Ze),s===null?(g=qu(),g===null&&(g=Oe,v=Ou(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),o.memoizedState={parent:d,cache:g},Gu(o),zn(o,Ze,g)):((s.lanes&a)!==0&&(zu(s,o),Go(o,null,null,a),Ho()),g=s.memoizedState,v=o.memoizedState,g.parent!==d?(g={parent:d,cache:d},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),zn(o,Ze,d)):(d=v.cache,zn(o,Ze,d),d!==g.cache&&Vu(o,[Ze],a,!0))),ut(s,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function An(s){s.flags|=4}function tg(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!uy(o)){if(o=$t.current,o!==null&&((we&4194048)===we?rn!==null:(we&62914560)!==we&&(we&536870912)===0||o!==rn))throw Bo=Hu,Om;s.flags|=8192}}function Ua(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ih():536870912,s.lanes|=o,As|=o)}function jo(s,o){if(!Ae)switch(s.tailMode){case"hidden":o=s.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function ze(s){var o=s.alternate!==null&&s.alternate.child===s.child,a=0,d=0;if(o)for(var g=s.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=a,o}function pE(s,o,a){var d=o.pendingProps;switch(Iu(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(o),null;case 1:return ze(o),null;case 3:return a=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),xn(Ze),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Po(o)?An(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Im())),ze(o),null;case 26:return a=o.memoizedState,s===null?(An(o),a!==null?(ze(o),tg(o,a)):(ze(o),o.flags&=-16777217)):a?a!==s.memoizedState?(An(o),ze(o),tg(o,a)):(ze(o),o.flags&=-16777217):(s.memoizedProps!==d&&An(o),ze(o),o.flags&=-16777217),null;case 27:Jr(o),a=me.current;var g=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&An(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return ze(o),null}s=ae.current,Po(o)?Nm(o):(s=ty(g,d,a),o.stateNode=s,An(o))}return ze(o),null;case 5:if(Jr(o),a=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&An(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return ze(o),null}if(s=ae.current,Po(o))Nm(o);else{switch(g=Ka(me.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?g.createElement(a,{is:d.is}):g.createElement(a)}}s[dt]=o,s[Ct]=d;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=s;e:switch(ft(s,a,d),a){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&An(o)}}return ze(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&An(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=me.current,Po(o)){if(s=o.stateNode,a=o.memoizedProps,d=null,g=Tt,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}s[dt]=o,s=!!(s.nodeValue===a||d!==null&&d.suppressHydrationWarning===!0||Kg(s.nodeValue,a)),s||Mi(o)}else s=Ka(s).createTextNode(d),s[dt]=o,o.stateNode=s}return ze(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Po(o),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[dt]=o}else Io(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ze(o),g=!1}else g=Im(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(wn(o),o):(wn(o),null)}if(wn(o),(o.flags&128)!==0)return o.lanes=a,o;if(a=d!==null,s=s!==null&&s.memoizedState!==null,a){d=o.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return a!==s&&a&&(o.child.flags|=8192),Ua(o,o.updateQueue),ze(o),null;case 4:return Bn(),s===null&&$c(o.stateNode.containerInfo),ze(o),null;case 10:return xn(o.type),ze(o),null;case 19:if(te(et),g=o.memoizedState,g===null)return ze(o),null;if(d=(o.flags&128)!==0,v=g.rendering,v===null)if(d)jo(g,!1);else{if(Je!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(v=Da(s),v!==null){for(o.flags|=128,jo(g,!1),s=v.updateQueue,o.updateQueue=s,Ua(o,s),o.subtreeFlags=0,s=a,a=o.child;a!==null;)Rm(a,s),a=a.sibling;return ee(et,et.current&1|2),o.child}s=s.sibling}g.tail!==null&&sn()>Oa&&(o.flags|=128,d=!0,jo(g,!1),o.lanes=4194304)}else{if(!d)if(s=Da(v),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,Ua(o,s),jo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Ae)return ze(o),null}else 2*sn()-g.renderingStartTime>Oa&&a!==536870912&&(o.flags|=128,d=!0,jo(g,!1),o.lanes=4194304);g.isBackwards?(v.sibling=o.child,o.child=v):(s=g.last,s!==null?s.sibling=v:o.child=v,g.last=v)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=sn(),o.sibling=null,s=et.current,ee(et,d?s&1|2:s&1),o):(ze(o),null);case 22:case 23:return wn(o),Yu(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(a&536870912)!==0&&(o.flags&128)===0&&(ze(o),o.subtreeFlags&6&&(o.flags|=8192)):ze(o),a=o.updateQueue,a!==null&&Ua(o,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==a&&(o.flags|=2048),s!==null&&te(Ni),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),xn(Ze),ze(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function gE(s,o){switch(Iu(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return xn(Ze),Bn(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Jr(o),null;case 13:if(wn(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Io()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return te(et),null;case 4:return Bn(),null;case 10:return xn(o.type),null;case 22:case 23:return wn(o),Yu(),s!==null&&te(Ni),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return xn(Ze),null;case 25:return null;default:return null}}function ng(s,o){switch(Iu(o),o.tag){case 3:xn(Ze),Bn();break;case 26:case 27:case 5:Jr(o);break;case 4:Bn();break;case 13:wn(o);break;case 19:te(et);break;case 10:xn(o.type);break;case 22:case 23:wn(o),Yu(),s!==null&&te(Ni);break;case 24:xn(Ze)}}function Xo(s,o){try{var a=o.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var g=d.next;a=g;do{if((a.tag&s)===s){d=void 0;var v=a.create,_=a.inst;d=v(),_.destroy=d}a=a.next}while(a!==g)}}catch(w){Le(o,o.return,w)}}function Xn(s,o,a){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&s)===s){var _=d.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,g=o;var M=a,B=w;try{B()}catch($){Le(g,M,$)}}}d=d.next}while(d!==v)}}catch($){Le(o,o.return,$)}}function ig(s){var o=s.updateQueue;if(o!==null){var a=s.stateNode;try{Fm(o,a)}catch(d){Le(s,s.return,d)}}}function sg(s,o,a){a.props=Ii(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(d){Le(s,o,d)}}function Wo(s,o){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof a=="function"?s.refCleanup=a(d):a.current=d}}catch(g){Le(s,o,g)}}function an(s,o){var a=s.ref,d=s.refCleanup;if(a!==null)if(typeof d=="function")try{d()}catch(g){Le(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Le(s,o,g)}else a.current=null}function og(s){var o=s.type,a=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&d.focus();break e;case"img":a.src?d.src=a.src:a.srcSet&&(d.srcset=a.srcSet)}}catch(g){Le(s,s.return,g)}}function _c(s,o,a){try{var d=s.stateNode;VE(d,s.type,a,o),d[Ct]=o}catch(g){Le(s,s.return,g)}}function rg(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&si(s.type)||s.tag===4}function Cc(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rg(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&si(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xc(s,o,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(s),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Ya));else if(d!==4&&(d===27&&si(s.type)&&(a=s.stateNode,o=null),s=s.child,s!==null))for(xc(s,o,a),s=s.sibling;s!==null;)xc(s,o,a),s=s.sibling}function La(s,o,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?a.insertBefore(s,o):a.appendChild(s);else if(d!==4&&(d===27&&si(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(La(s,o,a),s=s.sibling;s!==null;)La(s,o,a),s=s.sibling}function ag(s){var o=s.stateNode,a=s.memoizedProps;try{for(var d=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);ft(o,d,a),o[dt]=s,o[Ct]=a}catch(v){Le(s,s.return,v)}}var Mn=!1,je=!1,Ec=!1,lg=typeof WeakSet=="function"?WeakSet:Set,st=null;function yE(s,o){if(s=s.containerInfo,Kc=el,s=Tm(s),Cu(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var _=0,w=-1,M=-1,B=0,$=0,K=s,H=null;t:for(;;){for(var G;K!==a||g!==0&&K.nodeType!==3||(w=_+g),K!==v||d!==0&&K.nodeType!==3||(M=_+d),K.nodeType===3&&(_+=K.nodeValue.length),(G=K.firstChild)!==null;)H=K,K=G;for(;;){if(K===s)break t;if(H===a&&++B===g&&(w=_),H===v&&++$===d&&(M=_),(G=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=G}a=w===-1||M===-1?null:{start:w,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(jc={focusedElem:s,selectionRange:a},el=!1,st=o;st!==null;)if(o=st,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,st=s;else for(;st!==null;){switch(o=st,v=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,a=o,g=v.memoizedProps,v=v.memoizedState,d=a.stateNode;try{var he=Ii(a.type,g,a.elementType===a.type);s=d.getSnapshotBeforeUpdate(he,v),d.__reactInternalSnapshotBeforeUpdate=s}catch(ce){Le(a,a.return,ce)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,a=s.nodeType,a===9)Qc(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Qc(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,st=s;break}st=o.return}}function ug(s,o,a){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Wn(s,a),d&4&&Xo(5,a);break;case 1:if(Wn(s,a),d&4)if(s=a.stateNode,o===null)try{s.componentDidMount()}catch(_){Le(a,a.return,_)}else{var g=Ii(a.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(_){Le(a,a.return,_)}}d&64&&ig(a),d&512&&Wo(a,a.return);break;case 3:if(Wn(s,a),d&64&&(s=a.updateQueue,s!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{Fm(s,o)}catch(_){Le(a,a.return,_)}}break;case 27:o===null&&d&4&&ag(a);case 26:case 5:Wn(s,a),o===null&&d&4&&og(a),d&512&&Wo(a,a.return);break;case 12:Wn(s,a);break;case 13:Wn(s,a),d&4&&dg(s,a),d&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=bE.bind(null,a),FE(s,a))));break;case 22:if(d=a.memoizedState!==null||Mn,!d){o=o!==null&&o.memoizedState!==null||je,g=Mn;var v=je;Mn=d,(je=o)&&!v?Qn(s,a,(a.subtreeFlags&8772)!==0):Wn(s,a),Mn=g,je=v}break;case 30:break;default:Wn(s,a)}}function cg(s){var o=s.alternate;o!==null&&(s.alternate=null,cg(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&iu(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ge=null,wt=!1;function Rn(s,o,a){for(a=a.child;a!==null;)fg(s,o,a),a=a.sibling}function fg(s,o,a){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(vo,a)}catch{}switch(a.tag){case 26:je||an(a,o),Rn(s,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||an(a,o);var d=Ge,g=wt;si(a.type)&&(Ge=a.stateNode,wt=!1),Rn(s,o,a),rr(a.stateNode),Ge=d,wt=g;break;case 5:je||an(a,o);case 6:if(d=Ge,g=wt,Ge=null,Rn(s,o,a),Ge=d,wt=g,Ge!==null)if(wt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(v){Le(a,o,v)}else try{Ge.removeChild(a.stateNode)}catch(v){Le(a,o,v)}break;case 18:Ge!==null&&(wt?(s=Ge,Zg(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),mr(s)):Zg(Ge,a.stateNode));break;case 4:d=Ge,g=wt,Ge=a.stateNode.containerInfo,wt=!0,Rn(s,o,a),Ge=d,wt=g;break;case 0:case 11:case 14:case 15:je||Xn(2,a,o),je||Xn(4,a,o),Rn(s,o,a);break;case 1:je||(an(a,o),d=a.stateNode,typeof d.componentWillUnmount=="function"&&sg(a,o,d)),Rn(s,o,a);break;case 21:Rn(s,o,a);break;case 22:je=(d=je)||a.memoizedState!==null,Rn(s,o,a),je=d;break;default:Rn(s,o,a)}}function dg(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{mr(s)}catch(a){Le(o,o.return,a)}}function vE(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new lg),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new lg),o;default:throw Error(i(435,s.tag))}}function wc(s,o){var a=vE(s);o.forEach(function(d){var g=AE.bind(null,s,d);a.has(d)||(a.add(d),d.then(g,g))})}function It(s,o){var a=o.deletions;if(a!==null)for(var d=0;d<a.length;d++){var g=a[d],v=s,_=o,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(si(w.type)){Ge=w.stateNode,wt=!1;break e}break;case 5:Ge=w.stateNode,wt=!1;break e;case 3:case 4:Ge=w.stateNode.containerInfo,wt=!0;break e}w=w.return}if(Ge===null)throw Error(i(160));fg(v,_,g),Ge=null,wt=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)hg(o,s),o=o.sibling}var Qt=null;function hg(s,o){var a=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:It(o,s),kt(s),d&4&&(Xn(3,s,s.return),Xo(3,s),Xn(5,s,s.return));break;case 1:It(o,s),kt(s),d&512&&(je||a===null||an(a,a.return)),d&64&&Mn&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?d:a.concat(d))));break;case 26:var g=Qt;if(It(o,s),kt(s),d&512&&(je||a===null||an(a,a.return)),d&4){var v=a!==null?a.memoizedState:null;if(d=s.memoizedState,a===null)if(d===null)if(s.stateNode===null){e:{d=s.type,a=s.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[_o]||v[dt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),ft(v,d,a),v[dt]=s,nt(v),d=v;break e;case"link":var _=ay("link","href",g).get(d+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(v=_[w],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}v=g.createElement(d),ft(v,d,a),g.head.appendChild(v);break;case"meta":if(_=ay("meta","content",g).get(d+(a.content||""))){for(w=0;w<_.length;w++)if(v=_[w],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}v=g.createElement(d),ft(v,d,a),g.head.appendChild(v);break;default:throw Error(i(468,d))}v[dt]=s,nt(v),d=v}s.stateNode=d}else ly(g,s.type,s.stateNode);else s.stateNode=ry(g,d,s.memoizedProps);else v!==d?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,d===null?ly(g,s.type,s.stateNode):ry(g,d,s.memoizedProps)):d===null&&s.stateNode!==null&&_c(s,s.memoizedProps,a.memoizedProps)}break;case 27:It(o,s),kt(s),d&512&&(je||a===null||an(a,a.return)),a!==null&&d&4&&_c(s,s.memoizedProps,a.memoizedProps);break;case 5:if(It(o,s),kt(s),d&512&&(je||a===null||an(a,a.return)),s.flags&32){g=s.stateNode;try{os(g,"")}catch(G){Le(s,s.return,G)}}d&4&&s.stateNode!=null&&(g=s.memoizedProps,_c(s,g,a!==null?a.memoizedProps:g)),d&1024&&(Ec=!0);break;case 6:if(It(o,s),kt(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,a=s.stateNode;try{a.nodeValue=d}catch(G){Le(s,s.return,G)}}break;case 3:if(Wa=null,g=Qt,Qt=ja(o.containerInfo),It(o,s),Qt=g,kt(s),d&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(o.containerInfo)}catch(G){Le(s,s.return,G)}Ec&&(Ec=!1,mg(s));break;case 4:d=Qt,Qt=ja(s.stateNode.containerInfo),It(o,s),kt(s),Qt=d;break;case 12:It(o,s),kt(s);break;case 13:It(o,s),kt(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=sn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,wc(s,d)));break;case 22:g=s.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,B=Mn,$=je;if(Mn=B||g,je=$||M,It(o,s),je=$,Mn=B,kt(s),d&8192)e:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(a===null||M||Mn||je||ki(s)),a=null,o=s;;){if(o.tag===5||o.tag===26){if(a===null){M=a=o;try{if(v=M.stateNode,g)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=M.stateNode;var K=M.memoizedProps.style,H=K!=null&&K.hasOwnProperty("display")?K.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Le(M,M.return,G)}}}else if(o.tag===6){if(a===null){M=o;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(G){Le(M,M.return,G)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(a=d.retryQueue,a!==null&&(d.retryQueue=null,wc(s,a))));break;case 19:It(o,s),kt(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,wc(s,d)));break;case 30:break;case 21:break;default:It(o,s),kt(s)}}function kt(s){var o=s.flags;if(o&2){try{for(var a,d=s.return;d!==null;){if(rg(d)){a=d;break}d=d.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var g=a.stateNode,v=Cc(s);La(s,v,g);break;case 5:var _=a.stateNode;a.flags&32&&(os(_,""),a.flags&=-33);var w=Cc(s);La(s,w,_);break;case 3:case 4:var M=a.stateNode.containerInfo,B=Cc(s);xc(s,B,M);break;default:throw Error(i(161))}}catch($){Le(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function mg(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;mg(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Wn(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ug(s,o.alternate,o),o=o.sibling}function ki(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Xn(4,o,o.return),ki(o);break;case 1:an(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&sg(o,o.return,a),ki(o);break;case 27:rr(o.stateNode);case 26:case 5:an(o,o.return),ki(o);break;case 22:o.memoizedState===null&&ki(o);break;case 30:ki(o);break;default:ki(o)}s=s.sibling}}function Qn(s,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,g=s,v=o,_=v.flags;switch(v.tag){case 0:case 11:case 15:Qn(g,v,a),Xo(4,v);break;case 1:if(Qn(g,v,a),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(B){Le(d,d.return,B)}if(d=v,g=d.updateQueue,g!==null){var w=d.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)zm(M[g],w)}catch(B){Le(d,d.return,B)}}a&&_&64&&ig(v),Wo(v,v.return);break;case 27:ag(v);case 26:case 5:Qn(g,v,a),a&&d===null&&_&4&&og(v),Wo(v,v.return);break;case 12:Qn(g,v,a);break;case 13:Qn(g,v,a),a&&_&4&&dg(g,v);break;case 22:v.memoizedState===null&&Qn(g,v,a),Wo(v,v.return);break;case 30:break;default:Qn(g,v,a)}o=o.sibling}}function bc(s,o){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&Lo(a))}function Ac(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Lo(s))}function ln(s,o,a,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pg(s,o,a,d),o=o.sibling}function pg(s,o,a,d){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ln(s,o,a,d),g&2048&&Xo(9,o);break;case 1:ln(s,o,a,d);break;case 3:ln(s,o,a,d),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Lo(s)));break;case 12:if(g&2048){ln(s,o,a,d),s=o.stateNode;try{var v=o.memoizedProps,_=v.id,w=v.onPostCommit;typeof w=="function"&&w(_,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(M){Le(o,o.return,M)}}else ln(s,o,a,d);break;case 13:ln(s,o,a,d);break;case 23:break;case 22:v=o.stateNode,_=o.alternate,o.memoizedState!==null?v._visibility&2?ln(s,o,a,d):Qo(s,o):v._visibility&2?ln(s,o,a,d):(v._visibility|=2,Es(s,o,a,d,(o.subtreeFlags&10256)!==0)),g&2048&&bc(_,o);break;case 24:ln(s,o,a,d),g&2048&&Ac(o.alternate,o);break;default:ln(s,o,a,d)}}function Es(s,o,a,d,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=s,_=o,w=a,M=d,B=_.flags;switch(_.tag){case 0:case 11:case 15:Es(v,_,w,M,g),Xo(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Es(v,_,w,M,g):Qo(v,_):($._visibility|=2,Es(v,_,w,M,g)),g&&B&2048&&bc(_.alternate,_);break;case 24:Es(v,_,w,M,g),g&&B&2048&&Ac(_.alternate,_);break;default:Es(v,_,w,M,g)}o=o.sibling}}function Qo(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=s,d=o,g=d.flags;switch(d.tag){case 22:Qo(a,d),g&2048&&bc(d.alternate,d);break;case 24:Qo(a,d),g&2048&&Ac(d.alternate,d);break;default:Qo(a,d)}o=o.sibling}}var Zo=8192;function ws(s){if(s.subtreeFlags&Zo)for(s=s.child;s!==null;)gg(s),s=s.sibling}function gg(s){switch(s.tag){case 26:ws(s),s.flags&Zo&&s.memoizedState!==null&&iw(Qt,s.memoizedState,s.memoizedProps);break;case 5:ws(s);break;case 3:case 4:var o=Qt;Qt=ja(s.stateNode.containerInfo),ws(s),Qt=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,ws(s),Zo=o):ws(s));break;default:ws(s)}}function yg(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function er(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];st=d,Tg(d,s)}yg(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vg(s),s=s.sibling}function vg(s){switch(s.tag){case 0:case 11:case 15:er(s),s.flags&2048&&Xn(9,s,s.return);break;case 3:er(s);break;case 12:er(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Va(s)):er(s);break;default:er(s)}}function Va(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];st=d,Tg(d,s)}yg(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Xn(8,o,o.return),Va(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,Va(o));break;default:Va(o)}s=s.sibling}}function Tg(s,o){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Xn(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var d=a.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(d=a.child,d!==null)d.return=a,st=d;else e:for(a=s;st!==null;){d=st;var g=d.sibling,v=d.return;if(cg(d),d===a){st=null;break e}if(g!==null){g.return=v,st=g;break e}st=v}}}var TE={getCacheForType:function(s){var o=ht(Ze),a=o.data.get(s);return a===void 0&&(a=s(),o.data.set(s,a)),a}},SE=typeof WeakMap=="function"?WeakMap:Map,Re=0,Oe=null,Se=null,we=0,De=0,Ut=null,Zn=!1,bs=!1,Mc=!1,Dn=0,Je=0,ei=0,Ui=0,Rc=0,Jt=0,As=0,tr=null,bt=null,Dc=!1,Nc=0,Oa=1/0,Ba=null,ti=null,ct=0,ni=null,Ms=null,Rs=0,Pc=0,Ic=null,Sg=null,nr=0,kc=null;function Lt(){if((Re&2)!==0&&we!==0)return we&-we;if(F.T!==null){var s=gs;return s!==0?s:Hc()}return Lh()}function _g(){Jt===0&&(Jt=(we&536870912)===0||Ae?Ph():536870912);var s=$t.current;return s!==null&&(s.flags|=32),Jt}function Vt(s,o,a){(s===Oe&&(De===2||De===9)||s.cancelPendingCommit!==null)&&(Ds(s,0),ii(s,we,Jt,!1)),So(s,a),((Re&2)===0||s!==Oe)&&(s===Oe&&((Re&2)===0&&(Ui|=a),Je===4&&ii(s,we,Jt,!1)),un(s))}function Cg(s,o,a){if((Re&6)!==0)throw Error(i(327));var d=!a&&(o&124)===0&&(o&s.expiredLanes)===0||To(s,o),g=d?xE(s,o):Vc(s,o,!0),v=d;do{if(g===0){bs&&!d&&ii(s,o,0,!1);break}else{if(a=s.current.alternate,v&&!_E(a)){g=Vc(s,o,!1),v=!1;continue}if(g===2){if(v=o,s.errorRecoveryDisabledLanes&v)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var w=s;g=tr;var M=w.current.memoizedState.isDehydrated;if(M&&(Ds(w,_).flags|=256),_=Vc(w,_,!1),_!==2){if(Mc&&!M){w.errorRecoveryDisabledLanes|=v,Ui|=v,g=4;break e}v=bt,bt=g,v!==null&&(bt===null?bt=v:bt.push.apply(bt,v))}g=_}if(v=!1,g!==2)continue}}if(g===1){Ds(s,0),ii(s,o,0,!0);break}e:{switch(d=s,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:ii(d,o,Jt,!Zn);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=Nc+300-sn(),10<g)){if(ii(d,o,Jt,!Zn),Xr(d,0,!0)!==0)break e;d.timeoutHandle=Wg(xg.bind(null,d,a,bt,Ba,Dc,o,Jt,Ui,As,Zn,v,2,-0,0),g);break e}xg(d,a,bt,Ba,Dc,o,Jt,Ui,As,Zn,v,0,-0,0)}}break}while(!0);un(s)}function xg(s,o,a,d,g,v,_,w,M,B,$,K,H,G){if(s.timeoutHandle=-1,K=o.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(ur={stylesheets:null,count:0,unsuspend:nw},gg(o),K=sw(),K!==null)){s.cancelPendingCommit=K(Dg.bind(null,s,o,v,a,d,g,_,w,M,$,1,H,G)),ii(s,v,_,!B);return}Dg(s,o,v,a,d,g,_,w,M)}function _E(s){for(var o=s;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var d=0;d<a.length;d++){var g=a[d],v=g.getSnapshot;g=g.value;try{if(!Nt(v(),g))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ii(s,o,a,d){o&=~Rc,o&=~Ui,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var g=o;0<g;){var v=31-Dt(g),_=1<<v;d[v]=-1,g&=~_}a!==0&&kh(s,a,o)}function qa(){return(Re&6)===0?(ir(0),!1):!0}function Uc(){if(Se!==null){if(De===0)var s=Se.return;else s=Se,Cn=Ri=null,Qu(s),Cs=null,Yo=0,s=Se;for(;s!==null;)ng(s.alternate,s),s=s.return;Se=null}}function Ds(s,o){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,BE(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),Uc(),Oe=s,Se=a=Tn(s.current,null),we=o,De=0,Ut=null,Zn=!1,bs=To(s,o),Mc=!1,As=Jt=Rc=Ui=ei=Je=0,bt=tr=null,Dc=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var g=31-Dt(d),v=1<<g;o|=s[g],d&=~v}return Dn=o,la(),a}function Eg(s,o){ye=null,F.H=Aa,o===Oo||o===ya?(o=Hm(),De=3):o===Om?(o=Hm(),De=4):De=o===Gp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ut=o,Se===null&&(Je=1,Pa(s,Ht(o,s.current)))}function wg(){var s=F.H;return F.H=Aa,s===null?Aa:s}function bg(){var s=F.A;return F.A=TE,s}function Lc(){Je=4,Zn||(we&4194048)!==we&&$t.current!==null||(bs=!0),(ei&134217727)===0&&(Ui&134217727)===0||Oe===null||ii(Oe,we,Jt,!1)}function Vc(s,o,a){var d=Re;Re|=2;var g=wg(),v=bg();(Oe!==s||we!==o)&&(Ba=null,Ds(s,o)),o=!1;var _=Je;e:do try{if(De!==0&&Se!==null){var w=Se,M=Ut;switch(De){case 8:Uc(),_=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(o=!0);var B=De;if(De=0,Ut=null,Ns(s,w,M,B),a&&bs){_=0;break e}break;default:B=De,De=0,Ut=null,Ns(s,w,M,B)}}CE(),_=Je;break}catch($){Eg(s,$)}while(!0);return o&&s.shellSuspendCounter++,Cn=Ri=null,Re=d,F.H=g,F.A=v,Se===null&&(Oe=null,we=0,la()),_}function CE(){for(;Se!==null;)Ag(Se)}function xE(s,o){var a=Re;Re|=2;var d=wg(),g=bg();Oe!==s||we!==o?(Ba=null,Oa=sn()+500,Ds(s,o)):bs=To(s,o);e:do try{if(De!==0&&Se!==null){o=Se;var v=Ut;t:switch(De){case 1:De=0,Ut=null,Ns(s,o,v,1);break;case 2:case 9:if(Bm(v)){De=0,Ut=null,Mg(o);break}o=function(){De!==2&&De!==9||Oe!==s||(De=7),un(s)},v.then(o,o);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Bm(v)?(De=0,Ut=null,Mg(o)):(De=0,Ut=null,Ns(s,o,v,7));break;case 5:var _=null;switch(Se.tag){case 26:_=Se.memoizedState;case 5:case 27:var w=Se;if(!_||uy(_)){De=0,Ut=null;var M=w.sibling;if(M!==null)Se=M;else{var B=w.return;B!==null?(Se=B,Ha(B)):Se=null}break t}}De=0,Ut=null,Ns(s,o,v,5);break;case 6:De=0,Ut=null,Ns(s,o,v,6);break;case 8:Uc(),Je=6;break e;default:throw Error(i(462))}}EE();break}catch($){Eg(s,$)}while(!0);return Cn=Ri=null,F.H=d,F.A=g,Re=a,Se!==null?0:(Oe=null,we=0,la(),Je)}function EE(){for(;Se!==null&&!JC();)Ag(Se)}function Ag(s){var o=eg(s.alternate,s,Dn);s.memoizedProps=s.pendingProps,o===null?Ha(s):Se=o}function Mg(s){var o=s,a=o.alternate;switch(o.tag){case 15:case 0:o=Kp(a,o,o.pendingProps,o.type,void 0,we);break;case 11:o=Kp(a,o,o.pendingProps,o.type.render,o.ref,we);break;case 5:Qu(o);default:ng(a,o),o=Se=Rm(o,Dn),o=eg(a,o,Dn)}s.memoizedProps=s.pendingProps,o===null?Ha(s):Se=o}function Ns(s,o,a,d){Cn=Ri=null,Qu(o),Cs=null,Yo=0;var g=o.return;try{if(hE(s,g,o,a,we)){Je=1,Pa(s,Ht(a,s.current)),Se=null;return}}catch(v){if(g!==null)throw Se=g,v;Je=1,Pa(s,Ht(a,s.current)),Se=null;return}o.flags&32768?(Ae||d===1?s=!0:bs||(we&536870912)!==0?s=!1:(Zn=s=!0,(d===2||d===9||d===3||d===6)&&(d=$t.current,d!==null&&d.tag===13&&(d.flags|=16384))),Rg(o,s)):Ha(o)}function Ha(s){var o=s;do{if((o.flags&32768)!==0){Rg(o,Zn);return}s=o.return;var a=pE(o.alternate,o,Dn);if(a!==null){Se=a;return}if(o=o.sibling,o!==null){Se=o;return}Se=o=s}while(o!==null);Je===0&&(Je=5)}function Rg(s,o){do{var a=gE(s.alternate,s);if(a!==null){a.flags&=32767,Se=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(s=s.sibling,s!==null)){Se=s;return}Se=s=a}while(s!==null);Je=6,Se=null}function Dg(s,o,a,d,g,v,_,w,M){s.cancelPendingCommit=null;do Ga();while(ct!==0);if((Re&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=Au,nx(s,a,v,_,w,M),s===Oe&&(Se=Oe=null,we=0),Ms=o,ni=s,Rs=a,Pc=v,Ic=g,Sg=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ME(Yr,function(){return Ug(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=F.T,F.T=null,g=X.p,X.p=2,_=Re,Re|=4;try{yE(s,o,a)}finally{Re=_,X.p=g,F.T=d}}ct=1,Ng(),Pg(),Ig()}}function Ng(){if(ct===1){ct=0;var s=ni,o=Ms,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var d=X.p;X.p=2;var g=Re;Re|=4;try{hg(o,s);var v=jc,_=Tm(s.containerInfo),w=v.focusedElem,M=v.selectionRange;if(_!==w&&w&&w.ownerDocument&&vm(w.ownerDocument.documentElement,w)){if(M!==null&&Cu(w)){var B=M.start,$=M.end;if($===void 0&&($=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min($,w.value.length);else{var K=w.ownerDocument||document,H=K&&K.defaultView||window;if(H.getSelection){var G=H.getSelection(),he=w.textContent.length,ce=Math.min(M.start,he),Ue=M.end===void 0?ce:Math.min(M.end,he);!G.extend&&ce>Ue&&(_=Ue,Ue=ce,ce=_);var U=ym(w,ce),I=ym(w,Ue);if(U&&I&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var O=K.createRange();O.setStart(U.node,U.offset),G.removeAllRanges(),ce>Ue?(G.addRange(O),G.extend(I.node,I.offset)):(O.setEnd(I.node,I.offset),G.addRange(O))}}}}for(K=[],G=w;G=G.parentNode;)G.nodeType===1&&K.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<K.length;w++){var Y=K[w];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}el=!!Kc,jc=Kc=null}finally{Re=g,X.p=d,F.T=a}}s.current=o,ct=2}}function Pg(){if(ct===2){ct=0;var s=ni,o=Ms,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var d=X.p;X.p=2;var g=Re;Re|=4;try{ug(s,o.alternate,o)}finally{Re=g,X.p=d,F.T=a}}ct=3}}function Ig(){if(ct===4||ct===3){ct=0,YC();var s=ni,o=Ms,a=Rs,d=Sg;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ct=5:(ct=0,Ms=ni=null,kg(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ti=null),tu(a),o=o.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(vo,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=F.T,g=X.p,X.p=2,F.T=null;try{for(var v=s.onRecoverableError,_=0;_<d.length;_++){var w=d[_];v(w.value,{componentStack:w.stack})}}finally{F.T=o,X.p=g}}(Rs&3)!==0&&Ga(),un(s),g=s.pendingLanes,(a&4194090)!==0&&(g&42)!==0?s===kc?nr++:(nr=0,kc=s):nr=0,ir(0)}}function kg(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Lo(o)))}function Ga(s){return Ng(),Pg(),Ig(),Ug()}function Ug(){if(ct!==5)return!1;var s=ni,o=Pc;Pc=0;var a=tu(Rs),d=F.T,g=X.p;try{X.p=32>a?32:a,F.T=null,a=Ic,Ic=null;var v=ni,_=Rs;if(ct=0,Ms=ni=null,Rs=0,(Re&6)!==0)throw Error(i(331));var w=Re;if(Re|=4,vg(v.current),pg(v,v.current,_,a),Re=w,ir(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(vo,v)}catch{}return!0}finally{X.p=g,F.T=d,kg(s,o)}}function Lg(s,o,a){o=Ht(a,o),o=dc(s.stateNode,o,2),s=Jn(s,o,2),s!==null&&(So(s,2),un(s))}function Le(s,o,a){if(s.tag===3)Lg(s,s,a);else for(;o!==null;){if(o.tag===3){Lg(o,s,a);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ti===null||!ti.has(d))){s=Ht(a,s),a=qp(2),d=Jn(o,a,2),d!==null&&(Hp(a,d,o,s),So(d,2),un(d));break}}o=o.return}}function Oc(s,o,a){var d=s.pingCache;if(d===null){d=s.pingCache=new SE;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(a)||(Mc=!0,g.add(a),s=wE.bind(null,s,o,a),o.then(s,s))}function wE(s,o,a){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,Oe===s&&(we&a)===a&&(Je===4||Je===3&&(we&62914560)===we&&300>sn()-Nc?(Re&2)===0&&Ds(s,0):Rc|=a,As===we&&(As=0)),un(s)}function Vg(s,o){o===0&&(o=Ih()),s=ds(s,o),s!==null&&(So(s,o),un(s))}function bE(s){var o=s.memoizedState,a=0;o!==null&&(a=o.retryLane),Vg(s,a)}function AE(s,o){var a=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(a=g.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),Vg(s,a)}function ME(s,o){return Wl(s,o)}var za=null,Ps=null,Bc=!1,Fa=!1,qc=!1,Li=0;function un(s){s!==Ps&&s.next===null&&(Ps===null?za=Ps=s:Ps=Ps.next=s),Fa=!0,Bc||(Bc=!0,DE())}function ir(s,o){if(!qc&&Fa){qc=!0;do for(var a=!1,d=za;d!==null;){if(s!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var _=d.suspendedLanes,w=d.pingedLanes;v=(1<<31-Dt(42|s)+1)-1,v&=g&~(_&~w),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Hg(d,v))}else v=we,v=Xr(d,d===Oe?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||To(d,v)||(a=!0,Hg(d,v));d=d.next}while(a);qc=!1}}function RE(){Og()}function Og(){Fa=Bc=!1;var s=0;Li!==0&&(OE()&&(s=Li),Li=0);for(var o=sn(),a=null,d=za;d!==null;){var g=d.next,v=Bg(d,o);v===0?(d.next=null,a===null?za=g:a.next=g,g===null&&(Ps=a)):(a=d,(s!==0||(v&3)!==0)&&(Fa=!0)),d=g}ir(s)}function Bg(s,o){for(var a=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var _=31-Dt(v),w=1<<_,M=g[_];M===-1?((w&a)===0||(w&d)!==0)&&(g[_]=tx(w,o)):M<=o&&(s.expiredLanes|=w),v&=~w}if(o=Oe,a=we,a=Xr(s,s===o?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,a===0||s===o&&(De===2||De===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Ql(d),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||To(s,a)){if(o=a&-a,o===s.callbackPriority)return o;switch(d!==null&&Ql(d),tu(a)){case 2:case 8:a=Dh;break;case 32:a=Yr;break;case 268435456:a=Nh;break;default:a=Yr}return d=qg.bind(null,s),a=Wl(a,d),s.callbackPriority=o,s.callbackNode=a,o}return d!==null&&d!==null&&Ql(d),s.callbackPriority=2,s.callbackNode=null,2}function qg(s,o){if(ct!==0&&ct!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(Ga()&&s.callbackNode!==a)return null;var d=we;return d=Xr(s,s===Oe?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(Cg(s,d,o),Bg(s,sn()),s.callbackNode!=null&&s.callbackNode===a?qg.bind(null,s):null)}function Hg(s,o){if(Ga())return null;Cg(s,o,!0)}function DE(){qE(function(){(Re&6)!==0?Wl(Rh,RE):Og()})}function Hc(){return Li===0&&(Li=Ph()),Li}function Gg(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ta(""+s)}function zg(s,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,s.id&&a.setAttribute("form",s.id),o.parentNode.insertBefore(a,o),s=new FormData(s),a.parentNode.removeChild(a),s}function NE(s,o,a,d,g){if(o==="submit"&&a&&a.stateNode===g){var v=Gg((g[Ct]||null).action),_=d.submitter;_&&(o=(o=_[Ct]||null)?Gg(o.formAction):_.getAttribute("formAction"),o!==null&&(v=o,_=null));var w=new oa("action","action",null,d,g);s.push({event:w,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Li!==0){var M=_?zg(g,_):new FormData(g);ac(a,{pending:!0,data:M,method:g.method,action:v},null,M)}}else typeof v=="function"&&(w.preventDefault(),M=_?zg(g,_):new FormData(g),ac(a,{pending:!0,data:M,method:g.method,action:v},v,M))},currentTarget:g}]})}}for(var Gc=0;Gc<bu.length;Gc++){var zc=bu[Gc],PE=zc.toLowerCase(),IE=zc[0].toUpperCase()+zc.slice(1);Wt(PE,"on"+IE)}Wt(Cm,"onAnimationEnd"),Wt(xm,"onAnimationIteration"),Wt(Em,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Xx,"onTransitionRun"),Wt(Wx,"onTransitionStart"),Wt(Qx,"onTransitionCancel"),Wt(wm,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sr));function Fg(s,o){o=(o&4)!==0;for(var a=0;a<s.length;a++){var d=s[a],g=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var _=d.length-1;0<=_;_--){var w=d[_],M=w.instance,B=w.currentTarget;if(w=w.listener,M!==v&&g.isPropagationStopped())break e;v=w,g.currentTarget=B;try{v(g)}catch($){Na($)}g.currentTarget=null,v=M}else for(_=0;_<d.length;_++){if(w=d[_],M=w.instance,B=w.currentTarget,w=w.listener,M!==v&&g.isPropagationStopped())break e;v=w,g.currentTarget=B;try{v(g)}catch($){Na($)}g.currentTarget=null,v=M}}}}function _e(s,o){var a=o[nu];a===void 0&&(a=o[nu]=new Set);var d=s+"__bubble";a.has(d)||($g(o,s,2,!1),a.add(d))}function Fc(s,o,a){var d=0;o&&(d|=4),$g(a,s,d,o)}var $a="_reactListening"+Math.random().toString(36).slice(2);function $c(s){if(!s[$a]){s[$a]=!0,Oh.forEach(function(a){a!=="selectionchange"&&(kE.has(a)||Fc(a,!1,s),Fc(a,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[$a]||(o[$a]=!0,Fc("selectionchange",!1,o))}}function $g(s,o,a,d){switch(py(o)){case 2:var g=aw;break;case 8:g=lw;break;default:g=rf}a=g.bind(null,o,a,s),g=void 0,!hu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(o,a,{capture:!0,passive:g}):s.addEventListener(o,a,!0):g!==void 0?s.addEventListener(o,a,{passive:g}):s.addEventListener(o,a,!1)}function Jc(s,o,a,d,g){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var w=d.stateNode.containerInfo;if(w===g)break;if(_===4)for(_=d.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;w!==null;){if(_=Zi(w),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){d=v=_;continue e}w=w.parentNode}}d=d.return}Qh(function(){var B=v,$=fu(a),K=[];e:{var H=bm.get(s);if(H!==void 0){var G=oa,he=s;switch(s){case"keypress":if(ia(a)===0)break e;case"keydown":case"keyup":G=Mx;break;case"focusin":he="focus",G=yu;break;case"focusout":he="blur",G=yu;break;case"beforeblur":case"afterblur":G=yu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Nx;break;case Cm:case xm:case Em:G=Tx;break;case wm:G=Ix;break;case"scroll":case"scrollend":G=mx;break;case"wheel":G=Ux;break;case"copy":case"cut":case"paste":G=_x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=im;break;case"toggle":case"beforetoggle":G=Vx}var ce=(o&4)!==0,Ue=!ce&&(s==="scroll"||s==="scrollend"),U=ce?H!==null?H+"Capture":null:H;ce=[];for(var I=B,O;I!==null;){var Y=I;if(O=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||O===null||U===null||(Y=xo(I,U),Y!=null&&ce.push(or(I,Y,O))),Ue)break;I=I.return}0<ce.length&&(H=new G(H,he,null,a,$),K.push({event:H,listeners:ce}))}}if((o&7)===0){e:{if(H=s==="mouseover"||s==="pointerover",G=s==="mouseout"||s==="pointerout",H&&a!==cu&&(he=a.relatedTarget||a.fromElement)&&(Zi(he)||he[Qi]))break e;if((G||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,G?(he=a.relatedTarget||a.toElement,G=B,he=he?Zi(he):null,he!==null&&(Ue=l(he),ce=he.tag,he!==Ue||ce!==5&&ce!==27&&ce!==6)&&(he=null)):(G=null,he=B),G!==he)){if(ce=tm,Y="onMouseLeave",U="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(ce=im,Y="onPointerLeave",U="onPointerEnter",I="pointer"),Ue=G==null?H:Co(G),O=he==null?H:Co(he),H=new ce(Y,I+"leave",G,a,$),H.target=Ue,H.relatedTarget=O,Y=null,Zi($)===B&&(ce=new ce(U,I+"enter",he,a,$),ce.target=O,ce.relatedTarget=Ue,Y=ce),Ue=Y,G&&he)t:{for(ce=G,U=he,I=0,O=ce;O;O=Is(O))I++;for(O=0,Y=U;Y;Y=Is(Y))O++;for(;0<I-O;)ce=Is(ce),I--;for(;0<O-I;)U=Is(U),O--;for(;I--;){if(ce===U||U!==null&&ce===U.alternate)break t;ce=Is(ce),U=Is(U)}ce=null}else ce=null;G!==null&&Jg(K,H,G,ce,!1),he!==null&&Ue!==null&&Jg(K,Ue,he,ce,!0)}}e:{if(H=B?Co(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var se=fm;else if(um(H))if(dm)se=Yx;else{se=$x;var Te=Fx}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&uu(B.elementType)&&(se=fm):se=Jx;if(se&&(se=se(s,B))){cm(K,se,a,$);break e}Te&&Te(s,H,B),s==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&lu(H,"number",H.value)}switch(Te=B?Co(B):window,s){case"focusin":(um(Te)||Te.contentEditable==="true")&&(us=Te,xu=B,No=null);break;case"focusout":No=xu=us=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,Sm(K,a,$);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":Sm(K,a,$)}var le;if(Tu)e:{switch(s){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else ls?am(s,a)&&(fe="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&(sm&&a.locale!=="ko"&&(ls||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&ls&&(le=Zh()):(Gn=$,mu="value"in Gn?Gn.value:Gn.textContent,ls=!0)),Te=Ja(B,fe),0<Te.length&&(fe=new nm(fe,s,null,a,$),K.push({event:fe,listeners:Te}),le?fe.data=le:(le=lm(a),le!==null&&(fe.data=le)))),(le=Bx?qx(s,a):Hx(s,a))&&(fe=Ja(B,"onBeforeInput"),0<fe.length&&(Te=new nm("onBeforeInput","beforeinput",null,a,$),K.push({event:Te,listeners:fe}),Te.data=le)),NE(K,s,B,a,$)}Fg(K,o)})}function or(s,o,a){return{instance:s,listener:o,currentTarget:a}}function Ja(s,o){for(var a=o+"Capture",d=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=xo(s,a),g!=null&&d.unshift(or(s,g,v)),g=xo(s,o),g!=null&&d.push(or(s,g,v))),s.tag===3)return d;s=s.return}return[]}function Is(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Jg(s,o,a,d,g){for(var v=o._reactName,_=[];a!==null&&a!==d;){var w=a,M=w.alternate,B=w.stateNode;if(w=w.tag,M!==null&&M===d)break;w!==5&&w!==26&&w!==27||B===null||(M=B,g?(B=xo(a,v),B!=null&&_.unshift(or(a,B,M))):g||(B=xo(a,v),B!=null&&_.push(or(a,B,M)))),a=a.return}_.length!==0&&s.push({event:o,listeners:_})}var UE=/\r\n?/g,LE=/\u0000|\uFFFD/g;function Yg(s){return(typeof s=="string"?s:""+s).replace(UE,`
`).replace(LE,"")}function Kg(s,o){return o=Yg(o),Yg(s)===o}function Ya(){}function ke(s,o,a,d,g,v){switch(a){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||os(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&os(s,""+d);break;case"className":Qr(s,"class",d);break;case"tabIndex":Qr(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(s,a,d);break;case"style":Xh(s,d,v);break;case"data":if(o!=="object"){Qr(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||a!=="href")){s.removeAttribute(a);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(a);break}d=ta(""+d),s.setAttribute(a,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(o!=="input"&&ke(s,o,"name",g.name,g,null),ke(s,o,"formEncType",g.formEncType,g,null),ke(s,o,"formMethod",g.formMethod,g,null),ke(s,o,"formTarget",g.formTarget,g,null)):(ke(s,o,"encType",g.encType,g,null),ke(s,o,"method",g.method,g,null),ke(s,o,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(a);break}d=ta(""+d),s.setAttribute(a,d);break;case"onClick":d!=null&&(s.onclick=Ya);break;case"onScroll":d!=null&&_e("scroll",s);break;case"onScrollEnd":d!=null&&_e("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}a=ta(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,""+d):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":d===!0?s.setAttribute(a,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,d):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(a,d):s.removeAttribute(a);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(a):s.setAttribute(a,d);break;case"popover":_e("beforetoggle",s),_e("toggle",s),Wr(s,"popover",d);break;case"xlinkActuate":yn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":yn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":yn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":yn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":yn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":yn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":yn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":yn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":yn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Wr(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dx.get(a)||a,Wr(s,a,d))}}function Yc(s,o,a,d,g,v){switch(a){case"style":Xh(s,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"children":typeof d=="string"?os(s,d):(typeof d=="number"||typeof d=="bigint")&&os(s,""+d);break;case"onScroll":d!=null&&_e("scroll",s);break;case"onScrollEnd":d!=null&&_e("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),o=a.slice(2,g?a.length-7:void 0),v=s[Ct]||null,v=v!=null?v[a]:null,typeof v=="function"&&s.removeEventListener(o,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(o,d,g);break e}a in s?s[a]=d:d===!0?s.setAttribute(a,""):Wr(s,a,d)}}}function ft(s,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",s),_e("load",s);var d=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var _=a[v];if(_!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(s,o,v,_,a,null)}}g&&ke(s,o,"srcSet",a.srcSet,a,null),d&&ke(s,o,"src",a.src,a,null);return;case"input":_e("invalid",s);var w=v=_=g=null,M=null,B=null;for(d in a)if(a.hasOwnProperty(d)){var $=a[d];if($!=null)switch(d){case"name":g=$;break;case"type":_=$;break;case"checked":M=$;break;case"defaultChecked":B=$;break;case"value":v=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,o));break;default:ke(s,o,d,$,a,null)}}Jh(s,v,w,M,B,_,g,!1),Zr(s);return;case"select":_e("invalid",s),d=_=v=null;for(g in a)if(a.hasOwnProperty(g)&&(w=a[g],w!=null))switch(g){case"value":v=w;break;case"defaultValue":_=w;break;case"multiple":d=w;default:ke(s,o,g,w,a,null)}o=v,a=_,s.multiple=!!d,o!=null?ss(s,!!d,o,!1):a!=null&&ss(s,!!d,a,!0);return;case"textarea":_e("invalid",s),v=g=d=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":d=w;break;case"defaultValue":g=w;break;case"children":v=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ke(s,o,_,w,a,null)}Kh(s,d,g,v),Zr(s);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(d=a[M],d!=null))switch(M){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ke(s,o,M,d,a,null)}return;case"dialog":_e("beforetoggle",s),_e("toggle",s),_e("cancel",s),_e("close",s);break;case"iframe":case"object":_e("load",s);break;case"video":case"audio":for(d=0;d<sr.length;d++)_e(sr[d],s);break;case"image":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"embed":case"source":case"link":_e("error",s),_e("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(d=a[B],d!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(s,o,B,d,a,null)}return;default:if(uu(o)){for($ in a)a.hasOwnProperty($)&&(d=a[$],d!==void 0&&Yc(s,o,$,d,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(d=a[w],d!=null&&ke(s,o,w,d,a,null))}function VE(s,o,a,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,_=null,w=null,M=null,B=null,$=null;for(G in a){var K=a[G];if(a.hasOwnProperty(G)&&K!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":M=K;default:d.hasOwnProperty(G)||ke(s,o,G,null,d,K)}}for(var H in d){var G=d[H];if(K=a[H],d.hasOwnProperty(H)&&(G!=null||K!=null))switch(H){case"type":v=G;break;case"name":g=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":_=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,o));break;default:G!==K&&ke(s,o,H,G,d,K)}}au(s,_,w,M,B,$,v,g);return;case"select":G=_=w=H=null;for(v in a)if(M=a[v],a.hasOwnProperty(v)&&M!=null)switch(v){case"value":break;case"multiple":G=M;default:d.hasOwnProperty(v)||ke(s,o,v,null,d,M)}for(g in d)if(v=d[g],M=a[g],d.hasOwnProperty(g)&&(v!=null||M!=null))switch(g){case"value":H=v;break;case"defaultValue":w=v;break;case"multiple":_=v;default:v!==M&&ke(s,o,g,v,d,M)}o=w,a=_,d=G,H!=null?ss(s,!!a,H,!1):!!d!=!!a&&(o!=null?ss(s,!!a,o,!0):ss(s,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(w in a)if(g=a[w],a.hasOwnProperty(w)&&g!=null&&!d.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ke(s,o,w,null,d,g)}for(_ in d)if(g=d[_],v=a[_],d.hasOwnProperty(_)&&(g!=null||v!=null))switch(_){case"value":H=g;break;case"defaultValue":G=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&ke(s,o,_,g,d,v)}Yh(s,H,G);return;case"option":for(var he in a)if(H=a[he],a.hasOwnProperty(he)&&H!=null&&!d.hasOwnProperty(he))switch(he){case"selected":s.selected=!1;break;default:ke(s,o,he,null,d,H)}for(M in d)if(H=d[M],G=a[M],d.hasOwnProperty(M)&&H!==G&&(H!=null||G!=null))switch(M){case"selected":s.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ke(s,o,M,H,d,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!d.hasOwnProperty(ce)&&ke(s,o,ce,null,d,H);for(B in d)if(H=d[B],G=a[B],d.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,o));break;default:ke(s,o,B,H,d,G)}return;default:if(uu(o)){for(var Ue in a)H=a[Ue],a.hasOwnProperty(Ue)&&H!==void 0&&!d.hasOwnProperty(Ue)&&Yc(s,o,Ue,void 0,d,H);for($ in d)H=d[$],G=a[$],!d.hasOwnProperty($)||H===G||H===void 0&&G===void 0||Yc(s,o,$,H,d,G);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!d.hasOwnProperty(U)&&ke(s,o,U,null,d,H);for(K in d)H=d[K],G=a[K],!d.hasOwnProperty(K)||H===G||H==null&&G==null||ke(s,o,K,H,d,G)}var Kc=null,jc=null;function Ka(s){return s.nodeType===9?s:s.ownerDocument}function jg(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xg(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Xc(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Wc=null;function OE(){var s=window.event;return s&&s.type==="popstate"?s===Wc?!1:(Wc=s,!0):(Wc=null,!1)}var Wg=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(s){return Qg.resolve(null).then(s).catch(HE)}:Wg;function HE(s){setTimeout(function(){throw s})}function si(s){return s==="head"}function Zg(s,o){var a=o,d=0,g=0;do{var v=a.nextSibling;if(s.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"){if(0<d&&8>d){a=d;var _=s.ownerDocument;if(a&1&&rr(_.documentElement),a&2&&rr(_.body),a&4)for(a=_.head,rr(a),_=a.firstChild;_;){var w=_.nextSibling,M=_.nodeName;_[_o]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=w}}if(g===0){s.removeChild(v),mr(o);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:d=a.charCodeAt(0)-48;else d=0;a=v}while(a);mr(o)}function Qc(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qc(a),iu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function GE(s,o,a,d){for(;s.nodeType===1;){var g=a;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[_o])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Zt(s.nextSibling),s===null)break}return null}function zE(s,o,a){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Zt(s.nextSibling),s===null))return null;return s}function Zc(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function FE(s,o){var a=s.ownerDocument;if(s.data!=="$?"||a.readyState==="complete")o();else{var d=function(){o(),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Zt(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var ef=null;function ey(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return s;o--}else a==="/$"&&o++}s=s.previousSibling}return null}function ty(s,o,a){switch(o=Ka(a),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function rr(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);iu(s)}var Yt=new Map,ny=new Set;function ja(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Nn=X.d;X.d={f:$E,r:JE,D:YE,C:KE,L:jE,m:XE,X:QE,S:WE,M:ZE};function $E(){var s=Nn.f(),o=qa();return s||o}function JE(s){var o=es(s);o!==null&&o.tag===5&&o.type==="form"?Cp(o):Nn.r(s)}var ks=typeof document>"u"?null:document;function iy(s,o,a){var d=ks;if(d&&typeof o=="string"&&o){var g=qt(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),ny.has(g)||(ny.add(g),s={rel:s,crossOrigin:a,href:o},d.querySelector(g)===null&&(o=d.createElement("link"),ft(o,"link",s),nt(o),d.head.appendChild(o)))}}function YE(s){Nn.D(s),iy("dns-prefetch",s,null)}function KE(s,o){Nn.C(s,o),iy("preconnect",s,o)}function jE(s,o,a){Nn.L(s,o,a);var d=ks;if(d&&s&&o){var g='link[rel="preload"][as="'+qt(o)+'"]';o==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+qt(a.imageSizes)+'"]')):g+='[href="'+qt(s)+'"]';var v=g;switch(o){case"style":v=Us(s);break;case"script":v=Ls(s)}Yt.has(v)||(s=y({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:s,as:o},a),Yt.set(v,s),d.querySelector(g)!==null||o==="style"&&d.querySelector(ar(v))||o==="script"&&d.querySelector(lr(v))||(o=d.createElement("link"),ft(o,"link",s),nt(o),d.head.appendChild(o)))}}function XE(s,o){Nn.m(s,o);var a=ks;if(a&&s){var d=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+qt(d)+'"][href="'+qt(s)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ls(s)}if(!Yt.has(v)&&(s=y({rel:"modulepreload",href:s},o),Yt.set(v,s),a.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(lr(v)))return}d=a.createElement("link"),ft(d,"link",s),nt(d),a.head.appendChild(d)}}}function WE(s,o,a){Nn.S(s,o,a);var d=ks;if(d&&s){var g=ts(d).hoistableStyles,v=Us(s);o=o||"default";var _=g.get(v);if(!_){var w={loading:0,preload:null};if(_=d.querySelector(ar(v)))w.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":o},a),(a=Yt.get(v))&&tf(s,a);var M=_=d.createElement("link");nt(M),ft(M,"link",s),M._p=new Promise(function(B,$){M.onload=B,M.onerror=$}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Xa(_,o,d)}_={type:"stylesheet",instance:_,count:1,state:w},g.set(v,_)}}}function QE(s,o){Nn.X(s,o);var a=ks;if(a&&s){var d=ts(a).hoistableScripts,g=Ls(s),v=d.get(g);v||(v=a.querySelector(lr(g)),v||(s=y({src:s,async:!0},o),(o=Yt.get(g))&&nf(s,o),v=a.createElement("script"),nt(v),ft(v,"link",s),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function ZE(s,o){Nn.M(s,o);var a=ks;if(a&&s){var d=ts(a).hoistableScripts,g=Ls(s),v=d.get(g);v||(v=a.querySelector(lr(g)),v||(s=y({src:s,async:!0,type:"module"},o),(o=Yt.get(g))&&nf(s,o),v=a.createElement("script"),nt(v),ft(v,"link",s),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function sy(s,o,a,d){var g=(g=me.current)?ja(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=Us(a.href),a=ts(g).hoistableStyles,d=a.get(o),d||(d={type:"style",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=Us(a.href);var v=ts(g).hoistableStyles,_=v.get(s);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,_),(v=g.querySelector(ar(s)))&&!v._p&&(_.instance=v,_.state.loading=5),Yt.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(s,a),v||ew(g,s,a,_.state))),o&&d===null)throw Error(i(528,""));return _}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ls(a),a=ts(g).hoistableScripts,d=a.get(o),d||(d={type:"script",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Us(s){return'href="'+qt(s)+'"'}function ar(s){return'link[rel="stylesheet"]['+s+"]"}function oy(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function ew(s,o,a,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),ft(o,"link",a),nt(o),s.head.appendChild(o))}function Ls(s){return'[src="'+qt(s)+'"]'}function lr(s){return"script[async]"+s}function ry(s,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+qt(a.href)+'"]');if(d)return o.instance=d,nt(d),d;var g=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),nt(d),ft(d,"style",g),Xa(d,a.precedence,s),o.instance=d;case"stylesheet":g=Us(a.href);var v=s.querySelector(ar(g));if(v)return o.state.loading|=4,o.instance=v,nt(v),v;d=oy(a),(g=Yt.get(g))&&tf(d,g),v=(s.ownerDocument||s).createElement("link"),nt(v);var _=v;return _._p=new Promise(function(w,M){_.onload=w,_.onerror=M}),ft(v,"link",d),o.state.loading|=4,Xa(v,a.precedence,s),o.instance=v;case"script":return v=Ls(a.src),(g=s.querySelector(lr(v)))?(o.instance=g,nt(g),g):(d=a,(g=Yt.get(v))&&(d=y({},a),nf(d,g)),s=s.ownerDocument||s,g=s.createElement("script"),nt(g),ft(g,"link",d),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Xa(d,a.precedence,s));return o.instance}function Xa(s,o,a){for(var d=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,_=0;_<d.length;_++){var w=d[_];if(w.dataset.precedence===o)v=w;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(s,o.firstChild))}function tf(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function nf(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Wa=null;function ay(s,o,a){if(Wa===null){var d=new Map,g=Wa=new Map;g.set(a,d)}else g=Wa,d=g.get(a),d||(d=new Map,g.set(a,d));if(d.has(s))return d;for(d.set(s,null),a=a.getElementsByTagName(s),g=0;g<a.length;g++){var v=a[g];if(!(v[_o]||v[dt]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(o)||"";_=s+_;var w=d.get(_);w?w.push(v):d.set(_,[v])}}return d}function ly(s,o,a){s=s.ownerDocument||s,s.head.insertBefore(a,o==="title"?s.querySelector("head > title"):null)}function tw(s,o,a){if(a===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function uy(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var ur=null;function nw(){}function iw(s,o,a){if(ur===null)throw Error(i(475));var d=ur;if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Us(a.href),v=s.querySelector(ar(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Qa.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=v,nt(v);return}v=s.ownerDocument||s,a=oy(a),(g=Yt.get(g))&&tf(a,g),v=v.createElement("link"),nt(v);var _=v;_._p=new Promise(function(w,M){_.onload=w,_.onerror=M}),ft(v,"link",a),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Qa.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function sw(){if(ur===null)throw Error(i(475));var s=ur;return s.stylesheets&&s.count===0&&sf(s,s.stylesheets),0<s.count?function(o){var a=setTimeout(function(){if(s.stylesheets&&sf(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(a)}}:null}function Qa(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Za=null;function sf(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Za=new Map,o.forEach(ow,s),Za=null,Qa.call(s))}function ow(s,o){if(!(o.state.loading&4)){var a=Za.get(s);if(a)var d=a.get(null);else{a=new Map,Za.set(s,a);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var _=g[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),d=_)}d&&a.set(null,d)}g=o.instance,_=g.getAttribute("data-precedence"),v=a.get(_)||d,v===d&&a.set(null,g),a.set(_,g),this.count++,d=Qa.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var cr={$$typeof:D,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function rw(s,o,a,d,g,v,_,w){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.hiddenUpdates=Zl(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function cy(s,o,a,d,g,v,_,w,M,B,$,K){return s=new rw(s,o,a,_,w,M,B,K),o=1,v===!0&&(o|=24),v=Pt(3,null,null,o),s.current=v,v.stateNode=s,o=Ou(),o.refCount++,s.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:a,cache:o},Gu(v),s}function fy(s){return s?(s=hs,s):hs}function dy(s,o,a,d,g,v){g=fy(g),d.context===null?d.context=g:d.pendingContext=g,d=$n(o),d.payload={element:a},v=v===void 0?null:v,v!==null&&(d.callback=v),a=Jn(s,d,o),a!==null&&(Vt(a,s,o),qo(a,s,o))}function hy(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<o?a:o}}function of(s,o){hy(s,o),(s=s.alternate)&&hy(s,o)}function my(s){if(s.tag===13){var o=ds(s,67108864);o!==null&&Vt(o,s,67108864),of(s,67108864)}}var el=!0;function aw(s,o,a,d){var g=F.T;F.T=null;var v=X.p;try{X.p=2,rf(s,o,a,d)}finally{X.p=v,F.T=g}}function lw(s,o,a,d){var g=F.T;F.T=null;var v=X.p;try{X.p=8,rf(s,o,a,d)}finally{X.p=v,F.T=g}}function rf(s,o,a,d){if(el){var g=af(d);if(g===null)Jc(s,o,d,tl,a),gy(s,d);else if(cw(g,s,o,a,d))d.stopPropagation();else if(gy(s,d),o&4&&-1<uw.indexOf(s)){for(;g!==null;){var v=es(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=Ti(v.pendingLanes);if(_!==0){var w=v;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var M=1<<31-Dt(_);w.entanglements[1]|=M,_&=~M}un(v),(Re&6)===0&&(Oa=sn()+500,ir(0))}}break;case 13:w=ds(v,2),w!==null&&Vt(w,v,2),qa(),of(v,2)}if(v=af(d),v===null&&Jc(s,o,d,tl,a),v===g)break;g=v}g!==null&&d.stopPropagation()}else Jc(s,o,d,null,a)}}function af(s){return s=fu(s),lf(s)}var tl=null;function lf(s){if(tl=null,s=Zi(s),s!==null){var o=l(s);if(o===null)s=null;else{var a=o.tag;if(a===13){if(s=c(o),s!==null)return s;s=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return tl=s,null}function py(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(KC()){case Rh:return 2;case Dh:return 8;case Yr:case jC:return 32;case Nh:return 268435456;default:return 32}default:return 32}}var uf=!1,oi=null,ri=null,ai=null,fr=new Map,dr=new Map,li=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(s,o){switch(s){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":fr.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(o.pointerId)}}function hr(s,o,a,d,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:a,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},o!==null&&(o=es(o),o!==null&&my(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function cw(s,o,a,d,g){switch(o){case"focusin":return oi=hr(oi,s,o,a,d,g),!0;case"dragenter":return ri=hr(ri,s,o,a,d,g),!0;case"mouseover":return ai=hr(ai,s,o,a,d,g),!0;case"pointerover":var v=g.pointerId;return fr.set(v,hr(fr.get(v)||null,s,o,a,d,g)),!0;case"gotpointercapture":return v=g.pointerId,dr.set(v,hr(dr.get(v)||null,s,o,a,d,g)),!0}return!1}function yy(s){var o=Zi(s.target);if(o!==null){var a=l(o);if(a!==null){if(o=a.tag,o===13){if(o=c(a),o!==null){s.blockedOn=o,ix(s.priority,function(){if(a.tag===13){var d=Lt();d=eu(d);var g=ds(a,d);g!==null&&Vt(g,a,d),of(a,d)}});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function nl(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var a=af(s.nativeEvent);if(a===null){a=s.nativeEvent;var d=new a.constructor(a.type,a);cu=d,a.target.dispatchEvent(d),cu=null}else return o=es(a),o!==null&&my(o),s.blockedOn=a,!1;o.shift()}return!0}function vy(s,o,a){nl(s)&&a.delete(o)}function fw(){uf=!1,oi!==null&&nl(oi)&&(oi=null),ri!==null&&nl(ri)&&(ri=null),ai!==null&&nl(ai)&&(ai=null),fr.forEach(vy),dr.forEach(vy)}function il(s,o){s.blockedOn===o&&(s.blockedOn=null,uf||(uf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fw)))}var sl=null;function Ty(s){sl!==s&&(sl=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sl===s&&(sl=null);for(var o=0;o<s.length;o+=3){var a=s[o],d=s[o+1],g=s[o+2];if(typeof d!="function"){if(lf(d||a)===null)continue;break}var v=es(a);v!==null&&(s.splice(o,3),o-=3,ac(v,{pending:!0,data:g,method:a.method,action:d},d,g))}}))}function mr(s){function o(M){return il(M,s)}oi!==null&&il(oi,s),ri!==null&&il(ri,s),ai!==null&&il(ai,s),fr.forEach(o),dr.forEach(o);for(var a=0;a<li.length;a++){var d=li[a];d.blockedOn===s&&(d.blockedOn=null)}for(;0<li.length&&(a=li[0],a.blockedOn===null);)yy(a),a.blockedOn===null&&li.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(d=0;d<a.length;d+=3){var g=a[d],v=a[d+1],_=g[Ct]||null;if(typeof v=="function")_||Ty(a);else if(_){var w=null;if(v&&v.hasAttribute("formAction")){if(g=v,_=v[Ct]||null)w=_.formAction;else if(lf(g)!==null)continue}else w=_.action;typeof w=="function"?a[d+1]=w:(a.splice(d,3),d-=3),Ty(a)}}}function cf(s){this._internalRoot=s}ol.prototype.render=cf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var a=o.current,d=Lt();dy(a,d,s,o,null,null)},ol.prototype.unmount=cf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;dy(s.current,2,null,s,null,null),qa(),o[Qi]=null}};function ol(s){this._internalRoot=s}ol.prototype.unstable_scheduleHydration=function(s){if(s){var o=Lh();s={blockedOn:null,target:s,priority:o};for(var a=0;a<li.length&&o!==0&&o<li[a].priority;a++);li.splice(a,0,s),a===0&&yy(s)}};var Sy=e.version;if(Sy!=="19.1.1")throw Error(i(527,Sy,"19.1.1"));X.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var dw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{vo=rl.inject(dw),Rt=rl}catch{}}return gr.createRoot=function(s,o){if(!r(s))throw Error(i(299));var a=!1,d="",g=Lp,v=Vp,_=Op,w=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(w=o.unstable_transitionCallbacks)),o=cy(s,1,!1,null,null,a,d,g,v,_,w,null),s[Qi]=o.current,$c(s),new cf(o)},gr.hydrateRoot=function(s,o,a){if(!r(s))throw Error(i(299));var d=!1,g="",v=Lp,_=Vp,w=Op,M=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),o=cy(s,1,!0,o,a??null,d,g,v,_,w,M,B),o.context=fy(null),a=o.current,d=Lt(),d=eu(d),g=$n(d),g.callback=null,Jn(a,g,d),a=d,o.current.lanes=a,So(o,a),un(o),s[Qi]=o.current,$c(s),new ol(o)},gr.version="19.1.1",gr}var Dy;function Ew(){if(Dy)return hf.exports;Dy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hf.exports=xw(),hf.exports}var ww=Ew();const bw=Id(ww),Aw="modulepreload",Mw=function(t){return"/"+t},Ny={},Br=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=c(n.map(m=>{if(m=Mw(m),m in Ny)return;Ny[m]=!0;const y=m.endsWith(".css"),T=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${T}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":Aw,y||(S.as="script"),S.crossOrigin="",S.href=m,p&&S.setAttribute("nonce",p),document.head.appendChild(S),y)return new Promise((C,b)=>{S.addEventListener("load",C),S.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},Rw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Br(async()=>{const{default:i}=await Promise.resolve().then(()=>uo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class Ud extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class Dw extends Ud{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Py extends Ud{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Iy extends Ud{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ff;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ff||(Ff={}));var Nw=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class Pw{constructor(e,{headers:n={},customFetch:i,region:r=Ff.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=Rw(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return Nw(this,void 0,void 0,function*(){try{const{headers:r,method:l,body:c}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;c&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)));const T=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),r),body:y}).catch(E=>{throw new Dw(E)}),S=T.headers.get("x-relay-error");if(S&&S==="true")throw new Py(T);if(!T.ok)throw new Iy(T);let C=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return C==="application/json"?b=yield T.json():C==="application/octet-stream"?b=yield T.blob():C==="text/event-stream"?b=T:C==="multipart/form-data"?b=yield T.formData():b=yield T.text(),{data:b,error:null,response:T}}catch(r){return{data:null,error:r,response:r instanceof Iy||r instanceof Py?r.context:void 0}}})}}var rt={},Vs={},Os={},Bs={},qs={},Hs={},Iw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ro=Iw();const kw=ro.fetch,ZT=ro.fetch.bind(ro),eS=ro.Headers,Uw=ro.Request,Lw=ro.Response,uo=Object.freeze(Object.defineProperty({__proto__:null,Headers:eS,Request:Uw,Response:Lw,default:ZT,fetch:kw},Symbol.toStringTag,{value:"Module"})),Vw=mw(uo);var al={},ky;function tS(){if(ky)return al;ky=1,Object.defineProperty(al,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return al.default=t,al}var Uy;function nS(){if(Uy)return Hs;Uy=1;var t=Hs&&Hs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hs,"__esModule",{value:!0});const e=t(Vw),n=t(tS());class i{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,T,S;let C=null,b=null,E=null,A=m.status,R=m.statusText;if(m.ok){if(this.method!=="HEAD"){const N=await m.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=N:b=JSON.parse(N))}const D=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),L=(T=m.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");D&&L&&L.length>1&&(E=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(C={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,E=null,A=406,R="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const D=await m.text();try{C=JSON.parse(D),Array.isArray(C)&&m.status===404&&(b=[],C=null,A=200,R="OK")}catch{m.status===404&&D===""?(A=204,R="No Content"):C={message:D}}if(C&&this.isMaybeSingle&&(!((S=C==null?void 0:C.details)===null||S===void 0)&&S.includes("0 rows"))&&(C=null,A=200,R="OK"),C&&this.shouldThrowOnError)throw new n.default(C)}return{error:C,data:b,count:E,status:A,statusText:R}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,T,S;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(T=m==null?void 0:m.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(S=m==null?void 0:m.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return Hs.default=i,Hs}var Ly;function iS(){if(Ly)return qs;Ly=1;var t=qs&&qs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(qs,"__esModule",{value:!0});const e=t(nS());class n extends e.default{select(r){let l=!1;const c=(r??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${r}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${r}`),this}range(r,l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${r}`),this.url.searchParams.set(m,`${l-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var y;const T=[r?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${S}"; options=${T};`,m==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return qs.default=n,qs}var Vy;function Ld(){if(Vy)return Bs;Vy=1;var t=Bs&&Bs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bs,"__esModule",{value:!0});const e=t(iS());class n extends e.default{eq(r,l){return this.url.searchParams.append(r,`eq.${l}`),this}neq(r,l){return this.url.searchParams.append(r,`neq.${l}`),this}gt(r,l){return this.url.searchParams.append(r,`gt.${l}`),this}gte(r,l){return this.url.searchParams.append(r,`gte.${l}`),this}lt(r,l){return this.url.searchParams.append(r,`lt.${l}`),this}lte(r,l){return this.url.searchParams.append(r,`lte.${l}`),this}like(r,l){return this.url.searchParams.append(r,`like.${l}`),this}likeAllOf(r,l){return this.url.searchParams.append(r,`like(all).{${l.join(",")}}`),this}likeAnyOf(r,l){return this.url.searchParams.append(r,`like(any).{${l.join(",")}}`),this}ilike(r,l){return this.url.searchParams.append(r,`ilike.${l}`),this}ilikeAllOf(r,l){return this.url.searchParams.append(r,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(r,l){return this.url.searchParams.append(r,`ilike(any).{${l.join(",")}}`),this}is(r,l){return this.url.searchParams.append(r,`is.${l}`),this}in(r,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(r,`in.(${c})`),this}contains(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cs.{${l.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(l)}`),this}containedBy(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cd.{${l.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(l)}`),this}rangeGt(r,l){return this.url.searchParams.append(r,`sr.${l}`),this}rangeGte(r,l){return this.url.searchParams.append(r,`nxl.${l}`),this}rangeLt(r,l){return this.url.searchParams.append(r,`sl.${l}`),this}rangeLte(r,l){return this.url.searchParams.append(r,`nxr.${l}`),this}rangeAdjacent(r,l){return this.url.searchParams.append(r,`adj.${l}`),this}overlaps(r,l){return typeof l=="string"?this.url.searchParams.append(r,`ov.${l}`):this.url.searchParams.append(r,`ov.{${l.join(",")}}`),this}textSearch(r,l,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(r,`${p}fts${m}.${l}`),this}match(r){return Object.entries(r).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(r,l,c){return this.url.searchParams.append(r,`not.${l}.${c}`),this}or(r,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${r})`),this}filter(r,l,c){return this.url.searchParams.append(r,`${l}.${c}`),this}}return Bs.default=n,Bs}var Oy;function sS(){if(Oy)return Os;Oy=1;var t=Os&&Os.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Os,"__esModule",{value:!0});const e=t(Ld());class n{constructor(r,{headers:l={},schema:c,fetch:h}){this.url=r,this.headers=l,this.schema=c,this.fetch=h}select(r,{head:l=!1,count:c}={}){const h=l?"HEAD":"GET";let p=!1;const m=(r??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:l,defaultToNull:c=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),l&&p.push(`count=${l}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(r)){const m=r.reduce((y,T)=>y.concat(Object.keys(T)),[]);if(m.length>0){const y=[...new Set(m)].map(T=>`"${T}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){const m="POST",y=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(r)){const T=r.reduce((S,C)=>S.concat(Object.keys(C)),[]);if(T.length>0){const S=[...new Set(T)].map(C=>`"${C}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:l}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const l="DELETE",c=[];return r&&c.push(`count=${r}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Os.default=n,Os}var yr={},vr={},By;function Ow(){return By||(By=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.version=void 0,vr.version="0.0.0-automated"),vr}var qy;function Bw(){if(qy)return yr;qy=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.DEFAULT_HEADERS=void 0;const t=Ow();return yr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},yr}var Hy;function qw(){if(Hy)return Vs;Hy=1;var t=Vs&&Vs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Vs,"__esModule",{value:!0});const e=t(sS()),n=t(Ld()),i=Bw();class r{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new r(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){let T;const S=new URL(`${this.url}/rpc/${c}`);let C;p||m?(T=p?"HEAD":"GET",Object.entries(h).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{S.searchParams.append(E,A)})):(T="POST",C=h);const b=Object.assign({},this.headers);return y&&(b.Prefer=`count=${y}`),new n.default({method:T,url:S,headers:b,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return Vs.default=r,Vs}var Gy;function Hw(){if(Gy)return rt;Gy=1;var t=rt&&rt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(rt,"__esModule",{value:!0}),rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const e=t(qw());rt.PostgrestClient=e.default;const n=t(sS());rt.PostgrestQueryBuilder=n.default;const i=t(Ld());rt.PostgrestFilterBuilder=i.default;const r=t(iS());rt.PostgrestTransformBuilder=r.default;const l=t(nS());rt.PostgrestBuilder=l.default;const c=t(tS());return rt.PostgrestError=c.default,rt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:l.default,PostgrestError:c.default},rt}var Gw=Hw();const zw=Id(Gw),{PostgrestClient:Fw,PostgrestQueryBuilder:TB,PostgrestFilterBuilder:SB,PostgrestTransformBuilder:_B,PostgrestBuilder:CB,PostgrestError:xB}=zw;function $w(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Jw=$w(),Yw="2.11.15",Kw=`realtime-js/${Yw}`,jw="1.0.0",oS=1e4,Xw=1e3;var br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(br||(br={}));var pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pt||(pt={}));var nn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nn||(nn={}));var $f;(function(t){t.websocket="websocket"})($f||($f={}));var zi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zi||(zi={}));class Ww{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+r));c=c+r;const p=i.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class rS{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Be||(Be={}));const zy=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((l,c)=>(l[c]=Qw(c,t,e,r),l),{})},Qw=(t,e,n,i)=>{const r=e.find(h=>h.name===t),l=r==null?void 0:r.type,c=n[t];return l&&!i.includes(l)?aS(l,c):Jf(c)},aS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return nb(e,n)}switch(t){case Be.bool:return Zw(e);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return eb(e);case Be.json:case Be.jsonb:return tb(e);case Be.timestamp:return ib(e);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Jf(e);default:return Jf(e)}},Jf=t=>t,Zw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nb=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>aS(e,h))}return t},ib=t=>typeof t=="string"?t.replace(" ","T"):t,lS=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class yf{constructor(e,n,i={},r=oS){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Fy||(Fy={}));class Ar{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ar.syncState(this.state,r,l,c),this.pendingDiffs.forEach(p=>{this.state=Ar.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ar.syncDiff(this.state,r,l,c),h())}),this.onJoin((r,l,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:l,newPresences:c})}),this.onLeave((r,l,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const l=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(l,(m,y)=>{c[m]||(p[m]=y)}),this.map(c,(m,y)=>{const T=l[m];if(T){const S=y.map(A=>A.presence_ref),C=T.map(A=>A.presence_ref),b=y.filter(A=>C.indexOf(A.presence_ref)<0),E=T.filter(A=>S.indexOf(A.presence_ref)<0);b.length>0&&(h[m]=b),E.length>0&&(p[m]=E)}else h[m]=y}),this.syncDiff(l,{joins:h,leaves:p},i,r)}static syncDiff(e,n,i,r){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(l,(h,p)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),y.length>0){const T=e[h].map(C=>C.presence_ref),S=y.filter(C=>T.indexOf(C.presence_ref)<0);e[h].unshift(...S)}i(h,y,p)}),this.map(c,(h,p)=>{let m=e[h];if(!m)return;const y=p.map(T=>T.presence_ref);m=m.filter(T=>y.indexOf(T.presence_ref)<0),e[h]=m,r(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $y;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($y||($y={}));var Jy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Jy||(Jy={}));var In;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(In||(In={}));class Vd{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yf(this,nn.join,this.params,this.timeout),this.rejoinTimer=new rS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Ar(this),this.broadcastEndpointURL=lS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:l,presence:c,private:h}}=this.params;this._onError(y=>e==null?void 0:e(In.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(In.CLOSED));const p={},m={broadcast:l,presence:c,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&r!==void 0?r:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var T;if(this.socket.setAuth(),y===void 0){e==null||e(In.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(T=S==null?void 0:S.length)!==null&&T!==void 0?T:0,b=[];for(let E=0;E<C;E++){const A=S[E],{filter:{event:R,schema:k,table:D,filter:L}}=A,N=y&&y[E];if(N&&N.event===R&&N.schema===k&&N.table===D&&N.filter===L)b.push(Object.assign(Object.assign({},A),{id:N.id}));else{this.unsubscribe(),this.state=pt.errored,e==null||e(In.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(In.SUBSCRIBED);return}}).receive("error",y=>{this.state=pt.errored,e==null||e(In.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(In.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=m.body)===null||r===void 0?void 0:r.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new yf(this,nn.leave,{},e),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const r=new AbortController,l=setTimeout(()=>r.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(l),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new yf(this,e,n,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,l;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:y}=nn;if(i&&[h,p,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let S=this._onMessage(c,n,i);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(C=>{var b,E,A;return((b=C.filter)===null||b===void 0?void 0:b.event)==="*"||((A=(E=C.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(C=>C.callback(S,i)):(l=this.bindings[c])===null||l===void 0||l.filter(C=>{var b,E,A,R,k,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in C){const L=C.id,N=(b=C.filter)===null||b===void 0?void 0:b.event;return L&&((E=n.ids)===null||E===void 0?void 0:E.includes(L))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const L=(k=(R=C==null?void 0:C.filter)===null||R===void 0?void 0:R.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return L==="*"||L===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===c}).map(C=>{if(typeof S=="object"&&"ids"in S){const b=S.data,{schema:E,table:A,commit_timestamp:R,type:k,errors:D}=b;S=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:R,eventType:k,new:{},old:{},errors:D}),this._getPayloadRecords(b))}C.callback(S,i)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),l={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(l):this.bindings[r]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var l;return!(((l=r.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Vd.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nn.close,{},e)}_onError(e){this._on(nn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=zy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=zy(e.columns,e.old_record)),n}}const Yy=()=>{},sb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ob{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yy,this.ref=0,this.logger=Yy,this.conn=null,this.sendBuffer=[],this.serializer=new Ww,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...h)=>Br(async()=>{const{default:p}=await Promise.resolve().then(()=>uo);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${$f.websocket}`,this.httpEndpoint=lS(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,c)=>c(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new rS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Jw),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jw}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case br.connecting:return zi.Connecting;case br.open:return zi.Open;case br.closing:return zi.Closing;default:return zi.Closed}}isConnected(){return this.connectionState()===zi.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(l=>l.topic===i);if(r)return r;{const l=new Vd(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:r,ref:l}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${l})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:Kw};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(nn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Xw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:r,payload:l,ref:c}=n;i==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${i} ${r} ${c&&"("+c+")"||""}`,l),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(r,l,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(nn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([sb],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class Od extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function at(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rb extends Od{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yf extends Od{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var ab=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const uS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Br(async()=>{const{default:i}=await Promise.resolve().then(()=>uo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},lb=()=>ab(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Br(()=>Promise.resolve().then(()=>uo),void 0)).Response:Response}),Kf=t=>{if(Array.isArray(t))return t.map(n=>Kf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[r]=Kf(i)}),e},ub=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ki=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const vf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cb=(t,e,n)=>Ki(void 0,void 0,void 0,function*(){const i=yield lb();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const l=t.status||500,c=(r==null?void 0:r.statusCode)||l+"";e(new rb(vf(r),l,c))}).catch(r=>{e(new Yf(vf(r),r))}):e(new Yf(vf(t),t))}),fb=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?r:(ub(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i)):r.body=i,Object.assign(Object.assign({},r),n))};function qr(t,e,n,i,r,l){return Ki(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(n,fb(e,i,r,l)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>cb(p,h,i))})})}function El(t,e,n,i){return Ki(this,void 0,void 0,function*(){return qr(t,"GET",e,n,i)})}function kn(t,e,n,i,r){return Ki(this,void 0,void 0,function*(){return qr(t,"POST",e,i,r,n)})}function jf(t,e,n,i,r){return Ki(this,void 0,void 0,function*(){return qr(t,"PUT",e,i,r,n)})}function db(t,e,n,i){return Ki(this,void 0,void 0,function*(){return qr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function cS(t,e,n,i,r){return Ki(this,void 0,void 0,function*(){return qr(t,"DELETE",e,i,r,n)})}var At=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const hb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ky={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mb{constructor(e,n={},i,r){this.url=e,this.headers=n,this.bucketId=i,this.fetch=uS(r)}uploadOrUpdate(e,n,i,r){return At(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Ky),r);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),r!=null&&r.headers&&(h=Object.assign(Object.assign({},h),r.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),T=yield(e=="PUT"?jf:kn)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:T.Id,fullPath:T.Key},error:null}}catch(l){if(at(l))return{data:null,error:l};throw l}})}upload(e,n,i){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return At(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Ky.upsert},r),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const T=yield jf(this.fetch,h.toString(),p,{headers:y});return{data:{path:l,fullPath:T.Key},error:null}}catch(p){if(at(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return At(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const l=yield kn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new Od("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(at(i))return{data:null,error:i};throw i}})}update(e,n,i){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return At(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}copy(e,n,i){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return At(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),l=yield kn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return At(this,void 0,void 0,function*(){try{const r=yield kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}download(e,n){return At(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield El(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(at(h))return{data:null,error:h};throw h}})}info(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield El(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Kf(i),error:null}}catch(i){if(at(i))return{data:null,error:i};throw i}})}exists(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield db(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(at(i)&&i instanceof Yf){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&r.push(l);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&r.push(p);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return At(this,void 0,void 0,function*(){try{return{data:yield cS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}list(e,n,i){return At(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},hb),n),{prefix:e||""});return{data:yield kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const pb="2.10.4",gb={"X-Client-Info":`storage-js/${pb}`};var Gs=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class yb{constructor(e,n={},i,r){const l=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},gb),n),this.fetch=uS(i)}listBuckets(){return Gs(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(at(e))return{data:null,error:e};throw e}})}getBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Gs(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(at(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Gs(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(at(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield cS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}}class vb extends yb{constructor(e,n={},i,r){super(e,n,i,r)}from(e){return new mb(this.url,this.headers,e,this.fetch)}}const Tb="2.53.0";let Cr="";typeof Deno<"u"?Cr="deno":typeof document<"u"?Cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cr="react-native":Cr="node";const Sb={"X-Client-Info":`supabase-js-${Cr}/${Tb}`},_b={headers:Sb},Cb={schema:"public"},xb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Eb={};var wb=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const bb=t=>{let e;return t?e=t:typeof fetch>"u"?e=ZT:e=fetch,(...n)=>e(...n)},Ab=()=>typeof Headers>"u"?eS:Headers,Mb=(t,e,n)=>{const i=bb(n),r=Ab();return(l,c)=>wb(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new r(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(l,Object.assign(Object.assign({},c),{headers:m}))})};var Rb=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function Db(t){return t.endsWith("/")?t:t+"/"}function Nb(t,e){var n,i;const{db:r,auth:l,realtime:c,global:h}=t,{db:p,auth:m,realtime:y,global:T}=e,S={db:Object.assign(Object.assign({},p),r),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},y),c),storage:{},global:Object.assign(Object.assign(Object.assign({},T),h),{headers:Object.assign(Object.assign({},(n=T==null?void 0:T.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Rb(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}const fS="2.71.1",Ks=30*1e3,Xf=3,Tf=Xf*Ks,Pb="http://localhost:9999",Ib="supabase.auth.token",kb={"X-Client-Info":`gotrue-js/${fS}`},Wf="X-Supabase-Api-Version",dS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ub=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lb=600*1e3;class Bd extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Vb extends Bd{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Ob(t){return pe(t)&&t.name==="AuthApiError"}class hS extends Bd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class yi extends Bd{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class fi extends yi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bb(t){return pe(t)&&t.name==="AuthSessionMissingError"}class ll extends yi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ul extends yi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cl extends yi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qb(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class jy extends yi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qf extends yi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Sf(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class Xy extends yi{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Zf extends yi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wy=` 	
\r=`.split(""),Hb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wy.length;e+=1)t[Wy[e].charCodeAt(0)]=-2;for(let e=0;e<wl.length;e+=1)t[wl[e].charCodeAt(0)]=e;return t})();function Qy(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(wl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(wl[i]),e.queuedBits-=6}}function mS(t,e,n){const i=Hb[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zy(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},l=c=>{Fb(c,i,n)};for(let c=0;c<t.length;c+=1)mS(t.charCodeAt(c),r,l);return e.join("")}function Gb(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function zb(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Gb(i,e)}}function Fb(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function $b(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)mS(t.charCodeAt(r),n,i);return new Uint8Array(e)}function Jb(t){const e=[];return zb(t,n=>e.push(n)),new Uint8Array(e)}function Yb(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};return t.forEach(r=>Qy(r,n,i)),Qy(null,n,i),e.join("")}function Kb(t){return Math.round(Date.now()/1e3)+t}function jb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const en=()=>typeof window<"u"&&typeof document<"u",Vi={tested:!1,writable:!1},pS=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vi.tested)return Vi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vi.tested=!0,Vi.writable=!0}catch{Vi.tested=!0,Vi.writable=!1}return Vi.writable};function Xb(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,l)=>{e[l]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const gS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Br(async()=>{const{default:i}=await Promise.resolve().then(()=>uo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},Wb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",js=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Oi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ci=async(t,e)=>{await t.removeItem(e)};class Vl{constructor(){this.promise=new Vl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Vl.promiseConstructor=Promise;function _f(t){const e=t.split(".");if(e.length!==3)throw new Zf("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Ub.test(e[i]))throw new Zf("JWT not in base64url format");return{header:JSON.parse(Zy(e[0])),payload:JSON.parse(Zy(e[1])),signature:$b(e[2]),raw:{header:e[0],payload:e[1]}}}async function Qb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Zb(t,e){return new Promise((i,r)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){r(c);return}}})()})}function eA(t){return("0"+t.toString(16)).substr(-2)}function tA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let l=0;l<56;l++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,eA).join("")}async function nA(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(l=>String.fromCharCode(l)).join("")}async function iA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await nA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(t,e,n=!1){const i=tA();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await js(t,`${e}-code-verifier`,r);const l=await iA(i);return[l,i===l?"plain":"s256"]}const sA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oA(t){const e=t.headers.get(Wf);if(!e||!e.match(sA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function rA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function aA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(t){if(!lA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cf(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ev(t){return JSON.parse(JSON.stringify(t))}var uA=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const qi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cA=[502,503,504];async function tv(t){var e;if(!Wb(t))throw new Qf(qi(t),0);if(cA.includes(t.status))throw new Qf(qi(t),t.status);let n;try{n=await t.json()}catch(l){throw new hS(qi(l),l)}let i;const r=oA(t);if(r&&r.getTime()>=dS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Xy(qi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new fi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Xy(qi(n),t.status,n.weak_password.reasons);throw new Vb(qi(n),t.status||500,i)}const fA=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Ce(t,e,n,i){var r;const l=Object.assign({},i==null?void 0:i.headers);l[Wf]||(l[Wf]=dS["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await dA(t,e,n+h,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function dA(t,e,n,i,r,l){const c=fA(e,i,r,l);let h;try{h=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new Qf(qi(p),0)}if(h.ok||await tv(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await tv(p)}}function Pn(t){var e;let n=null;gA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Kb(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function nv(t){const e=Pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function mi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hA(t){return{data:t,error:null}}function mA(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:l}=t,c=uA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:l},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function pA(t){return t}function gA(t){return t.access_token&&t.refresh_token&&t.expires_in}const xf=["global","local","others"];var yA=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};class vA{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=gS(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=xf[0]){if(xf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xf.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:mi})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=yA(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:mA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:mi})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,l,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:pA});if(y.error)throw y.error;const T=await y.json(),S=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(b=>{const E=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(b.split(";")[1].split("=")[1]);m[`${A}Page`]=E}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},T),m),error:null}}catch(m){if(pe(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Fs(e);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mi})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Fs(e);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:mi})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Fs(e);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:mi})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Fs(e.userId);try{const{data:n,error:i}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Fs(e.userId),Fs(e.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function iv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function TA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $s={debug:!!(globalThis&&pS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class SA extends yS{}async function _A(t,e,n){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new SA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($s.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}TA();const CA={url:Pb,storageKey:Ib,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sv(t,e,n){return await n()}const Js={};class kr{constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kr.nextInstanceID,kr.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},CA),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new vA({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=gS(r.fetch),this.lock=r.lock||sv,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_A:this.lock=sv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:pS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iv(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=iv(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Js[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Js[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Xb(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),en()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),qb(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new hS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Pn}),{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,i,r;try{let l;if("email"in e){const{email:y,password:T,options:S}=e;let C=null,b=null;this.flowType==="pkce"&&([C,b]=await zs(this.storage,this.storageKey)),l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:T,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:C,code_challenge_method:b},xform:Pn})}else if("phone"in e){const{phone:y,password:T,options:S}=e;l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:T,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},channel:(r=S==null?void 0:S.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Pn})}else throw new ul("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:h}=e;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:nv})}else if("phone"in e){const{phone:l,password:c,options:h}=e;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:nv})}else throw new ul("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ll}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,r,l,c,h,p,m,y,T,S,C;let b,E;if("message"in e)b=e.message,E=e.signature;else{const{chain:A,wallet:R,statement:k,options:D}=e;let L;if(en())if(typeof R=="object")L=R;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))L=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=R}const N=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const V=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),k?{statement:k}:null));let z;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")z=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)z=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)b=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(r=(i=D==null?void 0:D.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((l=D==null?void 0:D.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((T=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||T===void 0)&&T.length?["Resources",...D.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const V=await L.signMessage(new TextEncoder().encode(b),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=V}}try{const{data:A,error:R}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Yb(E)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Pn});if(R)throw R;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new ll}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:R})}catch(A){if(pe(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const n=await Oi(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:l,error:c}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Pn});if(await ci(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ll}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:r??null}),error:c})}catch(l){if(pe(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:l,nonce:c}=e,h=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pn}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ll}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,l,c;try{if("email"in e){const{email:h,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await zs(this.storage,this.storageKey));const{error:T}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:y}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new ul("You must provide either an email or phone number.")}catch(h){if(pe(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let r,l;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:r,xform:Pn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await zs(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:hA})}catch(l){if(pe(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new fi;const{error:r}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:l}=e,{error:c}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:r,options:l}=e,{data:c,error:h}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new ul("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Oi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Tf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await Oi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Cf()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,y)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:e},error:null}}const{session:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mi}):await this._useSession(async n=>{var i,r,l;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fi}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0,xform:mi})})}catch(n){if(pe(n))return Bb(n)&&(await this._removeSession(),await ci(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:l}=i;if(l)throw l;if(!r.session)throw new fi;const c=r.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await zs(this.storage,this.storageKey));const{data:m,error:y}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:mi});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fi;const n=Date.now()/1e3;let i=n,r=!0,l=null;const{payload:c}=_f(e.access_token);if(c.exp&&(i=c.exp,r=i<=n),r){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new fi;const{session:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!en())throw new cl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jy("No code detected.");const{data:k,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:l,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=e;if(!l||!h||!c||!m)throw new cl("No session defined in URL");const y=Math.round(Date.now()/1e3),T=parseInt(h);let S=y+T;p&&(S=parseInt(p));const C=S-y;C*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${T}s`);const b=S-T;y-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,S,y):y-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,S,y);const{data:E,error:A}=await this._getUser(l);if(A)throw A;const R={provider_token:i,provider_refresh_token:r,access_token:l,expires_in:T,expires_at:S,refresh_token:c,token_type:m,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(i){if(pe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Oi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:l}=n;if(l)return{error:l};const c=(i=r.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(Ob(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await ci(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=jb(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:l},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await zs(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(pe(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:r}=await this._useSession(async l=>{var c,h,p,m,y;const{data:T,error:S}=l;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",C,{headers:this.headers,jwt:(y=(m=T.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(r)throw r;return en()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(pe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:l,error:c}=n;if(c)throw c;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Zb(async r=>(r>0&&await Qb(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(r,l)=>{const c=200*Math.pow(2,r);return l&&Sf(l)&&Date.now()+c-i<Ks})}catch(i){if(this._debug(n,"error",i),pe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),en()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await Oi(this.storage,this.storageKey);if(r&&this.userStorage){let c=await Oi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await js(this.userStorage,this.storageKey+"-user",c)),r.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Cf()}else if(r&&!r.user&&!r.user){const c=await Oi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(r.user=c.user,await ci(this.storage,this.storageKey+"-user"),await js(this.storage,this.storageKey,r)):r.user=Cf()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const l=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Tf;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Tf}s`),l){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),Sf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(r.access_token);!h&&(c!=null&&c.user)?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new fi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Vl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new fi;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={session:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(r,"error",l),pe(l)){const c={session:null,error:l};return Sf(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await js(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const l=ev(r);await js(this.storage,this.storageKey,l)}else{const r=ev(n);await js(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await ci(this.storage,this.storageKey),await ci(this.storage,this.storageKey+"-code-verifier"),await ci(this.storage,this.storageKey+"-user"),this.userStorage&&await ci(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ks}ms, refresh threshold is ${Xf} ticks`),r<=Xf&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await zs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(h.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);r.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:l}=n;return l?{data:null,error:l}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:l,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((r=p==null?void 0:p.totp)===null||r===void 0)&&r.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:l}=n;if(l)return{data:null,error:l};const{data:c,error:h}=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:l}=n;return l?{data:null,error:l}:await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],r=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:r,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:l}=e;if(l)return{data:null,error:l};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=_f(r.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(h=>h.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+Lb>r)return i;const{data:l,error:c}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=r,i=l.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:C,error:b}=await this.getSession();if(b||!C.session)return{data:null,error:b};i=C.session.access_token}const{header:r,payload:l,signature:c,raw:{header:h,payload:p}}=_f(i);n!=null&&n.allowExpired||rA(l.exp);const m=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:C}=await this.getUser(i);if(C)throw C;return{data:{claims:l,header:r,signature:c},error:null}}const y=aA(r.alg),T=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,T,c,Jb(`${h}.${p}`)))throw new Zf("Invalid JWT signature");return{data:{claims:l,header:r,signature:c},error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}}kr.nextInstanceID=0;const xA=kr;class EA extends xA{constructor(e){super(e)}}var wA=function(t,e,n,i){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(T){c(T)}}function p(y){try{m(i.throw(y))}catch(T){c(T)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class bA{constructor(e,n,i){var r,l,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=Db(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:Cb,realtime:Eb,auth:Object.assign(Object.assign({},xb),{storageKey:m}),global:_b},T=Nb(i??{},y);this.storageKey=(r=T.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(l=T.global.headers)!==null&&l!==void 0?l:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(S,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=T.auth)!==null&&c!==void 0?c:{},this.headers,T.global.fetch),this.fetch=Mb(n,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.rest=new Fw(new URL("rest/v1",p).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new vb(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new Pw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return wA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,storageKey:l,flowType:c,lock:h,debug:p},m,y){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EA({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),m),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,flowType:c,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ob(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const AA=(t,e,n)=>new bA(t,e,n);function MA(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}MA()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var vS={};const TS=vS.SUPABASE_URL||"https://inprykhpchchersmqlpt.supabase.co",SS=vS.SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlucHJ5a2hwY2hjaGVyc21xbHB0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5MDM5ODgsImV4cCI6MjA2OTQ3OTk4OH0.T8C9AC78LgCGhKmdlmURXtIUsnBX2XZBcPzcUxJRAiY";(TS==="YOUR_SUPABASE_URL"||SS==="YOUR_SUPABASE_ANON_KEY")&&console.warn("Supabase credentials are not configured. Please provide them in services/supabaseClient.ts or via environment variables.");const tt=AA(TS,SS),_S=q.createContext(null),Ol=()=>{const t=q.useContext(_S);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},RA=({children:t})=>{const[e,n]=q.useState(null),[i,r]=q.useState(!0);q.useEffect(()=>{(async()=>{const{data:{session:y}}=await tt.auth.getSession();n((y==null?void 0:y.user)??null),r(!1)})();const{data:{subscription:m}}=tt.auth.onAuthStateChange((y,T)=>{n((T==null?void 0:T.user)??null)});return()=>{m==null||m.unsubscribe()}},[]);const h={isAuthenticated:!!e,currentUser:e,login:async(p,m)=>{const{error:y}=await tt.auth.signInWithPassword({email:p,password:m});return y?{success:!1,error:y.message}:{success:!0}},logout:async()=>{try{await tt.auth.signOut({scope:"global"})}catch(p){console.warn("Global logout failed, falling back to local logout:",p);try{await tt.auth.signOut({scope:"local"})}catch(m){console.error("Both global and local logout failed:",m),n(null)}}window.location.hash=""}};return x.jsx(_S.Provider,{value:h,children:!i&&t})},ov=t=>{const e=t.replace(/^#\/?|\/$/g,"");return e?e.split("/"):[]},DA=()=>{const[t,e]=q.useState(ov(window.location.hash));return q.useEffect(()=>{const n=()=>{e(ov(window.location.hash))};return window.addEventListener("hashchange",n),n(),()=>{window.removeEventListener("hashchange",n)}},[]),{route:t}},qd=q.createContext({});function Bl(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const ql=q.createContext(null),Hd=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class NA extends q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PA({children:t,isPresent:e}){const n=q.useId(),i=q.useRef(null),r=q.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=q.useContext(Hd);return q.useInsertionEffect(()=>{const{width:c,height:h,top:p,left:m}=r.current;if(e||!i.current||!c||!h)return;i.current.dataset.motionPopId=n;const y=document.createElement("style");return l&&(y.nonce=l),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),x.jsx(NA,{isPresent:e,childRef:i,sizeRef:r,children:q.cloneElement(t,{ref:i})})}const IA=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:l,mode:c})=>{const h=Bl(kA),p=q.useId(),m=q.useCallback(T=>{h.set(T,!0);for(const S of h.values())if(!S)return;i&&i()},[h,i]),y=q.useMemo(()=>({id:p,initial:e,isPresent:n,custom:r,onExitComplete:m,register:T=>(h.set(T,!1),()=>h.delete(T))}),l?[Math.random(),m]:[n,m]);return q.useMemo(()=>{h.forEach((T,S)=>h.set(S,!1))},[n]),q.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),c==="popLayout"&&(t=x.jsx(PA,{isPresent:n,children:t})),x.jsx(ql.Provider,{value:y,children:t})};function kA(){return new Map}function CS(t=!0){const e=q.useContext(ql);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,l=q.useId();q.useEffect(()=>{t&&r(l)},[t]);const c=q.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const fl=t=>t.key||"";function rv(t){const e=[];return q.Children.forEach(t,n=>{q.isValidElement(n)&&e.push(n)}),e}const Gd=typeof window<"u",zd=Gd?q.useLayoutEffect:q.useEffect,mn=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:l="sync",propagate:c=!1})=>{const[h,p]=CS(c),m=q.useMemo(()=>rv(t),[t]),y=c&&!h?[]:m.map(fl),T=q.useRef(!0),S=q.useRef(m),C=Bl(()=>new Map),[b,E]=q.useState(m),[A,R]=q.useState(m);zd(()=>{T.current=!1,S.current=m;for(let L=0;L<A.length;L++){const N=fl(A[L]);y.includes(N)?C.delete(N):C.get(N)!==!0&&C.set(N,!1)}},[A,y.length,y.join("-")]);const k=[];if(m!==b){let L=[...m];for(let N=0;N<A.length;N++){const V=A[N],z=fl(V);y.includes(z)||(L.splice(N,0,V),k.push(V))}l==="wait"&&k.length&&(L=k),R(rv(L)),E(m);return}const{forceRender:D}=q.useContext(qd);return x.jsx(x.Fragment,{children:A.map(L=>{const N=fl(L),V=c&&!h?!1:m===A||y.includes(N),z=()=>{if(C.has(N))C.set(N,!0);else return;let j=!0;C.forEach(J=>{J||(j=!1)}),j&&(D==null||D(),R(S.current),c&&(p==null||p()),i&&i())};return x.jsx(IA,{isPresent:V,initial:!T.current||n?void 0:!1,custom:V?void 0:e,presenceAffectsLayout:r,mode:l,onExitComplete:V?void 0:z,children:L},N)})})},_t=t=>t;let UA=_t,xS=_t;function Fd(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ji=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Ln=t=>t*1e3,Vn=t=>t/1e3,LA={useManualTiming:!1};function VA(t){let e=new Set,n=new Set,i=!1,r=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,y=!1,T=!1)=>{const C=T&&i?e:n;return y&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(h),e.clear(),i=!1,r&&(r=!1,p.process(m))}};return p}const dl=["read","resolveKeyframes","update","preRender","render","postRender"],OA=40;function ES(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=dl.reduce((R,k)=>(R[k]=VA(l),R),{}),{read:h,resolveKeyframes:p,update:m,preRender:y,render:T,postRender:S}=c,C=()=>{const R=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(R-r.timestamp,OA),1),r.timestamp=R,r.isProcessing=!0,h.process(r),p.process(r),m.process(r),y.process(r),T.process(r),S.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(C))},b=()=>{n=!0,i=!0,r.isProcessing||t(C)};return{schedule:dl.reduce((R,k)=>{const D=c[k];return R[k]=(L,N=!1,V=!1)=>(n||b(),D.schedule(L,N,V)),R},{}),cancel:R=>{for(let k=0;k<dl.length;k++)c[dl[k]].cancel(R)},state:r,steps:c}}const{schedule:Me,cancel:pn,state:lt,steps:Ef}=ES(typeof requestAnimationFrame<"u"?requestAnimationFrame:_t,!0),wS=q.createContext({strict:!1}),av={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ao={};for(const t in av)ao[t]={isEnabled:e=>av[t].some(n=>!!e[n])};function BA(t){for(const e in t)ao[e]={...ao[e],...t[e]}}const qA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qA.has(t)}let bS=t=>!bl(t);function HA(t){t&&(bS=e=>e.startsWith("on")?!bl(e):t(e))}try{HA(require("@emotion/is-prop-valid").default)}catch{}function GA(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(bS(r)||n===!0&&bl(r)||!e&&!bl(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function zA(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Hl=q.createContext({});function Ur(t){return typeof t=="string"||Array.isArray(t)}function Gl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const $d=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jd=["initial",...$d];function zl(t){return Gl(t.animate)||Jd.some(e=>Ur(t[e]))}function AS(t){return!!(zl(t)||t.variants)}function FA(t,e){if(zl(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ur(n)?n:void 0,animate:Ur(i)?i:void 0}}return t.inherit!==!1?e:{}}function $A(t){const{initial:e,animate:n}=FA(t,q.useContext(Hl));return q.useMemo(()=>({initial:e,animate:n}),[lv(e),lv(n)])}function lv(t){return Array.isArray(t)?t.join(" "):t}const JA=Symbol.for("motionComponentSymbol");function Xs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YA(t,e,n){return q.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Xs(n)&&(n.current=i))},[e])}const Yd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KA="framerAppearId",MS="data-"+Yd(KA),{schedule:Kd}=ES(queueMicrotask,!1),RS=q.createContext({});function jA(t,e,n,i,r){var l,c;const{visualElement:h}=q.useContext(Hl),p=q.useContext(wS),m=q.useContext(ql),y=q.useContext(Hd).reducedMotion,T=q.useRef(null);i=i||p.renderer,!T.current&&i&&(T.current=i(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const S=T.current,C=q.useContext(RS);S&&!S.projection&&r&&(S.type==="html"||S.type==="svg")&&XA(T.current,n,r,C);const b=q.useRef(!1);q.useInsertionEffect(()=>{S&&b.current&&S.update(n,m)});const E=n[MS],A=q.useRef(!!E&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,E))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,E)));return zd(()=>{S&&(b.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),Kd.render(S.render),A.current&&S.animationState&&S.animationState.animateChanges())}),q.useEffect(()=>{S&&(!A.current&&S.animationState&&S.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,E)}),A.current=!1))}),S}function XA(t,e,n,i){const{layoutId:r,layout:l,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DS(t.parent)),t.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||h&&Xs(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}function DS(t){if(t)return t.options.allowProjection!==!1?t.projection:DS(t.parent)}function WA({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var l,c;t&&BA(t);function h(m,y){let T;const S={...q.useContext(Hd),...m,layoutId:QA(m)},{isStatic:C}=S,b=$A(m),E=i(m,C);if(!C&&Gd){ZA();const A=eM(S);T=A.MeasureLayout,b.visualElement=jA(r,E,S,e,A.ProjectionNode)}return x.jsxs(Hl.Provider,{value:b,children:[T&&b.visualElement?x.jsx(T,{visualElement:b.visualElement,...S}):null,n(r,m,YA(E,b.visualElement,y),E,C,b.visualElement)]})}h.displayName=`motion.${typeof r=="string"?r:`create(${(c=(l=r.displayName)!==null&&l!==void 0?l:r.name)!==null&&c!==void 0?c:""})`}`;const p=q.forwardRef(h);return p[JA]=r,p}function QA({layoutId:t}){const e=q.useContext(qd).id;return e&&t!==void 0?e+"-"+t:t}function ZA(t,e){q.useContext(wS).strict}function eM(t){const{drag:e,layout:n}=ao;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const tM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jd(t){return typeof t!="string"||t.includes("-")?!1:!!(tM.indexOf(t)>-1||/[A-Z]/u.test(t))}function uv(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Xd(t,e,n,i){if(typeof e=="function"){const[r,l]=uv(i);e=e(n!==void 0?n:t.custom,r,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,l]=uv(i);e=e(n!==void 0?n:t.custom,r,l)}return e}const ed=t=>Array.isArray(t),nM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),iM=t=>ed(t)?t[t.length-1]||0:t,yt=t=>!!(t&&t.getVelocity);function yl(t){const e=yt(t)?t.get():t;return nM(e)?e.toValue():e}function sM({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,l){const c={latestValues:oM(i,r,l,t),renderState:e()};return n&&(c.onMount=h=>n({props:i,current:h,...c}),c.onUpdate=h=>n(h)),c}const NS=t=>(e,n)=>{const i=q.useContext(Hl),r=q.useContext(ql),l=()=>sM(t,e,i,r);return n?l():Bl(l)};function oM(t,e,n,i){const r={},l=i(t,{});for(const S in l)r[S]=yl(l[S]);let{initial:c,animate:h}=t;const p=zl(t),m=AS(t);e&&m&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?h:c;if(T&&typeof T!="boolean"&&!Gl(T)){const S=Array.isArray(T)?T:[T];for(let C=0;C<S.length;C++){const b=Xd(t,S[C]);if(b){const{transitionEnd:E,transition:A,...R}=b;for(const k in R){let D=R[k];if(Array.isArray(D)){const L=y?D.length-1:0;D=D[L]}D!==null&&(r[k]=D)}for(const k in E)r[k]=E[k]}}}return r}const co=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ji=new Set(co),PS=t=>e=>typeof e=="string"&&e.startsWith(t),IS=PS("--"),rM=PS("var(--"),Wd=t=>rM(t)?aM.test(t.split("/*")[0].trim()):!1,aM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,gn=(t,e,n)=>n>e?e:n<t?t:n,fo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lr={...fo,transform:t=>gn(0,1,t)},hl={...fo,default:1},Hr=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=Hr("deg"),dn=Hr("%"),de=Hr("px"),lM=Hr("vh"),uM=Hr("vw"),cv={...dn,parse:t=>dn.parse(t)/100,transform:t=>dn.transform(t*100)},cM={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},fM={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:hl,scaleX:hl,scaleY:hl,scaleZ:hl,skew:di,skewX:di,skewY:di,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Lr,originX:cv,originY:cv,originZ:de},fv={...fo,transform:Math.round},Qd={...cM,...fM,zIndex:fv,size:de,fillOpacity:Lr,strokeOpacity:Lr,numOctaves:fv},dM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hM=co.length;function mM(t,e,n){let i="",r=!0;for(let l=0;l<hM;l++){const c=co[l],h=t[c];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(c.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||n){const m=kS(h,Qd[c]);if(!p){r=!1;const y=dM[c]||c;i+=`${y}(${m}) `}n&&(e[c]=m)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Zd(t,e,n){const{style:i,vars:r,transformOrigin:l}=t;let c=!1,h=!1;for(const p in e){const m=e[p];if(ji.has(p)){c=!0;continue}else if(IS(p)){r[p]=m;continue}else{const y=kS(m,Qd[p]);p.startsWith("origin")?(h=!0,l[p]=y):i[p]=y}}if(e.transform||(c||n?i.transform=mM(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:y=0}=l;i.transformOrigin=`${p} ${m} ${y}`}}const pM={offset:"stroke-dashoffset",array:"stroke-dasharray"},gM={offset:"strokeDashoffset",array:"strokeDasharray"};function yM(t,e,n=1,i=0,r=!0){t.pathLength=1;const l=r?pM:gM;t[l.offset]=de.transform(-i);const c=de.transform(e),h=de.transform(n);t[l.array]=`${c} ${h}`}function dv(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function vM(t,e,n){const i=dv(e,t.x,t.width),r=dv(n,t.y,t.height);return`${i} ${r}`}function eh(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:p=0,...m},y,T){if(Zd(t,m,T),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:C,dimensions:b}=t;S.transform&&(b&&(C.transform=S.transform),delete S.transform),b&&(r!==void 0||l!==void 0||C.transform)&&(C.transformOrigin=vM(b,r!==void 0?r:.5,l!==void 0?l:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),i!==void 0&&(S.scale=i),c!==void 0&&yM(S,c,h,p,!1)}const th=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),US=()=>({...th(),attrs:{}}),nh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function LS(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const l in n)t.style.setProperty(l,n[l])}const VS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OS(t,e,n,i){LS(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(VS.has(r)?r:Yd(r),e.attrs[r])}const Al={};function TM(t){Object.assign(Al,t)}function BS(t,{layout:e,layoutId:n}){return ji.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Al[t]||t==="opacity")}function ih(t,e,n){var i;const{style:r}=t,l={};for(const c in r)(yt(r[c])||e.style&&yt(e.style[c])||BS(c,t)||((i=n==null?void 0:n.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[c]=r[c]);return l}function qS(t,e,n){const i=ih(t,e,n);for(const r in t)if(yt(t[r])||yt(e[r])){const l=co.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[l]=t[r]}return i}function SM(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const hv=["x","y","width","height","cx","cy","r"],_M={useVisualState:NS({scrapeMotionValuesFromProps:qS,createRenderState:US,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in r)if(ji.has(h)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let h=0;h<hv.length;h++){const p=hv[h];t[p]!==e[p]&&(c=!0)}c&&Me.read(()=>{SM(n,i),Me.render(()=>{eh(i,r,nh(n.tagName),t.transformTemplate),OS(n,i)})})}})},CM={useVisualState:NS({scrapeMotionValuesFromProps:ih,createRenderState:th})};function HS(t,e,n){for(const i in e)!yt(e[i])&&!BS(i,n)&&(t[i]=e[i])}function xM({transformTemplate:t},e){return q.useMemo(()=>{const n=th();return Zd(n,e,t),Object.assign({},n.vars,n.style)},[e])}function EM(t,e){const n=t.style||{},i={};return HS(i,n,t),Object.assign(i,xM(t,e)),i}function wM(t,e){const n={},i=EM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function bM(t,e,n,i){const r=q.useMemo(()=>{const l=US();return eh(l,e,nh(i),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};HS(l,t.style,t),r.style={...l,...r.style}}return r}function AM(t=!1){return(n,i,r,{latestValues:l},c)=>{const p=(jd(n)?bM:wM)(i,l,c,n),m=GA(i,typeof n=="string",t),y=n!==q.Fragment?{...m,...p,ref:r}:{},{children:T}=i,S=q.useMemo(()=>yt(T)?T.get():T,[T]);return q.createElement(n,{...y,children:S})}}function MM(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const c={...jd(i)?_M:CM,preloadedFeatures:t,useRender:AM(r),createVisualElement:e,Component:i};return WA(c)}}function GS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Fl(t,e,n){const i=t.getProps();return Xd(i,e,n!==void 0?n:i.custom,t)}const zS=Fd(()=>window.ScrollTimeline!==void 0);class RM{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(zS()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,l)=>{r&&r(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class DM extends RM{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function sh(t,e){return t?t[e]||t.default||t:void 0}const td=2e4;function FS(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<td;)e+=n,i=t.next(e);return e>=td?1/0:e}function oh(t){return typeof t=="function"}function mv(t,e){t.timeline=e,t.onfinish=null}const rh=t=>Array.isArray(t)&&typeof t[0]=="number",NM={linearEasing:void 0};function PM(t,e){const n=Fd(t);return()=>{var i;return(i=NM[e])!==null&&i!==void 0?i:n()}}const Ml=PM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$S=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let l=0;l<r;l++)i+=t(Ji(0,r-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function JS(t){return!!(typeof t=="function"&&Ml()||!t||typeof t=="string"&&(t in nd||Ml())||rh(t)||Array.isArray(t)&&t.every(JS))}const xr=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,nd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xr([0,.65,.55,1]),circOut:xr([.55,0,1,.45]),backIn:xr([.31,.01,.66,-.59]),backOut:xr([.33,1.53,.69,.99])};function YS(t,e){if(t)return typeof t=="function"&&Ml()?$S(t,e):rh(t)?xr(t):Array.isArray(t)?t.map(n=>YS(n,e)||nd.easeOut):nd[t]}const tn={x:!1,y:!1};function KS(){return tn.x||tn.y}function jS(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const l=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function XS(t,e){const n=jS(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function pv(t){return e=>{e.pointerType==="touch"||KS()||t(e)}}function IM(t,e,n={}){const[i,r,l]=XS(t,n),c=pv(h=>{const{target:p}=h,m=e(h);if(typeof m!="function"||!p)return;const y=pv(T=>{m(T),p.removeEventListener("pointerleave",y)});p.addEventListener("pointerleave",y,r)});return i.forEach(h=>{h.addEventListener("pointerenter",c,r)}),l}const WS=(t,e)=>e?t===e?!0:WS(t,e.parentElement):!1,ah=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UM(t){return kM.has(t.tagName)||t.tabIndex!==-1}const Er=new WeakSet;function gv(t){return e=>{e.key==="Enter"&&t(e)}}function wf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LM=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=gv(()=>{if(Er.has(n))return;wf(n,"down");const r=gv(()=>{wf(n,"up")}),l=()=>wf(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function yv(t){return ah(t)&&!KS()}function VM(t,e,n={}){const[i,r,l]=XS(t,n),c=h=>{const p=h.currentTarget;if(!yv(h)||Er.has(p))return;Er.add(p);const m=e(h),y=(C,b)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),!(!yv(C)||!Er.has(p))&&(Er.delete(p),typeof m=="function"&&m(C,{success:b}))},T=C=>{y(C,n.useGlobalTarget||WS(p,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",T,r),window.addEventListener("pointercancel",S,r)};return i.forEach(h=>{!UM(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),h.addEventListener("focus",m=>LM(m,r),r)}),l}function OM(t){return t==="x"||t==="y"?tn[t]?null:(tn[t]=!0,()=>{tn[t]=!1}):tn.x||tn.y?null:(tn.x=tn.y=!0,()=>{tn.x=tn.y=!1})}const QS=new Set(["width","height","top","left","right","bottom",...co]);let vl;function BM(){vl=void 0}const hn={now:()=>(vl===void 0&&hn.set(lt.isProcessing||LA.useManualTiming?lt.timestamp:performance.now()),vl),set:t=>{vl=t,queueMicrotask(BM)}};function lh(t,e){t.indexOf(e)===-1&&t.push(e)}function uh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ch{constructor(){this.subscriptions=[]}add(e){return lh(this.subscriptions,e),()=>uh(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function fh(t,e){return e?t*(1e3/e):0}const vv=30,qM=t=>!isNaN(parseFloat(t));class HM{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const l=hn.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ch);const i=this.events[e].add(n);return e==="change"?()=>{i(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vv);return fh(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Un(t,e){return new HM(t,e)}function GM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Un(n))}function zM(t,e){const n=Fl(t,e);let{transitionEnd:i={},transition:r={},...l}=n||{};l={...l,...i};for(const c in l){const h=iM(l[c]);GM(t,c,h)}}function FM(t){return!!(yt(t)&&t.add)}function id(t,e){const n=t.getValue("willChange");if(FM(n))return n.add(e)}function ZS(t){return t.props[MS]}const e_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$M=1e-7,JM=12;function YM(t,e,n,i,r){let l,c,h=0;do c=e+(n-e)/2,l=e_(c,i,r)-t,l>0?n=c:e=c;while(Math.abs(l)>$M&&++h<JM);return c}function Gr(t,e,n,i){if(t===e&&n===i)return _t;const r=l=>YM(l,0,1,t,n);return l=>l===0||l===1?l:e_(r(l),e,i)}const t_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,n_=t=>e=>1-t(1-e),i_=Gr(.33,1.53,.69,.99),dh=n_(i_),s_=t_(dh),o_=t=>(t*=2)<1?.5*dh(t):.5*(2-Math.pow(2,-10*(t-1))),hh=t=>1-Math.sin(Math.acos(t)),r_=n_(hh),a_=t_(hh),l_=t=>/^0[^.\s]+$/u.test(t);function KM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||l_(t):!0}const Mr=t=>Math.round(t*1e5)/1e5,mh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jM(t){return t==null}const XM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ph=(t,e)=>n=>!!(typeof n=="string"&&XM.test(n)&&n.startsWith(t)||e&&!jM(n)&&Object.prototype.hasOwnProperty.call(n,e)),u_=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,l,c,h]=i.match(mh);return{[t]:parseFloat(r),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},WM=t=>gn(0,255,t),bf={...fo,transform:t=>Math.round(WM(t))},Fi={test:ph("rgb","red"),parse:u_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+bf.transform(t)+", "+bf.transform(e)+", "+bf.transform(n)+", "+Mr(Lr.transform(i))+")"};function QM(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const sd={test:ph("#"),parse:QM,transform:Fi.transform},Ws={test:ph("hsl","hue"),parse:u_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+dn.transform(Mr(e))+", "+dn.transform(Mr(n))+", "+Mr(Lr.transform(i))+")"},gt={test:t=>Fi.test(t)||sd.test(t)||Ws.test(t),parse:t=>Fi.test(t)?Fi.parse(t):Ws.test(t)?Ws.parse(t):sd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fi.transform(t):Ws.transform(t)},ZM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eR(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ZM))===null||n===void 0?void 0:n.length)||0)>0}const c_="number",f_="color",tR="var",nR="var(",Tv="${}",iR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vr(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let l=0;const h=e.replace(iR,p=>(gt.test(p)?(i.color.push(l),r.push(f_),n.push(gt.parse(p))):p.startsWith(nR)?(i.var.push(l),r.push(tR),n.push(p)):(i.number.push(l),r.push(c_),n.push(parseFloat(p))),++l,Tv)).split(Tv);return{values:n,split:h,indexes:i,types:r}}function d_(t){return Vr(t).values}function h_(t){const{split:e,types:n}=Vr(t),i=e.length;return r=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],r[c]!==void 0){const h=n[c];h===c_?l+=Mr(r[c]):h===f_?l+=gt.transform(r[c]):l+=r[c]}return l}}const sR=t=>typeof t=="number"?0:t;function oR(t){const e=d_(t);return h_(t)(e.map(sR))}const gi={test:eR,parse:d_,createTransformer:h_,getAnimatableNone:oR},rR=new Set(["brightness","contrast","saturate","opacity"]);function aR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(mh)||[];if(!i)return t;const r=n.replace(i,"");let l=rR.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+r+")"}const lR=/\b([a-z-]*)\(.*?\)/gu,od={...gi,getAnimatableNone:t=>{const e=t.match(lR);return e?e.map(aR).join(" "):t}},uR={...Qd,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:od,WebkitFilter:od},gh=t=>uR[t];function m_(t,e){let n=gh(t);return n!==od&&(n=gi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cR=new Set(["auto","none","0"]);function fR(t,e,n){let i=0,r;for(;i<t.length&&!r;){const l=t[i];typeof l=="string"&&!cR.has(l)&&Vr(l).values.length&&(r=t[i]),i++}if(r&&n)for(const l of e)t[l]=m_(n,r)}const Sv=t=>t===fo||t===de,_v=(t,e)=>parseFloat(t.split(", ")[e]),Cv=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return _v(r[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?_v(l[1],t):0}},dR=new Set(["x","y","z"]),hR=co.filter(t=>!dR.has(t));function mR(t){const e=[];return hR.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const lo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Cv(4,13),y:Cv(5,14)};lo.translateX=lo.x;lo.translateY=lo.y;const $i=new Set;let rd=!1,ad=!1;function p_(){if(ad){const t=Array.from($i).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=mR(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([l,c])=>{var h;(h=i.getValue(l))===null||h===void 0||h.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ad=!1,rd=!1,$i.forEach(t=>t.complete()),$i.clear()}function g_(){$i.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ad=!0)})}function pR(){g_(),p_()}class yh{constructor(e,n,i,r,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?($i.add(this),rd||(rd=!0,Me.read(g_),Me.resolveKeyframes(p_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=r==null?void 0:r.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const p=i.readValue(n,h);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=h),r&&c===void 0&&r.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$i.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$i.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const y_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),gR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yR(t){const e=gR.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function v_(t,e,n=1){const[i,r]=yR(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return y_(c)?parseFloat(c):c}return Wd(r)?v_(r,e,n+1):r}const T_=t=>e=>e.test(t),vR={test:t=>t==="auto",parse:t=>t},S_=[fo,de,dn,di,uM,lM,vR],xv=t=>S_.find(T_(t));class __ extends yh{constructor(e,n,i,r,l){super(e,n,i,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),Wd(m))){const y=v_(m,n.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!QS.has(i)||e.length!==2)return;const[r,l]=e,c=xv(r),h=xv(l);if(c!==h)if(Sv(c)&&Sv(h))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)KM(e[r])&&i.push(r);i.length&&fR(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const c=r.length-1,h=r[c];r[c]=lo[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,m])=>{n.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const Ev=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gi.test(t)||t==="0")&&!t.startsWith("url("));function TR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function SR(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Ev(r,e),h=Ev(l,e);return!c||!h?!1:TR(t)||(n==="spring"||oh(n))&&i}const _R=t=>t!==null;function $l(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(_R),l=e&&n!=="loop"&&e%2===1?0:r.length-1;return!l||i===void 0?r[l]:i}const CR=40;class C_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&pR(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=hn.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:l,delay:c,onComplete:h,onUpdate:p,isGenerator:m}=this.options;if(!m&&!SR(e,i,r,l))if(c)this.options.duration=0;else{p&&p($l(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Fe=(t,e,n)=>t+(e-t)*n;function Af(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xR({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,l=0,c=0;if(!e)r=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,p=2*n-h;r=Af(p,h,t+1/3),l=Af(p,h,t),c=Af(p,h,t-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Rl(t,e){return n=>n>0?e:t}const Mf=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},ER=[sd,Fi,Ws],wR=t=>ER.find(e=>e.test(t));function wv(t){const e=wR(t);if(!e)return!1;let n=e.parse(t);return e===Ws&&(n=xR(n)),n}const bv=(t,e)=>{const n=wv(t),i=wv(e);if(!n||!i)return Rl(t,e);const r={...n};return l=>(r.red=Mf(n.red,i.red,l),r.green=Mf(n.green,i.green,l),r.blue=Mf(n.blue,i.blue,l),r.alpha=Fe(n.alpha,i.alpha,l),Fi.transform(r))},bR=(t,e)=>n=>e(t(n)),zr=(...t)=>t.reduce(bR),ld=new Set(["none","hidden"]);function AR(t,e){return ld.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MR(t,e){return n=>Fe(t,e,n)}function vh(t){return typeof t=="number"?MR:typeof t=="string"?Wd(t)?Rl:gt.test(t)?bv:NR:Array.isArray(t)?x_:typeof t=="object"?gt.test(t)?bv:RR:Rl}function x_(t,e){const n=[...t],i=n.length,r=t.map((l,c)=>vh(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=r[c](l);return n}}function RR(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=vh(t[r])(t[r],e[r]));return r=>{for(const l in i)n[l]=i[l](r);return n}}function DR(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],h=t.indexes[c][r[c]],p=(n=t.values[h])!==null&&n!==void 0?n:0;i[l]=p,r[c]++}return i}const NR=(t,e)=>{const n=gi.createTransformer(e),i=Vr(t),r=Vr(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?ld.has(t)&&!r.values.length||ld.has(e)&&!i.values.length?AR(t,e):zr(x_(DR(i,r),r.values),n):Rl(t,e)};function E_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fe(t,e,n):vh(t)(t,e)}const PR=5;function w_(t,e,n){const i=Math.max(e-PR,0);return fh(n-t(i),e-i)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rf=.001;function IR({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:i=Ye.mass}){let r,l,c=1-e;c=gn(Ye.minDamping,Ye.maxDamping,c),t=gn(Ye.minDuration,Ye.maxDuration,Vn(t)),c<1?(r=m=>{const y=m*c,T=y*t,S=y-n,C=ud(m,c),b=Math.exp(-T);return Rf-S/C*b},l=m=>{const T=m*c*t,S=T*n+n,C=Math.pow(c,2)*Math.pow(m,2)*t,b=Math.exp(-T),E=ud(Math.pow(m,2),c);return(-r(m)+Rf>0?-1:1)*((S-C)*b)/E}):(r=m=>{const y=Math.exp(-m*t),T=(m-n)*t+1;return-Rf+y*T},l=m=>{const y=Math.exp(-m*t),T=(n-m)*(t*t);return y*T});const h=5/t,p=UR(r,l,h);if(t=Ln(t),isNaN(p))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const m=Math.pow(p,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const kR=12;function UR(t,e,n){let i=n;for(let r=1;r<kR;r++)i=i-t(i)/e(i);return i}function ud(t,e){return t*Math.sqrt(1-e*e)}const LR=["duration","bounce"],VR=["stiffness","damping","mass"];function Av(t,e){return e.some(n=>t[n]!==void 0)}function OR(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!Av(t,VR)&&Av(t,LR))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,l=2*gn(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ye.mass,stiffness:r,damping:l}}else{const n=IR(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function b_(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:y,duration:T,velocity:S,isResolvedFromDuration:C}=OR({...n,velocity:-Vn(n.velocity||0)}),b=S||0,E=m/(2*Math.sqrt(p*y)),A=c-l,R=Vn(Math.sqrt(p/y)),k=Math.abs(A)<5;i||(i=k?Ye.restSpeed.granular:Ye.restSpeed.default),r||(r=k?Ye.restDelta.granular:Ye.restDelta.default);let D;if(E<1){const N=ud(R,E);D=V=>{const z=Math.exp(-E*R*V);return c-z*((b+E*R*A)/N*Math.sin(N*V)+A*Math.cos(N*V))}}else if(E===1)D=N=>c-Math.exp(-R*N)*(A+(b+R*A)*N);else{const N=R*Math.sqrt(E*E-1);D=V=>{const z=Math.exp(-E*R*V),j=Math.min(N*V,300);return c-z*((b+E*R*A)*Math.sinh(j)+N*A*Math.cosh(j))/N}}const L={calculatedDuration:C&&T||null,next:N=>{const V=D(N);if(C)h.done=N>=T;else{let z=0;E<1&&(z=N===0?Ln(b):w_(D,N,V));const j=Math.abs(z)<=i,J=Math.abs(c-V)<=r;h.done=j&&J}return h.value=h.done?c:V,h},toString:()=>{const N=Math.min(FS(L),td),V=$S(z=>L.next(N*z).value,N,30);return N+"ms "+V}};return L}function Mv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:p,restDelta:m=.5,restSpeed:y}){const T=t[0],S={done:!1,value:T},C=j=>h!==void 0&&j<h||p!==void 0&&j>p,b=j=>h===void 0?p:p===void 0||Math.abs(h-j)<Math.abs(p-j)?h:p;let E=n*e;const A=T+E,R=c===void 0?A:c(A);R!==A&&(E=R-T);const k=j=>-E*Math.exp(-j/i),D=j=>R+k(j),L=j=>{const J=k(j),Q=D(j);S.done=Math.abs(J)<=m,S.value=S.done?R:Q};let N,V;const z=j=>{C(S.value)&&(N=j,V=b_({keyframes:[S.value,b(S.value)],velocity:w_(D,j,S.value),damping:r,stiffness:l,restDelta:m,restSpeed:y}))};return z(0),{calculatedDuration:null,next:j=>{let J=!1;return!V&&N===void 0&&(J=!0,L(j),z(j)),N!==void 0&&j>=N?V.next(j-N):(!J&&L(j),S)}}}const BR=Gr(.42,0,1,1),qR=Gr(0,0,.58,1),A_=Gr(.42,0,.58,1),HR=t=>Array.isArray(t)&&typeof t[0]!="number",GR={linear:_t,easeIn:BR,easeInOut:A_,easeOut:qR,circIn:hh,circInOut:a_,circOut:r_,backIn:dh,backInOut:s_,backOut:i_,anticipate:o_},Rv=t=>{if(rh(t)){xS(t.length===4);const[e,n,i,r]=t;return Gr(e,n,i,r)}else if(typeof t=="string")return GR[t];return t};function zR(t,e,n){const i=[],r=n||E_,l=t.length-1;for(let c=0;c<l;c++){let h=r(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||_t:e;h=zr(p,h)}i.push(h)}return i}function M_(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const l=t.length;if(xS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=zR(e,i,r),p=h.length,m=y=>{if(c&&y<t[0])return e[0];let T=0;if(p>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const S=Ji(t[T],t[T+1],y);return h[T](S)};return n?y=>m(gn(t[0],t[l-1],y)):m}function FR(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Ji(0,e,i);t.push(Fe(n,1,r))}}function R_(t){const e=[0];return FR(e,t.length-1),e}function $R(t,e){return t.map(n=>n*e)}function JR(t,e){return t.map(()=>e||A_).splice(0,t.length-1)}function Dl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=HR(i)?i.map(Rv):Rv(i),l={done:!1,value:e[0]},c=$R(n&&n.length===e.length?n:R_(e),t),h=M_(c,e,{ease:Array.isArray(r)?r:JR(e,r)});return{calculatedDuration:t,next:p=>(l.value=h(p),l.done=p>=t,l)}}const YR=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Me.update(e,!0),stop:()=>pn(e),now:()=>lt.isProcessing?lt.timestamp:hn.now()}},KR={decay:Mv,inertia:Mv,tween:Dl,keyframes:Dl,spring:b_},jR=t=>t/100;class Th extends C_{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:n,motionValue:i,element:r,keyframes:l}=this.options,c=(r==null?void 0:r.KeyframeResolver)||yh,h=(p,m)=>this.onKeyframesResolved(p,m);this.resolver=new c(l,h,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=this.options,h=oh(n)?n:KR[n]||Dl;let p,m;h!==Dl&&typeof e[0]!="number"&&(p=zr(jR,E_(e[0],e[1])),e=[0,100]);const y=h({...this.options,keyframes:e});l==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=FS(y));const{calculatedDuration:T}=y,S=T+r,C=S*(i+1)-r;return{generator:y,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:T,resolvedDuration:S,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:r,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:p,calculatedDuration:m,totalDuration:y,resolvedDuration:T}=i;if(this.startTime===null)return l.next(0);const{delay:S,repeat:C,repeatType:b,repeatDelay:E,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-S*(this.speed>=0?1:-1),k=this.speed>=0?R<0:R>y;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let D=this.currentTime,L=l;if(C){const j=Math.min(this.currentTime,y)/T;let J=Math.floor(j),Q=j%1;!Q&&j>=1&&(Q=1),Q===1&&J--,J=Math.min(J,C+1),!!(J%2)&&(b==="reverse"?(Q=1-Q,E&&(Q-=E/T)):b==="mirror"&&(L=c)),D=gn(0,1,Q)*T}const N=k?{done:!1,value:p[0]}:L.next(D);h&&(N.value=h(N.value));let{done:V}=N;!k&&m!==null&&(V=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return z&&r!==void 0&&(N.value=$l(p,this.options,r)),A&&A(N.value),z&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Vn(e.calculatedDuration):0}get time(){return Vn(this.currentTime)}set time(e){e=Ln(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=YR,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const XR=new Set(["opacity","clipPath","filter","transform"]);function WR(t,e,n,{delay:i=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:p}={}){const m={[e]:n};p&&(m.offset=p);const y=YS(h,r);return Array.isArray(y)&&(m.easing=y),t.animate(m,{delay:i,duration:r,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const QR=Fd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nl=10,ZR=2e4;function e1(t){return oh(t.type)||t.type==="spring"||!JS(t.ease)}function t1(t,e){const n=new Th({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let l=0;for(;!i.done&&l<ZR;)i=n.sample(l),r.push(i.value),l+=Nl;return{times:void 0,keyframes:r,duration:l-Nl,ease:"linear"}}const D_={anticipate:o_,backInOut:s_,circInOut:a_};function n1(t){return t in D_}class Dv extends C_{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:l}=this.options;this.resolver=new __(l,(c,h)=>this.onKeyframesResolved(c,h),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:l,type:c,motionValue:h,name:p,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Ml()&&n1(l)&&(l=D_[l]),e1(this.options)){const{onComplete:T,onUpdate:S,motionValue:C,element:b,...E}=this.options,A=t1(e,E);e=A.keyframes,e.length===1&&(e[1]=e[0]),i=A.duration,r=A.times,l=A.ease,c="keyframes"}const y=WR(h.owner.current,p,e,{...this.options,duration:i,times:r,ease:l});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(mv(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:T}=this.options;h.set($l(e,this.options,n)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:r,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Vn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Vn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ln(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return _t;const{animation:i}=n;mv(i,e)}return _t}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:l,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:y,onComplete:T,element:S,...C}=this.options,b=new Th({...C,keyframes:i,duration:r,type:l,ease:c,times:h,isGenerator:!0}),E=Ln(this.time);m.setWithVelocity(b.sample(E-Nl).value,b.sample(E).value,Nl)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:l,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=n.owner.getProps();return QR()&&i&&XR.has(i)&&!p&&!m&&!r&&l!=="mirror"&&c!==0&&h!=="inertia"}}const i1={type:"spring",stiffness:500,damping:25,restSpeed:10},s1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),o1={type:"keyframes",duration:.8},r1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a1=(t,{keyframes:e})=>e.length>2?o1:ji.has(t)?t.startsWith("scale")?s1(e[1]):i1:r1;function l1({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:h,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const Sh=(t,e,n,i={},r,l)=>c=>{const h=sh(i,t)||{},p=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ln(p);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:S=>{e.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:r};l1(h)||(y={...y,...a1(t,y)}),y.duration&&(y.duration=Ln(y.duration)),y.repeatDelay&&(y.repeatDelay=Ln(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(T=!0)),T&&!l&&e.get()!==void 0){const S=$l(y.keyframes,h);if(S!==void 0)return Me.update(()=>{y.onUpdate(S),y.onComplete()}),new DM([])}return!l&&Dv.supports(y)?new Dv(y):new Th(y)};function u1({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function N_(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:h,...p}=e;i&&(c=i);const m=[],y=r&&t.animationState&&t.animationState.getState()[r];for(const T in p){const S=t.getValue(T,(l=t.latestValues[T])!==null&&l!==void 0?l:null),C=p[T];if(C===void 0||y&&u1(y,T))continue;const b={delay:n,...sh(c||{},T)};let E=!1;if(window.MotionHandoffAnimation){const R=ZS(t);if(R){const k=window.MotionHandoffAnimation(R,T,Me);k!==null&&(b.startTime=k,E=!0)}}id(t,T),S.start(Sh(T,S,C,t.shouldReduceMotion&&QS.has(T)?{type:!1}:b,t,E));const A=S.animation;A&&m.push(A)}return h&&Promise.all(m).then(()=>{Me.update(()=>{h&&zM(t,h)})}),m}function cd(t,e,n={}){var i;const r=Fl(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(l=n.transitionOverride);const c=r?()=>Promise.all(N_(t,r,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:T,staggerDirection:S}=l;return c1(t,e,y+m,T,S,n)}:()=>Promise.resolve(),{when:p}=l;if(p){const[m,y]=p==="beforeChildren"?[c,h]:[h,c];return m().then(()=>y())}else return Promise.all([c(),h(n.delay)])}function c1(t,e,n=0,i=0,r=1,l){const c=[],h=(t.variantChildren.size-1)*i,p=r===1?(m=0)=>m*i:(m=0)=>h-m*i;return Array.from(t.variantChildren).sort(f1).forEach((m,y)=>{m.notify("AnimationStart",e),c.push(cd(m,e,{...l,delay:n+p(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function f1(t,e){return t.sortNodePosition(e)}function d1(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(l=>cd(t,l,n));i=Promise.all(r)}else if(typeof e=="string")i=cd(t,e,n);else{const r=typeof e=="function"?Fl(t,e,n.custom):e;i=Promise.all(N_(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const h1=Jd.length;function P_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?P_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<h1;n++){const i=Jd[n],r=t.props[i];(Ur(r)||r===!1)&&(e[i]=r)}return e}const m1=[...$d].reverse(),p1=$d.length;function g1(t){return e=>Promise.all(e.map(({animation:n,options:i})=>d1(t,n,i)))}function y1(t){let e=g1(t),n=Nv(),i=!0;const r=p=>(m,y)=>{var T;const S=Fl(t,y,p==="exit"?(T=t.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(S){const{transition:C,transitionEnd:b,...E}=S;m={...m,...E,...b}}return m};function l(p){e=p(t)}function c(p){const{props:m}=t,y=P_(t.parent)||{},T=[],S=new Set;let C={},b=1/0;for(let A=0;A<p1;A++){const R=m1[A],k=n[R],D=m[R]!==void 0?m[R]:y[R],L=Ur(D),N=R===p?k.isActive:null;N===!1&&(b=A);let V=D===y[R]&&D!==m[R]&&L;if(V&&i&&t.manuallyAnimateOnMount&&(V=!1),k.protectedKeys={...C},!k.isActive&&N===null||!D&&!k.prevProp||Gl(D)||typeof D=="boolean")continue;const z=v1(k.prevProp,D);let j=z||R===p&&k.isActive&&!V&&L||A>b&&L,J=!1;const Q=Array.isArray(D)?D:[D];let Z=Q.reduce(r(R),{});N===!1&&(Z={});const{prevResolvedValues:ne={}}=k,Pe={...ne,...Z},ue=X=>{j=!0,S.has(X)&&(J=!0,S.delete(X)),k.needsAnimating[X]=!0;const ie=t.getValue(X);ie&&(ie.liveStyle=!1)};for(const X in Pe){const ie=Z[X],xe=ne[X];if(C.hasOwnProperty(X))continue;let P=!1;ed(ie)&&ed(xe)?P=!GS(ie,xe):P=ie!==xe,P?ie!=null?ue(X):S.add(X):ie!==void 0&&S.has(X)?ue(X):k.protectedKeys[X]=!0}k.prevProp=D,k.prevResolvedValues=Z,k.isActive&&(C={...C,...Z}),i&&t.blockInitialAnimation&&(j=!1),j&&(!(V&&z)||J)&&T.push(...Q.map(X=>({animation:X,options:{type:R}})))}if(S.size){const A={};S.forEach(R=>{const k=t.getBaseTarget(R),D=t.getValue(R);D&&(D.liveStyle=!0),A[R]=k??null}),T.push({animation:A})}let E=!!T.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(T):Promise.resolve()}function h(p,m){var y;if(n[p].isActive===m)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(S=>{var C;return(C=S.animationState)===null||C===void 0?void 0:C.setActive(p,m)}),n[p].isActive=m;const T=c(p);for(const S in n)n[S].protectedKeys={};return T}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Nv(),i=!0}}}function v1(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GS(e,t):!1}function Bi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nv(){return{animate:Bi(!0),whileInView:Bi(),whileHover:Bi(),whileTap:Bi(),whileDrag:Bi(),whileFocus:Bi(),exit:Bi()}}class vi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class T1 extends vi{constructor(e){super(e),e.animationState||(e.animationState=y1(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let S1=0;class _1 extends vi{constructor(){super(...arguments),this.id=S1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const C1={animation:{Feature:T1},exit:{Feature:_1}};function Or(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Fr(t){return{point:{x:t.pageX,y:t.pageY}}}const x1=t=>e=>ah(e)&&t(e,Fr(e));function Rr(t,e,n,i){return Or(t,e,x1(n),i)}const Pv=(t,e)=>Math.abs(t-e);function E1(t,e){const n=Pv(t.x,e.x),i=Pv(t.y,e.y);return Math.sqrt(n**2+i**2)}class I_{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Nf(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=E1(T.offset,{x:0,y:0})>=3;if(!S&&!C)return;const{point:b}=T,{timestamp:E}=lt;this.history.push({...b,timestamp:E});const{onStart:A,onMove:R}=this.handlers;S||(A&&A(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Df(S,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:C,onSessionEnd:b,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Nf(T.type==="pointercancel"?this.lastMoveEventInfo:Df(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(T,A),b&&b(T,A)},!ah(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const c=Fr(e),h=Df(c,this.transformPagePoint),{point:p}=h,{timestamp:m}=lt;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,Nf(h,this.history)),this.removeListeners=zr(Rr(this.contextWindow,"pointermove",this.handlePointerMove),Rr(this.contextWindow,"pointerup",this.handlePointerUp),Rr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pn(this.updatePoint)}}function Df(t,e){return e?{point:e(t.point)}:t}function Iv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nf({point:t},e){return{point:t,delta:Iv(t,k_(e)),offset:Iv(t,w1(e)),velocity:b1(e,.1)}}function w1(t){return t[0]}function k_(t){return t[t.length-1]}function b1(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=k_(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ln(e)));)n--;if(!i)return{x:0,y:0};const l=Vn(r.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-i.x)/l,y:(r.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const U_=1e-4,A1=1-U_,M1=1+U_,L_=.01,R1=0-L_,D1=0+L_;function Ot(t){return t.max-t.min}function N1(t,e,n){return Math.abs(t-e)<=n}function kv(t,e,n,i=.5){t.origin=i,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=Ot(n)/Ot(e),t.translate=Fe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=A1&&t.scale<=M1||isNaN(t.scale))&&(t.scale=1),(t.translate>=R1&&t.translate<=D1||isNaN(t.translate))&&(t.translate=0)}function Dr(t,e,n,i){kv(t.x,e.x,n.x,i?i.originX:void 0),kv(t.y,e.y,n.y,i?i.originY:void 0)}function Uv(t,e,n){t.min=n.min+e.min,t.max=t.min+Ot(e)}function P1(t,e,n){Uv(t.x,e.x,n.x),Uv(t.y,e.y,n.y)}function Lv(t,e,n){t.min=e.min-n.min,t.max=t.min+Ot(e)}function Nr(t,e,n){Lv(t.x,e.x,n.x),Lv(t.y,e.y,n.y)}function I1(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Fe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Fe(n,t,i.max):Math.min(t,n)),t}function Vv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function k1(t,{top:e,left:n,bottom:i,right:r}){return{x:Vv(t.x,n,r),y:Vv(t.y,e,i)}}function Ov(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function U1(t,e){return{x:Ov(t.x,e.x),y:Ov(t.y,e.y)}}function L1(t,e){let n=.5;const i=Ot(t),r=Ot(e);return r>i?n=Ji(e.min,e.max-i,t.min):i>r&&(n=Ji(t.min,t.max-r,e.min)),gn(0,1,n)}function V1(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fd=.35;function O1(t=fd){return t===!1?t=0:t===!0&&(t=fd),{x:Bv(t,"left","right"),y:Bv(t,"top","bottom")}}function Bv(t,e,n){return{min:qv(t,e),max:qv(t,n)}}function qv(t,e){return typeof t=="number"?t:t[e]||0}const Hv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qs=()=>({x:Hv(),y:Hv()}),Gv=()=>({min:0,max:0}),Xe=()=>({x:Gv(),y:Gv()});function jt(t){return[t("x"),t("y")]}function V_({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function B1({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function q1(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Pf(t){return t===void 0||t===1}function dd({scale:t,scaleX:e,scaleY:n}){return!Pf(t)||!Pf(e)||!Pf(n)}function Hi(t){return dd(t)||O_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function O_(t){return zv(t.x)||zv(t.y)}function zv(t){return t&&t!=="0%"}function Pl(t,e,n){const i=t-n,r=e*i;return n+r}function Fv(t,e,n,i,r){return r!==void 0&&(t=Pl(t,r,i)),Pl(t,n,i)+e}function hd(t,e=0,n=1,i,r){t.min=Fv(t.min,e,n,i,r),t.max=Fv(t.max,e,n,i,r)}function B_(t,{x:e,y:n}){hd(t.x,e.translate,e.scale,e.originPoint),hd(t.y,n.translate,n.scale,n.originPoint)}const $v=.999999999999,Jv=1.0000000000001;function H1(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let l,c;for(let h=0;h<r;h++){l=n[h],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&eo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,B_(t,c)),i&&Hi(l.latestValues)&&eo(t,l.latestValues))}e.x<Jv&&e.x>$v&&(e.x=1),e.y<Jv&&e.y>$v&&(e.y=1)}function Zs(t,e){t.min=t.min+e,t.max=t.max+e}function Yv(t,e,n,i,r=.5){const l=Fe(t.min,t.max,r);hd(t,e,n,l,i)}function eo(t,e){Yv(t.x,e.x,e.scaleX,e.scale,e.originX),Yv(t.y,e.y,e.scaleY,e.scale,e.originY)}function q_(t,e){return V_(q1(t.getBoundingClientRect(),e))}function G1(t,e,n){const i=q_(t,n),{scroll:r}=e;return r&&(Zs(i.x,r.offset.x),Zs(i.y,r.offset.y)),i}const H_=({current:t})=>t?t.ownerDocument.defaultView:null,z1=new WeakMap;class F1{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=y=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fr(y).point)},l=(y,T)=>{const{drag:S,dragPropagation:C,onDragStart:b}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OM(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jt(A=>{let R=this.getAxisMotionValue(A).get()||0;if(dn.test(R)){const{projection:k}=this.visualElement;if(k&&k.layout){const D=k.layout.layoutBox[A];D&&(R=Ot(D)*(parseFloat(R)/100))}}this.originPoint[A]=R}),b&&Me.postRender(()=>b(y,T)),id(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(y,T)=>{const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:b,onDrag:E}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:A}=T;if(C&&this.currentDirection===null){this.currentDirection=$1(A),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",T.point,A),this.updateAxis("y",T.point,A),this.visualElement.render(),E&&E(y,T)},h=(y,T)=>this.stop(y,T),p=()=>jt(y=>{var T;return this.getAnimationState(y)==="paused"&&((T=this.getAxisMotionValue(y).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new I_(e,{onSessionStart:r,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:H_(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&Me.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!ml(e,r,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=I1(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Xs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=k1(r.layoutBox,n):this.constraints=!1,this.elastic=O1(i),l!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=V1(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xs(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=G1(i,r.root,this.visualElement.getTransformPagePoint());let c=U1(r.layout.layoutBox,l);if(n){const h=n(B1(c));this.hasMutatedConstraints=!!h,h&&(c=V_(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=jt(y=>{if(!ml(y,n,this.currentDirection))return;let T=p&&p[y]||{};c&&(T={min:0,max:0});const S=r?200:1e6,C=r?40:1e7,b={type:"inertia",velocity:i?e[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,b)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return id(this.visualElement,e),i.start(Sh(e,i,0,n,this.visualElement,!1))}stopAnimation(){jt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){jt(n=>{const{drag:i}=this.getProps();if(!ml(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[n];l.set(e[n]-Fe(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xs(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};jt(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();r[c]=L1({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),jt(c=>{if(!ml(c,e,null))return;const h=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];h.set(Fe(p,m,r[c]))})}addListeners(){if(!this.visualElement.current)return;z1.set(this.visualElement,this);const e=this.visualElement.current,n=Rr(e,"pointerdown",p=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Xs(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Me.read(i);const c=Or(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(jt(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=p[y].translate,T.set(T.get()+p[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=fd,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function ml(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $1(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class J1 extends vi{constructor(e){super(e),this.removeGroupControls=_t,this.removeListeners=_t,this.controls=new F1(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_t}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kv=t=>(e,n)=>{t&&Me.postRender(()=>t(e,n))};class Y1 extends vi{constructor(){super(...arguments),this.removePointerDownListener=_t}onPointerDown(e){this.session=new I_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:H_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Kv(e),onStart:Kv(n),onMove:i,onEnd:(l,c)=>{delete this.session,r&&Me.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=Rr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=jv(t,e.target.x),i=jv(t,e.target.y);return`${n}% ${i}%`}},K1={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=gi.parse(t);if(r.length>5)return i;const l=gi.createTransformer(t),c=typeof r[0]!="number"?1:0,h=n.x.scale*e.x,p=n.y.scale*e.y;r[0+c]/=h,r[1+c]/=p;const m=Fe(h,p,.5);return typeof r[2+c]=="number"&&(r[2+c]/=m),typeof r[3+c]=="number"&&(r[3+c]/=m),l(r)}};class j1 extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:l}=e;TM(X1),l&&(n.group&&n.group.add(l),i&&i.register&&r&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Tl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,r||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Me.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Kd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function G_(t){const[e,n]=CS(),i=q.useContext(qd);return x.jsx(j1,{...t,layoutGroup:i,switchLayoutGroup:q.useContext(RS),isPresent:e,safeToRemove:n})}const X1={borderRadius:{...Tr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tr,borderTopRightRadius:Tr,borderBottomLeftRadius:Tr,borderBottomRightRadius:Tr,boxShadow:K1};function W1(t,e,n){const i=yt(t)?t:Un(t);return i.start(Sh("",i,e,n)),i.animation}function Q1(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Z1=(t,e)=>t.depth-e.depth;class eD{constructor(){this.children=[],this.isDirty=!1}add(e){lh(this.children,e),this.isDirty=!0}remove(e){uh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Z1),this.isDirty=!1,this.children.forEach(e)}}function tD(t,e){const n=hn.now(),i=({timestamp:r})=>{const l=r-n;l>=e&&(pn(i),t(l-e))};return Me.read(i,!0),()=>pn(i)}const z_=["TopLeft","TopRight","BottomLeft","BottomRight"],nD=z_.length,Xv=t=>typeof t=="string"?parseFloat(t):t,Wv=t=>typeof t=="number"||de.test(t);function iD(t,e,n,i,r,l){r?(t.opacity=Fe(0,n.opacity!==void 0?n.opacity:1,sD(i)),t.opacityExit=Fe(e.opacity!==void 0?e.opacity:1,0,oD(i))):l&&(t.opacity=Fe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let c=0;c<nD;c++){const h=`border${z_[c]}Radius`;let p=Qv(e,h),m=Qv(n,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||Wv(p)===Wv(m)?(t[h]=Math.max(Fe(Xv(p),Xv(m),i),0),(dn.test(m)||dn.test(p))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Fe(e.rotate||0,n.rotate||0,i))}function Qv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sD=F_(0,.5,r_),oD=F_(.5,.95,_t);function F_(t,e,n){return i=>i<t?0:i>e?1:n(Ji(t,e,i))}function Zv(t,e){t.min=e.min,t.max=e.max}function Kt(t,e){Zv(t.x,e.x),Zv(t.y,e.y)}function e0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function t0(t,e,n,i,r){return t-=e,t=Pl(t,1/n,i),r!==void 0&&(t=Pl(t,1/r,i)),t}function rD(t,e=0,n=1,i=.5,r,l=t,c=t){if(dn.test(e)&&(e=parseFloat(e),e=Fe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Fe(l.min,l.max,i);t===l&&(h-=e),t.min=t0(t.min,e,n,h,r),t.max=t0(t.max,e,n,h,r)}function n0(t,e,[n,i,r],l,c){rD(t,e[n],e[i],e[r],e.scale,l,c)}const aD=["x","scaleX","originX"],lD=["y","scaleY","originY"];function i0(t,e,n,i){n0(t.x,e,aD,n?n.x:void 0,i?i.x:void 0),n0(t.y,e,lD,n?n.y:void 0,i?i.y:void 0)}function s0(t){return t.translate===0&&t.scale===1}function $_(t){return s0(t.x)&&s0(t.y)}function o0(t,e){return t.min===e.min&&t.max===e.max}function uD(t,e){return o0(t.x,e.x)&&o0(t.y,e.y)}function r0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function J_(t,e){return r0(t.x,e.x)&&r0(t.y,e.y)}function a0(t){return Ot(t.x)/Ot(t.y)}function l0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class cD{constructor(){this.members=[]}add(e){lh(this.members,e),e.scheduleRender()}remove(e){if(uh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fD(t,e,n){let i="";const r=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((r||l||c)&&(i=`translate3d(${r}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:T,rotateY:S,skewX:C,skewY:b}=n;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),T&&(i+=`rotateX(${T}deg) `),S&&(i+=`rotateY(${S}deg) `),C&&(i+=`skewX(${C}deg) `),b&&(i+=`skewY(${b}deg) `)}const h=t.x.scale*e.x,p=t.y.scale*e.y;return(h!==1||p!==1)&&(i+=`scale(${h}, ${p})`),i||"none"}const Gi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},wr=typeof window<"u"&&window.MotionDebug!==void 0,If=["","X","Y","Z"],dD={visibility:"hidden"},u0=1e3;let hD=0;function kf(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Y_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Me,!(r||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Y_(i)}function K_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},h=e==null?void 0:e()){this.id=hD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wr&&(Gi.totalNodes=Gi.resolvedTargetDeltas=Gi.recalculatedProjection=0),this.nodes.forEach(gD),this.nodes.forEach(_D),this.nodes.forEach(CD),this.nodes.forEach(yD),wr&&window.MotionDebug.record(Gi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new eD)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ch),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Q1(c),this.instance=c;const{layoutId:p,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||p)&&(this.isLayoutDirty=!0),t){let T;const S=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=tD(S,250),Tl.hasAnimatedSinceResize&&(Tl.hasAnimatedSinceResize=!1,this.nodes.forEach(f0))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||m)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:S,hasRelativeTargetChanged:C,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||y.getDefaultTransition()||AD,{onLayoutAnimationStart:A,onLayoutAnimationComplete:R}=y.getProps(),k=!this.targetLayout||!J_(this.targetLayout,b)||C,D=!S&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||D||S&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,D);const L={...sh(E,"layout"),onPlay:A,onComplete:R};(y.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else S||f0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c0);return}this.isUpdating||this.nodes.forEach(TD),this.isUpdating=!1,this.nodes.forEach(SD),this.nodes.forEach(mD),this.nodes.forEach(pD),this.clearAllSnapshots();const h=hn.now();lt.delta=gn(0,1e3/60,h-lt.timestamp),lt.timestamp=h,lt.isProcessing=!0,Ef.update.process(lt),Ef.preRender.process(lt),Ef.render.process(lt),lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vD),this.sharedNodes.forEach(ED)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!$_(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&(h||Hi(this.latestValues)||y)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),MD(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return Xe();const p=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(RD))){const{scroll:y}=this.root;y&&(Zs(p.x,y.offset.x),Zs(p.y,y.offset.y))}return p}removeElementScroll(c){var h;const p=Xe();if(Kt(p,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return p;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:T,options:S}=y;y!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&Kt(p,c),Zs(p.x,T.offset.x),Zs(p.y,T.offset.y))}return p}applyTransform(c,h=!1){const p=Xe();Kt(p,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&eo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Hi(y.latestValues)&&eo(p,y.latestValues)}return Hi(this.latestValues)&&eo(p,this.latestValues),p}removeTransform(c){const h=Xe();Kt(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Hi(m.latestValues))continue;dd(m.latestValues)&&m.updateSnapshot();const y=Xe(),T=m.measurePageBox();Kt(y,T),i0(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Hi(this.latestValues)&&i0(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:S}=this.options;if(!(!this.layout||!(T||S))){if(this.resolvedRelativeTargetAt=lt.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Nr(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kt(this.target,this.layout.layoutBox),B_(this.target,this.targetDelta)):Kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Nr(this.relativeTargetOrigin,this.target,C.target),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wr&&Gi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dd(this.parent.latestValues)||O_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),p=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===lt.timestamp&&(m=!1),m)return;const{layout:y,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||T))return;Kt(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,C=this.treeScale.y;H1(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Xe());const{target:b}=h;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e0(this.prevProjectionDelta.x,this.projectionDelta.x),e0(this.prevProjectionDelta.y,this.projectionDelta.y)),Dr(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==C||!l0(this.projectionDelta.x,this.prevProjectionDelta.x)||!l0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),wr&&Gi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qs(),this.projectionDelta=Qs(),this.projectionDeltaWithTransform=Qs()}setAnimationOrigin(c,h=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},T=Qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=Xe(),C=p?p.source:void 0,b=this.layout?this.layout.source:void 0,E=C!==b,A=this.getStack(),R=!A||A.members.length<=1,k=!!(E&&!R&&this.options.crossfade===!0&&!this.path.some(bD));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const N=L/1e3;d0(T.x,c.x,N),d0(T.y,c.y,N),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nr(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wD(this.relativeTarget,this.relativeTargetOrigin,S,N),D&&uD(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Xe()),Kt(D,this.relativeTarget)),E&&(this.animationValues=y,iD(y,m,this.latestValues,N,k,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{Tl.hasAnimatedSinceResize=!0,this.currentAnimation=W1(0,u0,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:y}=c;if(!(!h||!p||!m)){if(this!==c&&this.layout&&m&&j_(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||Xe();const T=Ot(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const S=Ot(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}Kt(h,p),eo(h,y),Dr(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new cD),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&kf("z",c,m,this.animationValues);for(let y=0;y<If.length;y++)kf(`rotate${If[y]}`,c,m,this.animationValues),kf(`skew${If[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}getProjectionStyles(c){var h,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dD;const m={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=yl(c==null?void 0:c.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=yl(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Hi(this.latestValues)&&(E.transform=y?y({},""):"none",this.hasProjected=!1),E}const S=T.animationValues||T.latestValues;this.applyTransformsToTarget(),m.transform=fD(this.projectionDeltaWithTransform,this.treeScale,S),y&&(m.transform=y(S,m.transform));const{x:C,y:b}=this.projectionDelta;m.transformOrigin=`${C.origin*100}% ${b.origin*100}% 0`,T.animationValues?m.opacity=T===this?(p=(h=S.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:m.opacity=T===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const E in Al){if(S[E]===void 0)continue;const{correct:A,applyTo:R}=Al[E],k=m.transform==="none"?S[E]:A(S[E],T);if(R){const D=R.length;for(let L=0;L<D;L++)m[R[L]]=k}else m[E]=k}return this.options.layoutId&&(m.pointerEvents=T===this?yl(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(c0),this.root.sharedNodes.clear()}}}function mD(t){t.updateLayout()}function pD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?jt(T=>{const S=c?n.measuredBox[T]:n.layoutBox[T],C=Ot(S);S.min=i[T].min,S.max=S.min+C}):j_(l,n.layoutBox,i)&&jt(T=>{const S=c?n.measuredBox[T]:n.layoutBox[T],C=Ot(i[T]);S.max=S.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+C)});const h=Qs();Dr(h,i,n.layoutBox);const p=Qs();c?Dr(p,t.applyTransform(r,!0),n.measuredBox):Dr(p,i,n.layoutBox);const m=!$_(h);let y=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:C}=T;if(S&&C){const b=Xe();Nr(b,n.layoutBox,S.layoutBox);const E=Xe();Nr(E,i,C.layoutBox),J_(b,E)||(y=!0),T.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=b,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeTargetChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function gD(t){wr&&Gi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vD(t){t.clearSnapshot()}function c0(t){t.clearMeasurements()}function TD(t){t.isLayoutDirty=!1}function SD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function f0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _D(t){t.resolveTargetDelta()}function CD(t){t.calcProjection()}function xD(t){t.resetSkewAndRotation()}function ED(t){t.removeLeadSnapshot()}function d0(t,e,n){t.translate=Fe(e.translate,0,n),t.scale=Fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function h0(t,e,n,i){t.min=Fe(e.min,n.min,i),t.max=Fe(e.max,n.max,i)}function wD(t,e,n,i){h0(t.x,e.x,n.x,i),h0(t.y,e.y,n.y,i)}function bD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AD={duration:.45,ease:[.4,0,.1,1]},m0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),p0=m0("applewebkit/")&&!m0("chrome/")?Math.round:_t;function g0(t){t.min=p0(t.min),t.max=p0(t.max)}function MD(t){g0(t.x),g0(t.y)}function j_(t,e,n){return t==="position"||t==="preserve-aspect"&&!N1(a0(e),a0(n),.2)}function RD(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const DD=K_({attachResizeListener:(t,e)=>Or(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uf={current:void 0},X_=K_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uf.current){const t=new DD({});t.mount(window),t.setOptions({layoutScroll:!0}),Uf.current=t}return Uf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ND={pan:{Feature:Y1},drag:{Feature:J1,ProjectionNode:X_,MeasureLayout:G_}};function y0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,l=i[r];l&&Me.postRender(()=>l(e,Fr(e)))}class PD extends vi{mount(){const{current:e}=this.node;e&&(this.unmount=IM(e,n=>(y0(this.node,n,"Start"),i=>y0(this.node,i,"End"))))}unmount(){}}class ID extends vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zr(Or(this.node.current,"focus",()=>this.onFocus()),Or(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function v0(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),l=i[r];l&&Me.postRender(()=>l(e,Fr(e)))}class kD extends vi{mount(){const{current:e}=this.node;e&&(this.unmount=VM(e,n=>(v0(this.node,n,"Start"),(i,{success:r})=>v0(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const md=new WeakMap,Lf=new WeakMap,UD=t=>{const e=md.get(t.target);e&&e(t)},LD=t=>{t.forEach(UD)};function VD({root:t,...e}){const n=t||document;Lf.has(n)||Lf.set(n,{});const i=Lf.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(LD,{root:t,...e})),i[r]}function OD(t,e,n){const i=VD(e);return md.set(t,n),i.observe(t),()=>{md.delete(t),i.unobserve(t)}}const BD={some:0,all:1};class qD extends vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:BD[r]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),S=m?y:T;S&&S(p)};return OD(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HD(e,n))&&this.startObserver()}unmount(){}}function HD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GD={inView:{Feature:qD},tap:{Feature:kD},focus:{Feature:ID},hover:{Feature:PD}},zD={layout:{ProjectionNode:X_,MeasureLayout:G_}},pd={current:null},W_={current:!1};function FD(){if(W_.current=!0,!!Gd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pd.current=t.matches;t.addListener(e),e()}else pd.current=!1}const $D=[...S_,gt,gi],JD=t=>$D.find(T_(t)),T0=new WeakMap;function YD(t,e,n){for(const i in e){const r=e[i],l=n[i];if(yt(r))t.addValue(i,r);else if(yt(l))t.addValue(i,Un(r,{owner:t}));else if(l!==r)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=t.getStaticValue(i);t.addValue(i,Un(c!==void 0?c:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const S0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KD{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=hn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Me.render(this.render,!1,!0))};const{latestValues:p,renderState:m,onUpdate:y}=c;this.onUpdate=y,this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=zl(n),this.isVariantNode=AS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:T,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in S){const b=S[C];p[C]!==void 0&&yt(b)&&b.set(p[C],!1)}}mount(e){this.current=e,T0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),W_.current||FD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){T0.delete(this.current),this.projection&&this.projection.unmount(),pn(this.notifyUpdate),pn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ji.has(e),r=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Me.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ao){const n=ao[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<S0.length;i++){const r=S0[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=e[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=YD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Un(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(y_(r)||l_(r))?r=parseFloat(r):!JD(r)&&gi.test(n)&&(r=m_(e,n)),this.setBaseTarget(e,yt(r)?r.get():r)),yt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=Xd(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!yt(l)?l:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ch),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Q_ extends KD{constructor(){super(...arguments),this.KeyframeResolver=__}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jD(t){return window.getComputedStyle(t)}class XD extends Q_{constructor(){super(...arguments),this.type="html",this.renderInstance=LS}readValueFromInstance(e,n){if(ji.has(n)){const i=gh(n);return i&&i.default||0}else{const i=jD(e),r=(IS(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return q_(e,n)}build(e,n,i){Zd(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ih(e,n,i)}}class WD extends Q_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ji.has(n)){const i=gh(n);return i&&i.default||0}return n=VS.has(n)?n:Yd(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return qS(e,n,i)}build(e,n,i){eh(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){OS(e,n,i,r)}mount(e){this.isSVGTag=nh(e.tagName),super.mount(e)}}const QD=(t,e)=>jd(t)?new WD(e):new XD(e,{allowProjection:t!==q.Fragment}),ZD=MM({...C1,...GD,...ND,...zD},QD),oe=zA(ZD);function Z_(t,e,n){q.useInsertionEffect(()=>t.on(e,n),[t,e,n])}function eC(t,e){let n;const i=()=>{const{currentTime:r}=e,c=(r===null?0:r.value)/100;n!==c&&t(c),n=c};return Me.update(i,!0),()=>pn(i)}const Sl=new WeakMap;let hi;function eN(t,e){if(e){const{inlineSize:n,blockSize:i}=e[0];return{width:n,height:i}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function tN({target:t,contentRect:e,borderBoxSize:n}){var i;(i=Sl.get(t))===null||i===void 0||i.forEach(r=>{r({target:t,contentSize:e,get size(){return eN(t,n)}})})}function nN(t){t.forEach(tN)}function iN(){typeof ResizeObserver>"u"||(hi=new ResizeObserver(nN))}function sN(t,e){hi||iN();const n=jS(t);return n.forEach(i=>{let r=Sl.get(i);r||(r=new Set,Sl.set(i,r)),r.add(e),hi==null||hi.observe(i)}),()=>{n.forEach(i=>{const r=Sl.get(i);r==null||r.delete(e),r!=null&&r.size||hi==null||hi.unobserve(i)})}}const _l=new Set;let Pr;function oN(){Pr=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};_l.forEach(n=>n(e))},window.addEventListener("resize",Pr)}function rN(t){return _l.add(t),Pr||oN(),()=>{_l.delete(t),!_l.size&&Pr&&(Pr=void 0)}}function aN(t,e){return typeof t=="function"?rN(t):sN(t,e)}const lN=50,_0=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),uN=()=>({time:0,x:_0(),y:_0()}),cN={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function C0(t,e,n,i){const r=n[e],{length:l,position:c}=cN[e],h=r.current,p=n.time;r.current=t[`scroll${c}`],r.scrollLength=t[`scroll${l}`]-t[`client${l}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Ji(0,r.scrollLength,r.current);const m=i-p;r.velocity=m>lN?0:fh(r.current-h,m)}function fN(t,e,n){C0(t,"x",e,n),C0(t,"y",e,n),e.time=n}function dN(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(i instanceof HTMLElement)n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const l=i.getBoundingClientRect();n.x+=r.left-l.left,n.y+=r.top-l.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:l}=i.getBBox();n.x+=r,n.y+=l;let c=null,h=i.parentNode;for(;!c;)h.tagName==="svg"&&(c=h),h=i.parentNode;i=c}else break;return n}const gd={start:0,center:.5,end:1};function x0(t,e,n=0){let i=0;if(t in gd&&(t=gd[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?i=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?i=r/100*document.documentElement.clientWidth:t.endsWith("vh")?i=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(i=e*t),n+i}const hN=[0,0];function mN(t,e,n,i){let r=Array.isArray(t)?t:hN,l=0,c=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,gd[t]?t:"0"]),l=x0(r[0],n,i),c=x0(r[1],e),l-c}const pN={All:[[0,0],[1,1]]},gN={x:0,y:0};function yN(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function vN(t,e,n){const{offset:i=pN.All}=n,{target:r=t,axis:l="y"}=n,c=l==="y"?"height":"width",h=r!==t?dN(r,t):gN,p=r===t?{width:t.scrollWidth,height:t.scrollHeight}:yN(r),m={width:t.clientWidth,height:t.clientHeight};e[l].offset.length=0;let y=!e[l].interpolate;const T=i.length;for(let S=0;S<T;S++){const C=mN(i[S],m[c],p[c],h[l]);!y&&C!==e[l].interpolatorOffsets[S]&&(y=!0),e[l].offset[S]=C}y&&(e[l].interpolate=M_(e[l].offset,R_(i),{clamp:!1}),e[l].interpolatorOffsets=[...e[l].offset]),e[l].progress=gn(0,1,e[l].interpolate(e[l].current))}function TN(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function SN(t,e,n,i={}){return{measure:()=>TN(t,i.target,n),update:r=>{fN(t,n,r),(i.offset||i.target)&&vN(t,n,i)},notify:()=>e(n)}}const Sr=new WeakMap,E0=new WeakMap,Vf=new WeakMap,w0=t=>t===document.documentElement?window:t;function _h(t,{container:e=document.documentElement,...n}={}){let i=Vf.get(e);i||(i=new Set,Vf.set(e,i));const r=uN(),l=SN(e,t,r,n);if(i.add(l),!Sr.has(e)){const h=()=>{for(const S of i)S.measure()},p=()=>{for(const S of i)S.update(lt.timestamp)},m=()=>{for(const S of i)S.notify()},y=()=>{Me.read(h,!1,!0),Me.read(p,!1,!0),Me.update(m,!1,!0)};Sr.set(e,y);const T=w0(e);window.addEventListener("resize",y,{passive:!0}),e!==document.documentElement&&E0.set(e,aN(e,y)),T.addEventListener("scroll",y,{passive:!0})}const c=Sr.get(e);return Me.read(c,!1,!0),()=>{var h;pn(c);const p=Vf.get(e);if(!p||(p.delete(l),p.size))return;const m=Sr.get(e);Sr.delete(e),m&&(w0(e).removeEventListener("scroll",m),(h=E0.get(e))===null||h===void 0||h(),window.removeEventListener("resize",m))}}function _N({source:t,container:e,axis:n="y"}){t&&(e=t);const i={value:0},r=_h(l=>{i.value=l[n].progress*100},{container:e,axis:n});return{currentTime:i,cancel:r}}const Of=new Map;function tC({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),Of.has(e)||Of.set(e,{});const i=Of.get(e);return i[n]||(i[n]=zS()?new ScrollTimeline({source:e,axis:n}):_N({source:e,axis:n})),i[n]}function CN(t){return t.length===2}function nC(t){return t&&(t.target||t.offset)}function xN(t,e){return CN(t)||nC(e)?_h(n=>{t(n[e.axis].progress,n)},e):eC(t,tC(e))}function EN(t,e){if(t.flatten(),nC(e))return t.pause(),_h(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=tC(e);return t.attachTimeline?t.attachTimeline(n,i=>(i.pause(),eC(r=>{i.time=i.duration*r},n))):_t}}function wN(t,{axis:e="y",...n}={}){const i={axis:e,...n};return typeof t=="function"?xN(t,i):EN(t,i)}function b0(t,e){UA(!!(!e||e.current))}const bN=()=>({scrollX:Un(0),scrollY:Un(0),scrollXProgress:Un(0),scrollYProgress:Un(0)});function iC({container:t,target:e,layoutEffect:n=!0,...i}={}){const r=Bl(bN);return(n?zd:q.useEffect)(()=>(b0("target",e),b0("container",t),wN((c,{x:h,y:p})=>{r.scrollX.set(h.current),r.scrollXProgress.set(h.progress),r.scrollY.set(p.current),r.scrollYProgress.set(p.progress)},{...i,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(i.offset)]),r}const Ch=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),sC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),AN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),oC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),rC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),MN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:x.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})}),RN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 22.5l-.648-1.938a3.375 3.375 0 00-2.672-2.672L11.25 18l1.938-.648a3.375 3.375 0 002.672-2.672L16.25 13l.648 1.938a3.375 3.375 0 002.672 2.672L21 18l-1.938.648a3.375 3.375 0 00-2.672 2.672z"})}),aC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),lC=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),DN=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),NN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),yd=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),vd=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),PN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})}),IN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),kN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),UN=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),LN=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.3}}},e={hidden:{opacity:0,y:-30},visible:{opacity:1,y:0,transition:{duration:.7,type:"spring"}}},n={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return x.jsxs("div",{className:"h-screen w-screen bg-gradient-to-b from-white to-slate-100 flex flex-col p-8",children:[x.jsx(oe.div,{className:"flex-grow flex flex-col justify-center items-center text-center",variants:t,initial:"hidden",animate:"visible",children:x.jsxs(oe.div,{variants:e,className:"flex flex-col items-center",children:[x.jsx(oe.div,{animate:{y:[0,-5,0]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},className:"bg-bca-blue p-5 rounded-3xl shadow-lg shadow-blue-500/30 mb-5",children:x.jsx(Ch,{className:"w-20 h-20 text-white"})}),x.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:"Selamat Datang di SIKAT"}),x.jsx("p",{className:"text-slate-600 mt-2 max-w-sm",children:"Sistem Informasi Keuangan Al-Hasaniyyah Terpusat."})]})}),x.jsxs(oe.div,{className:"flex-shrink-0 w-full max-w-md mx-auto space-y-4",variants:n,initial:"hidden",animate:"visible",transition:{delay:.5},children:[x.jsx(oe.button,{onClick:()=>window.location.hash="#/login",className:"block w-full text-center bg-bca-blue text-white font-bold py-4 px-4 rounded-xl transition-all shadow-md shadow-blue-600/30 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-bca-blue/50",whileTap:{scale:.98},children:"Masuk sebagai Admin"}),x.jsx(oe.button,{onClick:()=>window.location.hash="#/public/dashboard",className:"block w-full text-center bg-white text-bca-blue font-bold py-4 px-4 rounded-xl transition-all shadow-md shadow-slate-200/50 hover:bg-slate-50 border border-slate-200",whileTap:{scale:.98},children:"Lihat Data Publik"})]})]})},VN=()=>{const[t,e]=q.useState(""),[n,i]=q.useState(""),[r,l]=q.useState(""),[c,h]=q.useState(!1),{login:p}=Ol(),m=async y=>{var S;if(y.preventDefault(),c)return;h(!0),l("");const T=await p(t,n);T.success||((S=T.error)!=null&&S.includes("Invalid login credentials")?l("Email atau password salah. Pastikan akun admin telah dibuat di Supabase."):l("Terjadi kesalahan. Silakan coba lagi nanti."),console.error("Login failed:",T.error)),h(!1)};return x.jsx("div",{className:"h-screen w-screen bg-slate-50 flex justify-center items-center p-4",children:x.jsx(oe.div,{className:"w-full max-w-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-900 text-center mb-2",children:"Login Admin"}),x.jsx("p",{className:"text-slate-500 text-center mb-6",children:"Masukkan kredensial untuk mengelola data."}),x.jsxs("form",{onSubmit:m,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),x.jsx("input",{type:"email",id:"email",value:t,onChange:y=>e(y.target.value),placeholder:"Email",className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",autoComplete:"email",autoFocus:!0,disabled:c})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),x.jsx("input",{type:"password",id:"password",value:n,onChange:y=>i(y.target.value),placeholder:"Password",className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",autoComplete:"current-password",disabled:c})]}),r&&x.jsx("p",{className:"text-rose-500 text-sm text-center",children:r}),x.jsx(oe.button,{type:"submit",className:"w-full bg-bca-blue text-white font-bold py-3 px-4 rounded-lg transition-all shadow-md shadow-blue-600/30 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-bca-blue/50 disabled:bg-slate-400",whileTap:{scale:.98},disabled:c,children:c?"Memverifikasi...":"Masuk"})]}),x.jsx("div",{className:"text-center mt-6",children:x.jsx("button",{onClick:()=>window.location.hash="#/",className:"text-sm text-bca-blue hover:underline",disabled:c,children:"Kembali ke Halaman Utama"})})]})})})};var Ve=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t))(Ve||{}),fn=(t=>(t.PENDAPATAN="Pendapatan",t.PINJAMAN="Pinjaman",t))(fn||{}),St=(t=>(t.REGULER="Reguler",t.BAYAR_PINJAMAN="Bayar Pinjaman",t))(St||{});const uC=q.createContext(null),ho=()=>{const t=q.useContext(uC);if(!t)throw new Error("useData must be used within a DataProvider");return t},Bf=t=>{const e=t.filter(i=>i.type===Ve.INCOME).reduce((i,r)=>i+r.amount,0),n=t.filter(i=>i.type===Ve.EXPENSE).reduce((i,r)=>i+r.amount,0);return e-n},ON=({children:t})=>{const{currentUser:e}=Ol(),[n,i]=q.useState([]),[r,l]=q.useState([]),[c,h]=q.useState([]),[p,m]=q.useState(!0),y=q.useMemo(()=>Bf(n),[n]),T=q.useCallback(async()=>{m(!0);try{const{data:V,error:z}=await tt.from("transactions").select("*").order("created_at",{ascending:!1});if(z)throw new Error(`Fetch transactions: ${z.message}`);i(V||[]);const{data:j,error:J}=await tt.from("lembagas").select("*").order("name");if(J)throw new Error(`Fetch lembagas: ${J.message}`);l(j||[]);const{data:Q,error:Z}=await tt.from("pemberi_pinjamans").select("*").order("name");if(Z)throw new Error(`Fetch pemberi pinjamans: ${Z.message}`);h(Q||[])}catch(V){console.error("Error fetching data:",V),i([]),l([]),h([])}finally{m(!1)}},[]);q.useEffect(()=>{T()},[e,T]);const S=async V=>{if(!e)return{success:!1,message:"User not authenticated."};const z={...V,id:"",created_at:new Date().toISOString(),user_id:e.id},j=[z,...n];if(z.type===Ve.EXPENSE&&Bf(j)<0)return{success:!1,message:"Saldo tidak mencukupi untuk melakukan transaksi ini."};if(z.subtype===St.BAYAR_PINJAMAN){const Q=j.filter(ne=>ne.subtype===fn.PINJAMAN&&ne.source_id===z.source_id).reduce((ne,Pe)=>ne+Pe.amount,0);if(j.filter(ne=>ne.subtype===St.BAYAR_PINJAMAN&&ne.source_id===z.source_id).reduce((ne,Pe)=>ne+Pe.amount,0)>Q)return{success:!1,message:"Jumlah pembayaran melebihi sisa hutang."}}const{error:J}=await tt.from("transactions").insert({...V,user_id:e.id});return J?{success:!1,message:J.message}:(await T(),{success:!0})},C=async(V,z)=>{const j=n.find(ne=>ne.id===V);if(!j)return{success:!1,message:"Transaksi tidak ditemukan."};const J={...j,...z},Q=n.map(ne=>ne.id===V?J:ne);if(J.type===Ve.EXPENSE&&Bf(Q)<0)return{success:!1,message:"Saldo tidak mencukupi untuk melakukan transaksi ini."};if(J.subtype===St.BAYAR_PINJAMAN){const ne=Q.filter(ue=>ue.subtype===fn.PINJAMAN&&ue.source_id===J.source_id).reduce((ue,ve)=>ue+ve.amount,0);if(Q.filter(ue=>ue.subtype===St.BAYAR_PINJAMAN&&ue.source_id===J.source_id).reduce((ue,ve)=>ue+ve.amount,0)>ne)return{success:!1,message:"Jumlah pembayaran melebihi sisa hutang."}}const{error:Z}=await tt.from("transactions").update(z).eq("id",V);return Z?{success:!1,message:Z.message}:(await T(),{success:!0})},b=async V=>{const{error:z}=await tt.from("transactions").delete().eq("id",V);return z?{success:!1,message:z.message}:(await T(),{success:!0})},E=async V=>{if(!e)return{success:!1,message:"User not authenticated."};const{error:z}=await tt.from("lembagas").insert({name:V,user_id:e.id});return z?{success:!1,message:z.message}:(await T(),{success:!0})},A=async(V,z)=>{const{error:j}=await tt.from("lembagas").update({name:z}).eq("id",V);return j?{success:!1,message:j.message}:(await T(),{success:!0})},R=async V=>{const{data:z,error:j}=await tt.from("transactions").select("id").eq("source_id",V).limit(1);if(j)return{success:!1,message:j.message};if(z&&z.length>0)return{success:!1,message:"Gagal menghapus! Lembaga ini masih digunakan dalam satu atau lebih transaksi."};const{error:J}=await tt.from("lembagas").delete().eq("id",V);return J?{success:!1,message:J.message}:(await T(),{success:!0})},k=async V=>{if(!e)return{success:!1,message:"User not authenticated."};const{error:z}=await tt.from("pemberi_pinjamans").insert({name:V,user_id:e.id});return z?{success:!1,message:z.message}:(await T(),{success:!0})},D=async(V,z)=>{const{error:j}=await tt.from("pemberi_pinjamans").update({name:z}).eq("id",V);return j?{success:!1,message:j.message}:(await T(),{success:!0})},L=async V=>{const{data:z,error:j}=await tt.from("transactions").select("id").eq("source_id",V).limit(1);if(j)return{success:!1,message:j.message};if(z&&z.length>0)return{success:!1,message:"Gagal menghapus! Pemberi Pinjaman ini masih digunakan dalam satu atau lebih transaksi."};const{error:J}=await tt.from("pemberi_pinjamans").delete().eq("id",V);return J?{success:!1,message:J.message}:(await T(),{success:!0})},N=q.useMemo(()=>({isLoading:p,transactions:n,lembagas:r,pemberiPinjamans:c,balance:y,addTransaction:S,updateTransaction:C,deleteTransaction:b,addLembaga:E,updateLembaga:A,deleteLembaga:R,addPemberiPinjaman:k,updatePemberiPinjaman:D,deletePemberiPinjaman:L}),[p,n,r,c,y,S,C,b,E,A,R,k,D,L]);return x.jsx(uC.Provider,{value:N,children:t})},A0=["#0060AE","#007ACC","#0099CC","#607D8B","#9E9E9E","#795548"],BN={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},qf={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},M0=({message:t,subMessage:e})=>x.jsxs(oe.div,{className:"h-32 flex flex-col items-center justify-center text-center text-slate-500",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[x.jsx(yd,{className:"w-12 h-12 mb-2 text-slate-400"}),x.jsx("h4",{className:"font-semibold text-slate-600",children:t}),x.jsx("p",{className:"text-sm",children:e})]}),qN=()=>x.jsx("div",{className:"flex justify-center items-center h-full",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),Il=()=>{const{transactions:t,lembagas:e,pemberiPinjamans:n,isLoading:i}=ho(),r=q.useMemo(()=>t.filter(y=>y.type===Ve.INCOME).reduce((y,T)=>y+T.amount,0),[t]),l=q.useMemo(()=>t.filter(y=>y.type===Ve.EXPENSE).reduce((y,T)=>y+T.amount,0),[t]),c=q.useMemo(()=>r-l,[r,l]),h=q.useMemo(()=>e.map(y=>{const T=t.filter(S=>S.type===Ve.EXPENSE&&S.subtype===St.REGULER&&S.source_id===y.id).reduce((S,C)=>S+C.amount,0);return{name:y.name,value:T}}).filter(y=>y.value>0),[e,t]),p=q.useMemo(()=>h.reduce((y,T)=>y+T.value,0),[h]),m=q.useMemo(()=>n.map(y=>{const T=t.filter(E=>E.type===Ve.INCOME&&E.subtype===fn.PINJAMAN&&E.source_id===y.id).reduce((E,A)=>E+A.amount,0);if(T===0)return null;const S=t.filter(E=>E.type===Ve.EXPENSE&&E.subtype===St.BAYAR_PINJAMAN&&E.source_id===y.id).reduce((E,A)=>E+A.amount,0),C=T-S,b=T>0?Math.min(S/T*100,100):0;return{id:y.id,name:y.name,totalLoan:T,totalPaid:S,remainingDebt:C,percentagePaid:b}}).filter(y=>y!==null),[n,t]);return x.jsxs(oe.div,{className:"p-4 space-y-5",variants:BN,initial:"hidden",animate:"visible",children:[x.jsx(oe.div,{className:"p-5 rounded-xl shadow-lg shadow-blue-900/30 bg-gradient-to-br from-bca-blue to-blue-900 text-white min-h-[160px]",variants:qf,whileHover:{scale:1.02,transition:{type:"spring",stiffness:300}},children:i?x.jsx(qN,{}):x.jsxs(x.Fragment,{children:[x.jsx("h3",{className:"text-blue-200/90 text-base font-medium",children:"Saldo Saat Ini"}),x.jsxs("p",{className:"text-4xl font-extrabold tracking-tight leading-none",children:["Rp ",c.toLocaleString("id-ID")]}),x.jsxs("div",{className:"flex space-x-4 mt-4 pt-4 border-t border-white/20",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("span",{className:"text-blue-200/90 text-sm",children:"Pemasukan"}),x.jsxs("p",{className:"text-xl font-bold",children:["Rp ",r.toLocaleString("id-ID")]})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("span",{className:"text-blue-200/90 text-sm",children:"Pengeluaran"}),x.jsxs("p",{className:"text-xl font-bold",children:["Rp ",l.toLocaleString("id-ID")]})]})]})]})}),x.jsxs(oe.div,{className:"bg-white p-4 rounded-xl shadow-md shadow-slate-200/50",variants:qf,children:[x.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-4",children:"Statistik Pinjaman"}),i?x.jsx("p",{className:"text-center text-slate-500 py-4",children:"Memuat data..."}):m.length>0?x.jsx("div",{className:"space-y-4",children:m.map(y=>x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsx("span",{className:"font-semibold text-slate-700",children:y.name}),x.jsxs("span",{className:"text-sm text-slate-500",children:["Sisa: ",x.jsxs("span",{className:"font-bold text-rose-600",children:["Rp ",y.remainingDebt.toLocaleString("id-ID")]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 overflow-hidden",children:x.jsx(oe.div,{className:"bg-bca-blue h-2.5 rounded-full",initial:{width:0},animate:{width:`${y.percentagePaid}%`},transition:{duration:.8,ease:"easeOut"}})}),x.jsxs("div",{className:"text-xs text-slate-500 text-right mt-1",children:[Math.round(y.percentagePaid),"% Lunas"]})]},y.id))}):x.jsx(M0,{message:"Belum Ada Pinjaman",subMessage:"Data pinjaman akan muncul di sini."})]}),x.jsxs(oe.div,{className:"bg-white p-4 rounded-xl shadow-md shadow-slate-200/50",variants:qf,children:[x.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-4",children:"Rincian Pengeluaran Reguler"}),i?x.jsx("p",{className:"text-center text-slate-500 py-4",children:"Memuat data..."}):h.length>0?x.jsx(oe.div,{className:"space-y-4",variants:{visible:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"visible",children:h.map((y,T)=>{const S=p>0?y.value/p*100:0,C=A0[T%A0.length];return x.jsxs(oe.div,{variants:{hidden:{y:15,opacity:0},visible:{y:0,opacity:1}},children:[x.jsxs("div",{className:"flex justify-between items-center text-sm mb-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:C}}),x.jsx("span",{className:"font-medium text-slate-700",children:y.name})]}),x.jsxs("span",{className:"font-semibold text-slate-800",children:["Rp ",y.value.toLocaleString("id-ID")]})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 overflow-hidden",children:x.jsx(oe.div,{className:"h-2 rounded-full",style:{backgroundColor:C},initial:{width:0},animate:{width:`${S}%`},transition:{duration:.8,ease:"easeOut"}})})]},y.name)})}):x.jsx(M0,{message:"Belum Ada Pengeluaran",subMessage:"Data pengeluaran reguler akan muncul di sini."})]})]})};function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Td.apply(null,arguments)}function R0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sd(t,e){return Sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sd(t,e)}function HN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sd(t,e)}var D0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function GN(t,e){return!!(t===e||D0(t)&&D0(e))}function zN(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!GN(t[n],e[n]))return!1;return!0}function Hf(t,e){e===void 0&&(e=zN);var n,i=[],r,l=!1;function c(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return l&&n===this&&e(h,i)||(r=t.apply(this,h),l=!0,n=this,i=h),r}return c}var FN=typeof performance=="object"&&typeof performance.now=="function",N0=FN?function(){return performance.now()}:function(){return Date.now()};function P0(t){cancelAnimationFrame(t.id)}function $N(t,e){var n=N0();function i(){N0()-n>=e?t.call(null):r.id=requestAnimationFrame(i)}var r={id:requestAnimationFrame(i)};return r}var Gf=-1;function I0(t){if(t===void 0&&(t=!1),Gf===-1||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),Gf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Gf}var Ys=null;function k0(t){if(t===void 0&&(t=!1),Ys===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?Ys="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Ys="negative":Ys="positive-ascending"),document.body.removeChild(e),Ys}return Ys}var JN=150,YN=function(e,n){return e};function KN(t){var e,n=t.getItemOffset,i=t.getEstimatedTotalSize,r=t.getItemSize,l=t.getOffsetForIndexAndAlignment,c=t.getStartIndexForOffset,h=t.getStopIndexForStartIndex,p=t.initInstanceProps,m=t.shouldResetStyleCacheOnItemSizeChange,y=t.validateProps;return e=function(T){HN(S,T);function S(b){var E;return E=T.call(this,b)||this,E._instanceProps=p(E.props,R0(E)),E._outerRef=void 0,E._resetIsScrollingTimeoutId=null,E.state={instance:R0(E),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof E.props.initialScrollOffset=="number"?E.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},E._callOnItemsRendered=void 0,E._callOnItemsRendered=Hf(function(A,R,k,D){return E.props.onItemsRendered({overscanStartIndex:A,overscanStopIndex:R,visibleStartIndex:k,visibleStopIndex:D})}),E._callOnScroll=void 0,E._callOnScroll=Hf(function(A,R,k){return E.props.onScroll({scrollDirection:A,scrollOffset:R,scrollUpdateWasRequested:k})}),E._getItemStyle=void 0,E._getItemStyle=function(A){var R=E.props,k=R.direction,D=R.itemSize,L=R.layout,N=E._getItemStyleCache(m&&D,m&&L,m&&k),V;if(N.hasOwnProperty(A))V=N[A];else{var z=n(E.props,A,E._instanceProps),j=r(E.props,A,E._instanceProps),J=k==="horizontal"||L==="horizontal",Q=k==="rtl",Z=J?z:0;N[A]=V={position:"absolute",left:Q?void 0:Z,right:Q?Z:void 0,top:J?0:z,height:J?"100%":j,width:J?j:"100%"}}return V},E._getItemStyleCache=void 0,E._getItemStyleCache=Hf(function(A,R,k){return{}}),E._onScrollHorizontal=function(A){var R=A.currentTarget,k=R.clientWidth,D=R.scrollLeft,L=R.scrollWidth;E.setState(function(N){if(N.scrollOffset===D)return null;var V=E.props.direction,z=D;if(V==="rtl")switch(k0()){case"negative":z=-D;break;case"positive-descending":z=L-k-D;break}return z=Math.max(0,Math.min(z,L-k)),{isScrolling:!0,scrollDirection:N.scrollOffset<z?"forward":"backward",scrollOffset:z,scrollUpdateWasRequested:!1}},E._resetIsScrollingDebounced)},E._onScrollVertical=function(A){var R=A.currentTarget,k=R.clientHeight,D=R.scrollHeight,L=R.scrollTop;E.setState(function(N){if(N.scrollOffset===L)return null;var V=Math.max(0,Math.min(L,D-k));return{isScrolling:!0,scrollDirection:N.scrollOffset<V?"forward":"backward",scrollOffset:V,scrollUpdateWasRequested:!1}},E._resetIsScrollingDebounced)},E._outerRefSetter=function(A){var R=E.props.outerRef;E._outerRef=A,typeof R=="function"?R(A):R!=null&&typeof R=="object"&&R.hasOwnProperty("current")&&(R.current=A)},E._resetIsScrollingDebounced=function(){E._resetIsScrollingTimeoutId!==null&&P0(E._resetIsScrollingTimeoutId),E._resetIsScrollingTimeoutId=$N(E._resetIsScrolling,JN)},E._resetIsScrolling=function(){E._resetIsScrollingTimeoutId=null,E.setState({isScrolling:!1},function(){E._getItemStyleCache(-1,null)})},E}S.getDerivedStateFromProps=function(E,A){return jN(E,A),y(E),null};var C=S.prototype;return C.scrollTo=function(E){E=Math.max(0,E),this.setState(function(A){return A.scrollOffset===E?null:{scrollDirection:A.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},C.scrollToItem=function(E,A){A===void 0&&(A="auto");var R=this.props,k=R.itemCount,D=R.layout,L=this.state.scrollOffset;E=Math.max(0,Math.min(E,k-1));var N=0;if(this._outerRef){var V=this._outerRef;D==="vertical"?N=V.scrollWidth>V.clientWidth?I0():0:N=V.scrollHeight>V.clientHeight?I0():0}this.scrollTo(l(this.props,E,A,L,this._instanceProps,N))},C.componentDidMount=function(){var E=this.props,A=E.direction,R=E.initialScrollOffset,k=E.layout;if(typeof R=="number"&&this._outerRef!=null){var D=this._outerRef;A==="horizontal"||k==="horizontal"?D.scrollLeft=R:D.scrollTop=R}this._callPropsCallbacks()},C.componentDidUpdate=function(){var E=this.props,A=E.direction,R=E.layout,k=this.state,D=k.scrollOffset,L=k.scrollUpdateWasRequested;if(L&&this._outerRef!=null){var N=this._outerRef;if(A==="horizontal"||R==="horizontal")if(A==="rtl")switch(k0()){case"negative":N.scrollLeft=-D;break;case"positive-ascending":N.scrollLeft=D;break;default:var V=N.clientWidth,z=N.scrollWidth;N.scrollLeft=z-V-D;break}else N.scrollLeft=D;else N.scrollTop=D}this._callPropsCallbacks()},C.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&P0(this._resetIsScrollingTimeoutId)},C.render=function(){var E=this.props,A=E.children,R=E.className,k=E.direction,D=E.height,L=E.innerRef,N=E.innerElementType,V=E.innerTagName,z=E.itemCount,j=E.itemData,J=E.itemKey,Q=J===void 0?YN:J,Z=E.layout,ne=E.outerElementType,Pe=E.outerTagName,ue=E.style,ve=E.useIsScrolling,F=E.width,X=this.state.isScrolling,ie=k==="horizontal"||Z==="horizontal",xe=ie?this._onScrollHorizontal:this._onScrollVertical,P=this._getRangeToRender(),W=P[0],te=P[1],ee=[];if(z>0)for(var ae=W;ae<=te;ae++)ee.push(q.createElement(A,{data:j,key:Q(ae,j),index:ae,isScrolling:ve?X:void 0,style:this._getItemStyle(ae)}));var Ee=i(this.props,this._instanceProps);return q.createElement(ne||Pe||"div",{className:R,onScroll:xe,ref:this._outerRefSetter,style:Td({position:"relative",height:D,width:F,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:k},ue)},q.createElement(N||V||"div",{children:ee,ref:L,style:{height:ie?"100%":Ee,pointerEvents:X?"none":void 0,width:ie?Ee:"100%"}}))},C._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var E=this.props.itemCount;if(E>0){var A=this._getRangeToRender(),R=A[0],k=A[1],D=A[2],L=A[3];this._callOnItemsRendered(R,k,D,L)}}if(typeof this.props.onScroll=="function"){var N=this.state,V=N.scrollDirection,z=N.scrollOffset,j=N.scrollUpdateWasRequested;this._callOnScroll(V,z,j)}},C._getRangeToRender=function(){var E=this.props,A=E.itemCount,R=E.overscanCount,k=this.state,D=k.isScrolling,L=k.scrollDirection,N=k.scrollOffset;if(A===0)return[0,0,0,0];var V=c(this.props,N,this._instanceProps),z=h(this.props,V,N,this._instanceProps),j=!D||L==="backward"?Math.max(1,R):1,J=!D||L==="forward"?Math.max(1,R):1;return[Math.max(0,V-j),Math.max(0,Math.min(A-1,z+J)),V,z]},S}(q.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var jN=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},XN=50,to=function(e,n,i){var r=e,l=r.itemSize,c=i.itemMetadataMap,h=i.lastMeasuredIndex;if(n>h){var p=0;if(h>=0){var m=c[h];p=m.offset+m.size}for(var y=h+1;y<=n;y++){var T=l(y);c[y]={offset:p,size:T},p+=T}i.lastMeasuredIndex=n}return c[n]},WN=function(e,n,i){var r=n.itemMetadataMap,l=n.lastMeasuredIndex,c=l>0?r[l].offset:0;return c>=i?cC(e,n,l,0,i):QN(e,n,Math.max(0,l),i)},cC=function(e,n,i,r,l){for(;r<=i;){var c=r+Math.floor((i-r)/2),h=to(e,c,n).offset;if(h===l)return c;h<l?r=c+1:h>l&&(i=c-1)}return r>0?r-1:0},QN=function(e,n,i,r){for(var l=e.itemCount,c=1;i<l&&to(e,i,n).offset<r;)i+=c,c*=2;return cC(e,n,Math.min(i,l-1),Math.floor(i/2),r)},U0=function(e,n){var i=e.itemCount,r=n.itemMetadataMap,l=n.estimatedItemSize,c=n.lastMeasuredIndex,h=0;if(c>=i&&(c=i-1),c>=0){var p=r[c];h=p.offset+p.size}var m=i-c-1,y=m*l;return h+y},ZN=KN({getItemOffset:function(e,n,i){return to(e,n,i).offset},getItemSize:function(e,n,i){return i.itemMetadataMap[n].size},getEstimatedTotalSize:U0,getOffsetForIndexAndAlignment:function(e,n,i,r,l,c){var h=e.direction,p=e.height,m=e.layout,y=e.width,T=h==="horizontal"||m==="horizontal",S=T?y:p,C=to(e,n,l),b=U0(e,l),E=Math.max(0,Math.min(b-S,C.offset)),A=Math.max(0,C.offset-S+C.size+c);switch(i==="smart"&&(r>=A-S&&r<=E+S?i="auto":i="center"),i){case"start":return E;case"end":return A;case"center":return Math.round(A+(E-A)/2);case"auto":default:return r>=A&&r<=E?r:r<A?A:E}},getStartIndexForOffset:function(e,n,i){return WN(e,i,n)},getStopIndexForStartIndex:function(e,n,i,r){for(var l=e.direction,c=e.height,h=e.itemCount,p=e.layout,m=e.width,y=l==="horizontal"||p==="horizontal",T=y?m:c,S=to(e,n,r),C=i+T,b=S.offset+S.size,E=n;E<h-1&&b<C;)E++,b+=to(e,E,r).size;return E},initInstanceProps:function(e,n){var i=e,r=i.estimatedItemSize,l={itemMetadataMap:{},estimatedItemSize:r||XN,lastMeasuredIndex:-1};return n.resetAfterIndex=function(c,h){h===void 0&&(h=!0),l.lastMeasuredIndex=Math.min(l.lastMeasuredIndex,c-1),n._getItemStyleCache(-1),h&&n.forceUpdate()},l},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const eP=({transaction:t,lembagas:e,pemberiPinjamans:n,onEdit:i,onDelete:r,isReadOnly:l})=>{var m,y;const c=t.type===Ve.INCOME,h=c?"text-emerald-600":"text-rose-600",p=t.subtype===fn.PENDAPATAN||t.subtype===St.REGULER?(m=e.find(T=>T.id===t.source_id))==null?void 0:m.name:(y=n.find(T=>T.id===t.source_id))==null?void 0:y.name;return x.jsxs(oe.li,{layout:!0,initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,transition:{duration:.2}},className:"flex items-center p-3.5 bg-white rounded-xl shadow-md shadow-slate-200/50",children:[x.jsxs("div",{className:"flex-grow flex items-center overflow-hidden",children:[x.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center ${c?"bg-emerald-100":"bg-rose-100"}`,children:x.jsx("span",{className:"font-bold text-lg",children:c?"+":"-"})}),x.jsxs("div",{className:"ml-3 flex-grow overflow-hidden",children:[x.jsx("p",{className:"font-bold text-slate-800 truncate",children:t.description}),x.jsxs("p",{className:"text-sm text-slate-500",children:[t.subtype," (",p||"N/A",")"]})]})]}),x.jsxs("div",{className:"flex-shrink-0 flex items-center ml-2",children:[x.jsxs("p",{className:`font-bold whitespace-nowrap ${h}`,children:["Rp ",t.amount.toLocaleString("id-ID")]}),!l&&x.jsxs("div",{className:"pl-1 flex",children:[x.jsx(oe.button,{whileTap:{scale:.9},onClick:()=>i(t),className:"p-2 text-slate-400 hover:text-bca-blue rounded-full transition-colors",children:x.jsx(aC,{className:"w-4 h-4"})}),x.jsx(oe.button,{whileTap:{scale:.9},onClick:()=>r(t.id),className:"p-2 text-slate-400 hover:text-rose-500 rounded-full transition-colors",children:x.jsx(lC,{className:"w-4 h-4"})})]})]})]})},tP=t=>{const e={},n=new Date,i=new Date;i.setDate(i.getDate()-1);const r=(l,c)=>l.getFullYear()===c.getFullYear()&&l.getMonth()===c.getMonth()&&l.getDate()===c.getDate();return t.forEach(l=>{const c=new Date(l.created_at);let h;r(c,n)?h="Hari Ini":r(c,i)?h="Kemarin":h=c.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),e[h]||(e[h]=[]),e[h].push(l)}),e},fC=({onEdit:t,onDelete:e,isReadOnly:n=!1})=>{const{transactions:i,lembagas:r,pemberiPinjamans:l}=ho(),[c,h]=q.useState(!1),[p,m]=q.useState(""),[y,T]=q.useState("all"),[S,C]=q.useState(""),[b,E]=q.useState(""),A=q.useRef(null),[R,k]=q.useState(window.innerHeight);q.useEffect(()=>{const Q=()=>{k(window.innerHeight),A.current&&A.current.resetAfterIndex(0)};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const D=q.useCallback(()=>{m(""),T("all"),C(""),E("")},[]),L=q.useMemo(()=>{let Q=[...i];if(p&&(Q=Q.filter(Z=>Z.description.toLowerCase().includes(p.toLowerCase()))),y!=="all"&&(Q=Q.filter(Z=>Z.type===y)),S){const Z=new Date(S).setHours(0,0,0,0);Q=Q.filter(ne=>new Date(ne.created_at).getTime()>=Z)}if(b){const Z=new Date(b).setHours(23,59,59,999);Q=Q.filter(ne=>new Date(ne.created_at).getTime()<=Z)}return Q.sort((Z,ne)=>new Date(ne.created_at).getTime()-new Date(Z.created_at).getTime())},[i,p,y,S,b]),N=q.useMemo(()=>tP(L),[L]),V=q.useMemo(()=>{const Q=[];return Object.entries(N).forEach(([Z,ne])=>{Q.push({type:"header",data:Z}),ne.forEach(Pe=>{Q.push({type:"transaction",data:Pe})})}),Q},[N]);q.useEffect(()=>{A.current&&A.current.resetAfterIndex(0)},[V]);const z=p||y!=="all"||S||b,j=q.useCallback(Q=>V[Q].type==="header"?48:96,[V]),J=q.useCallback(({index:Q,style:Z})=>{const ne=V[Q];if(ne.type==="header")return x.jsx("div",{style:{...Z,paddingTop:8},children:x.jsx("h3",{className:"font-semibold text-slate-500 text-sm mb-2 px-2",children:ne.data})},`header-${ne.data}`);{const Pe=ne.data;return x.jsx("div",{style:{...Z,paddingBottom:8},children:x.jsx(eP,{transaction:Pe,lembagas:r,pemberiPinjamans:l,onEdit:t,onDelete:e,isReadOnly:n})},`transaction-${Pe.id}`)}},[r,l,t,e,n]);return x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsx("div",{className:"flex justify-end items-center",children:x.jsx(oe.button,{whileTap:{scale:.95},onClick:()=>h(!c),className:`p-2 rounded-lg transition-colors ${c?"bg-blue-100 text-bca-blue":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-300"}`,"aria-label":"Toggle filters",children:x.jsx(NN,{className:"w-5 h-5"})})}),x.jsx(mn,{children:c&&x.jsxs(oe.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white border border-slate-200 p-4 rounded-xl mb-4 space-y-4 shadow-md shadow-slate-200/50 overflow-hidden",children:[x.jsx("input",{type:"text",placeholder:"Cari berdasarkan deskripsi...",value:p,onChange:Q=>m(Q.target.value),className:"w-full bg-slate-100 border border-slate-200 text-slate-800 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"custom-select-wrapper",children:[x.jsxs("select",{value:y,onChange:Q=>T(Q.target.value),className:"w-full bg-slate-100 border border-slate-200 text-slate-800 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue",children:[x.jsx("option",{value:"all",children:"Semua Tipe"}),x.jsx("option",{value:Ve.INCOME,children:"Pemasukan"}),x.jsx("option",{value:Ve.EXPENSE,children:"Pengeluaran"})]}),x.jsx("div",{className:"custom-select-arrow text-slate-500",children:x.jsx(vd,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-slate-500 pl-1",children:"Dari"}),x.jsx("input",{type:"date",value:S,onChange:Q=>C(Q.target.value),className:"w-full bg-slate-100 border border-slate-200 text-slate-800 rounded-lg p-2.5 focus:ring-2 focus:ring-bca-blue"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-slate-500 pl-1",children:"Sampai"}),x.jsx("input",{type:"date",value:b,onChange:Q=>E(Q.target.value),className:"w-full bg-slate-100 border border-slate-200 text-slate-800 rounded-lg p-2.5 focus:ring-2 focus:ring-bca-blue"})]})]})]}),z&&x.jsx("button",{onClick:D,className:"w-full text-sm text-center text-bca-blue hover:text-blue-700 font-semibold",children:"Reset Filter"})]})}),i.length===0?x.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center text-center text-slate-500 pt-20",children:[x.jsx(yd,{className:"w-20 h-20 mb-4 text-slate-400"}),x.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Belum Ada Transaksi"}),x.jsx("p",{className:"mt-2 max-w-xs",children:n?"Data transaksi publik belum tersedia.":"Mulai catat pemasukan dan pengeluaran Anda dengan menekan tombol (+)."})]}):L.length===0?x.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center text-center text-slate-500 pt-20",children:[x.jsx(yd,{className:"w-20 h-20 mb-4 text-slate-400"}),x.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Tidak Ada Hasil"}),x.jsx("p",{className:"mt-2 max-w-xs",children:"Tidak ada transaksi yang cocok. Coba ubah atau reset filter Anda."})]}):x.jsx("div",{className:"h-[calc(100vh-300px)]",children:x.jsx(ZN,{ref:A,height:Math.max(300,R-300),width:"100%",itemCount:V.length,itemSize:j,className:"transaction-list",children:({index:Q,style:Z})=>J({index:Q,style:Z})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nP,iP;function sP(){return{geminiUrl:nP,vertexUrl:iP}}function oP(t,e,n,i){var r,l;if(!(t!=null&&t.baseUrl)){const c=sP();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:n:(l=c.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xi{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const y=p[m];f(y,e.slice(l+1),n[m])}else for(const m of p)f(m,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];f(p[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in t){const l=t[r];return Array.isArray(l)?l.map(c=>u(c,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _d(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var L0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(L0||(L0={}));var V0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(V0||(V0={}));var pi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pi||(pi={}));var O0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(O0||(O0={}));var B0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(B0||(B0={}));var q0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(q0||(q0={}));var H0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(H0||(H0={}));var G0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(G0||(G0={}));var z0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(z0||(z0={}));var F0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(F0||(F0={}));var $0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})($0||($0={}));var J0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(J0||(J0={}));var Y0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Y0||(Y0={}));var K0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(K0||(K0={}));var j0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(j0||(j0={}));var X0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(X0||(X0={}));var kl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(kl||(kl={}));var W0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(W0||(W0={}));var Cd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cd||(Cd={}));var Q0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Q0||(Q0={}));var Z0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Z0||(Z0={}));var eT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(eT||(eT={}));var tT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(tT||(tT={}));var nT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(nT||(nT={}));var iT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(iT||(iT={}));var sT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(sT||(sT={}));var oT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(oT||(oT={}));var rT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rT||(rT={}));var aT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(aT||(aT={}));var lT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lT||(lT={}));var uT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(uT||(uT={}));var cT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(cT||(cT={}));var fT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(fT||(fT={}));var dT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(dT||(dT={}));var hT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hT||(hT={}));var mT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mT||(mT={}));var pT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pT||(pT={}));var gT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(gT||(gT={}));var yT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yT||(yT={}));var vT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(vT||(vT={}));var TT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(TT||(TT={}));var no;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(no||(no={}));class xd{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class _r{get text(){var e,n,i,r,l,c,h,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const S of(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[C,b]of Object.entries(S))C!=="text"&&C!=="thought"&&(b!==null||b!==void 0)&&T.push(C);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,i,r,l,c,h,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,C]of Object.entries(T))S!=="inlineData"&&(C!==null||C!==void 0)&&y.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,r,l,c,h,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,r,l,c,h,p,m;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,r,l,c,h,p,m;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class ST{}class _T{}class rP{}class aP{}class CT{}class xT{}class ET{}class lP{}class wT{}class bT{}class AT{}class MT{}class uP{}class cP{}class fP{}class RT{}class dP{get text(){var e,n,i;let r="",l=!1;const c=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,r+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,n,i;let r="";const l=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(c))h!=="inlineData"&&p!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Ul{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new Ul;if(i.name=e.name,i.metadata=e.metadata,i.done=e.done,i.error=e.error,n){const r=e.response;if(r){const l=new wT,c=r.videos;l.generatedVideos=c==null?void 0:c.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?_d(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),l.raiMediaFilteredCount=r.raiMediaFilteredCount,l.raiMediaFilteredReasons=r.raiMediaFilteredReasons,i.response=l}}else{const r=e.response;if(r){const l=new wT,c=r.generateVideoResponse,h=c==null?void 0:c.generatedSamples;l.generatedVideos=h==null?void 0:h.map(p=>{const m=p.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?_d(m==null?void 0:m.encodedVideo):void 0,mimeType:p.encoding}}}),l.raiMediaFilteredCount=r.raiMediaFilteredCount,l.raiMediaFilteredReasons=r.raiMediaFilteredReasons,i.response=l}}return i}}class hP{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ne(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function dC(t,e){const n=Ne(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function hC(t){return Array.isArray(t)?t.map(e=>Ll(e)):[Ll(t)]}function Ll(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mC(t){const e=Ll(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pC(t){const e=Ll(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function gC(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>DT(e)):[DT(t)]}function Ed(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function NT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function PT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vt(t){if(t==null)throw new Error("ContentUnion is required");return Ed(t)?t:{role:"user",parts:gC(t)}}function yC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=vt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=vt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vt(n)):[vt(e)]}function Xt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(NT(t)||PT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vt(t)]}const e=[],n=[],i=Ed(t[0]);for(const r of t){const l=Ed(r);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if(NT(r)||PT(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:gC(n)}),e}function mP(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(pi).includes(n[0].toUpperCase())?n[0].toUpperCase():pi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(pi).includes(i.toUpperCase())?i.toUpperCase():pi.TYPE_UNSPECIFIED})}}function io(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&mP(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(pi).includes(h.toUpperCase())?h.toUpperCase():pi.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=io(h);else if(i.includes(c)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(io(m))}e[c]=p}else if(r.includes(c)){const p={};for(const[m,y]of Object.entries(h))p[m]=io(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=h}return e}function xh(t){return io(t)}function Eh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function mo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=io(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=io(e.response));return t}function po(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function pP(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function On(t,e){if(typeof e!="string")throw new Error("name must be a string");return pP(t,e,"cachedContents")}function vC(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wi(t){return _d(t)}function gP(t){return t!=null&&typeof t=="object"&&"name"in t}function yP(t){return t!=null&&typeof t=="object"&&"video"in t}function vP(t){return t!=null&&typeof t=="object"&&"uri"in t}function TC(t){var e;let n;if(gP(t)&&(n=t.name),!(vP(t)&&(n=t.uri,n===void 0))&&!(yP(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function SC(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function _C(t){for(const e of["models","tunedModels","publisherModels"])if(TP(t,e))return t[e];return[]}function TP(t,e){return t!==null&&typeof t=="object"&&e in t}function SP(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function _P(t,e={}){const n=[],i=new Set;for(const r of t){const l=r.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const c=SP(r,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function CC(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function CP(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function go(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function xC(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xP(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function EP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function wP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function bP(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],xP(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],EP(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],wP(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function EC(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>bP(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function AP(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["enum"]);l!=null&&f(e,["enum"],l);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&f(e,["maxProperties"],T);const S=u(t,["maximum"]);S!=null&&f(e,["maximum"],S);const C=u(t,["minItems"]);C!=null&&f(e,["minItems"],C);const b=u(t,["minLength"]);b!=null&&f(e,["minLength"],b);const E=u(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const R=u(t,["nullable"]);R!=null&&f(e,["nullable"],R);const k=u(t,["pattern"]);k!=null&&f(e,["pattern"],k);const D=u(t,["properties"]);D!=null&&f(e,["properties"],D);const L=u(t,["propertyOrdering"]);L!=null&&f(e,["propertyOrdering"],L);const N=u(t,["required"]);N!=null&&f(e,["required"],N);const V=u(t,["title"]);V!=null&&f(e,["title"],V);const z=u(t,["type"]);return z!=null&&f(e,["type"],z),e}function MP(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function RP(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function DP(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function NP(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],DP(n)),e}function PP(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function IP(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],PP(n)),e}function kP(){return{}}function UP(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>RP(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],NP(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],IP(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],kP());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function LP(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function VP(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function OP(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],VP(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function BP(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],LP(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],OP(i)),e}function qP(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function wC(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],qP(n)),e}function HP(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],wC(i)),e}function GP(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>HP(r))),f(e,["speakerVoiceConfigs"],i)}return e}function zP(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],wC(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],GP(i));const r=u(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function FP(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function $P(t,e,n){const i={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&f(n,["systemInstruction"],EC(vt(r)));const l=u(e,["temperature"]);l!=null&&f(i,["temperature"],l);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&f(i,["responseLogprobs"],T);const S=u(e,["logprobs"]);S!=null&&f(i,["logprobs"],S);const C=u(e,["presencePenalty"]);C!=null&&f(i,["presencePenalty"],C);const b=u(e,["frequencyPenalty"]);b!=null&&f(i,["frequencyPenalty"],b);const E=u(e,["seed"]);E!=null&&f(i,["seed"],E);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const R=u(e,["responseSchema"]);R!=null&&f(i,["responseSchema"],AP(xh(R)));const k=u(e,["responseJsonSchema"]);if(k!=null&&f(i,["responseJsonSchema"],k),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let Z=D;Array.isArray(Z)&&(Z=Z.map(ne=>MP(ne))),f(n,["safetySettings"],Z)}const L=u(e,["tools"]);if(n!==void 0&&L!=null){let Z=po(L);Array.isArray(Z)&&(Z=Z.map(ne=>UP(mo(ne)))),f(n,["tools"],Z)}const N=u(e,["toolConfig"]);if(n!==void 0&&N!=null&&f(n,["toolConfig"],BP(N)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&f(n,["cachedContent"],On(t,V));const z=u(e,["responseModalities"]);z!=null&&f(i,["responseModalities"],z);const j=u(e,["mediaResolution"]);j!=null&&f(i,["mediaResolution"],j);const J=u(e,["speechConfig"]);if(J!=null&&f(i,["speechConfig"],zP(Eh(J))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&f(i,["thinkingConfig"],FP(Q)),i}function JP(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["request","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=Xt(r);Array.isArray(c)&&(c=c.map(h=>EC(h))),f(n,["request","contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["request","generationConfig"],$P(t,l,n)),n}function YP(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&f(n,["fileName"],i);const r=u(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>JP(t,c))),f(n,["requests","requests"],l)}return n}function KP(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function jP(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["src"]);r!=null&&f(n,["batch","inputConfig"],YP(t,CC(t,r)));const l=u(e,["config"]);return l!=null&&f(n,["config"],KP(l,n)),n}function XP(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],go(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function WP(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],go(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function QP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);if(e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ZP(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],QP(n,e)),e}function eI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],go(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function tI(t){const e={},n=u(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);const r=u(t,["bigqueryUri"]);if(r!=null&&f(e,["bigquerySource","inputUri"],r),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function nI(t){const e={},n=u(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);const r=u(t,["bigqueryUri"]);if(r!=null&&f(e,["bigqueryDestination","outputUri"],r),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function iI(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const r=u(t,["dest"]);return e!==void 0&&r!=null&&f(e,["outputConfig"],nI(CP(r))),n}function sI(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],Ne(t,i));const r=u(e,["src"]);r!=null&&f(n,["inputConfig"],tI(CC(t,r)));const l=u(e,["config"]);return l!=null&&f(n,["config"],iI(l,n)),n}function oI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],go(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function rI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],go(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function aI(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const l=u(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function lI(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],aI(n,e)),e}function uI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],go(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function cI(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function fI(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function dI(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function hI(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],cI(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],fI(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],dI(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function mI(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>hI(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function pI(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function gI(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function yI(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>gI(r))),f(e,["urlMetadata"],i)}return e}function vI(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],mI(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],pI(i));const r=u(t,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);const l=u(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],yI(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&f(e,["safetyRatings"],T),e}function TI(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>vI(p))),f(e,["candidates"],h)}const r=u(t,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);const l=u(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=u(t,["usageMetadata"]);return c!=null&&f(e,["usageMetadata"],c),e}function bC(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["code"]);i!=null&&f(e,["code"],i);const r=u(t,["message"]);return r!=null&&f(e,["message"],r),e}function SI(t){const e={},n=u(t,["response"]);n!=null&&f(e,["response"],TI(n));const i=u(t,["error"]);return i!=null&&f(e,["error"],bC(i)),e}function _I(t){const e={},n=u(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>SI(l))),f(e,["inlinedResponses"],r)}return e}function wd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["metadata","state"]);r!=null&&f(e,["state"],xC(r));const l=u(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=u(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["metadata","model"]);p!=null&&f(e,["model"],p);const m=u(t,["metadata","output"]);return m!=null&&f(e,["dest"],_I(m)),e}function CI(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>wd(c))),f(e,["batchJobs"],l)}return e}function xI(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["done"]);i!=null&&f(e,["done"],i);const r=u(t,["error"]);return r!=null&&f(e,["error"],bC(r)),e}function AC(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["code"]);i!=null&&f(e,["code"],i);const r=u(t,["message"]);return r!=null&&f(e,["message"],r),e}function EI(t){const e={},n=u(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);const r=u(t,["bigquerySource","inputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function wI(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);const r=u(t,["bigqueryDestination","outputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function bd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["state"]);r!=null&&f(e,["state"],xC(r));const l=u(t,["error"]);l!=null&&f(e,["error"],AC(l));const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["startTime"]);h!=null&&f(e,["startTime"],h);const p=u(t,["endTime"]);p!=null&&f(e,["endTime"],p);const m=u(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const y=u(t,["model"]);y!=null&&f(e,["model"],y);const T=u(t,["inputConfig"]);T!=null&&f(e,["src"],EI(T));const S=u(t,["outputConfig"]);return S!=null&&f(e,["dest"],wI(S)),e}function bI(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>bd(c))),f(e,["batchJobs"],l)}return e}function AI(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["done"]);i!=null&&f(e,["done"],i);const r=u(t,["error"]);return r!=null&&f(e,["error"],AC(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Yi||(Yi={}));class $r{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!i||Object.keys(i).length===0?c={config:{}}:typeof i=="object"?c=Object.assign({},i):c=i,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MI extends Xi{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const r=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${r}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new $r(Yi.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=sI(this.apiClient,e);return h=re("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>bd(y))}else{const m=jP(this.apiClient,e);return h=re("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>wd(y))}}async get(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=oI(this.apiClient,e);return h=re("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>bd(y))}else{const m=XP(this.apiClient,e);return h=re("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>wd(y))}}async cancel(e){var n,i,r,l;let c="",h={};if(this.apiClient.isVertexAI()){const p=rI(this.apiClient,e);c=re("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=WP(this.apiClient,e);c=re("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=lI(e);return h=re("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=bI(y),S=new RT;return Object.assign(S,T),S})}else{const m=ZP(e);return h=re("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=CI(y),S=new RT;return Object.assign(S,T),S})}}async delete(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=uI(this.apiClient,e);return h=re("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>AI(y))}else{const m=eI(this.apiClient,e);return h=re("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>xI(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RI(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function DI(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function NI(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function PI(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],RI(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],DI(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],NI(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function IT(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>PI(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function II(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function kI(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function UI(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],kI(n)),e}function LI(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function VI(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],LI(n)),e}function OI(){return{}}function BI(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>II(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],UI(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],VI(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],OI());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function qI(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function HI(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function GI(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],HI(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function zI(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],qI(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],GI(i)),e}function FI(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const r=u(t,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const l=u(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let y=Xt(c);Array.isArray(y)&&(y=y.map(T=>IT(T))),f(e,["contents"],y)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],IT(vt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(T=>BI(T))),f(e,["tools"],y)}const m=u(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],zI(m)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $I(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],dC(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],FI(r,n)),n}function JI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],On(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function YI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],On(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function KI(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const r=u(t,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),n}function jI(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],On(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],KI(r,n)),n}function XI(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),n}function WI(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],XI(n,e)),e}function QI(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function ZI(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function ek(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function tk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],QI(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],ZI(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],ek(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function kT(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>tk(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function nk(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const r=u(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function ik(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function sk(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],ik(n)),e}function ok(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function rk(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],ok(n)),e}function ak(){return{}}function lk(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function uk(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],lk(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const r=u(t,["googleServiceAccountConfig"]);r!=null&&f(e,["googleServiceAccountConfig"],r);const l=u(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function ck(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],uk(n)),e}function fk(){return{}}function dk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(S=>nk(S))),f(e,["functionDeclarations"],T)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const r=u(t,["googleSearch"]);r!=null&&f(e,["googleSearch"],sk(r));const l=u(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],rk(l)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],ak());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],ck(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],fk());const m=u(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const y=u(t,["computerUse"]);return y!=null&&f(e,["computerUse"],y),e}function hk(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function mk(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function pk(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],mk(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function gk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],hk(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],pk(i)),e}function yk(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const r=u(t,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const l=u(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let T=Xt(c);Array.isArray(T)&&(T=T.map(S=>kT(S))),f(e,["contents"],T)}const h=u(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],kT(vt(h)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let T=p;Array.isArray(T)&&(T=T.map(S=>dk(S))),f(e,["tools"],T)}const m=u(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],gk(m));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&f(e,["encryption_spec","kmsKeyName"],y),n}function vk(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["model"],dC(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],yk(r,n)),n}function Tk(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],On(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function Sk(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],On(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function _k(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const r=u(t,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),n}function Ck(t,e){const n={},i=u(e,["name"]);i!=null&&f(n,["_url","name"],On(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],_k(r,n)),n}function xk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),n}function Ek(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],xk(n,e)),e}function Cl(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["model"]);r!=null&&f(e,["model"],r);const l=u(t,["createTime"]);l!=null&&f(e,["createTime"],l);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function wk(){return{}}function bk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Cl(c))),f(e,["cachedContents"],l)}return e}function xl(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["model"]);r!=null&&f(e,["model"],r);const l=u(t,["createTime"]);l!=null&&f(e,["createTime"],l);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const h=u(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function Ak(){return{}}function Mk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>xl(c))),f(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rk extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $r(Yi.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=vk(this.apiClient,e);return h=re("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>xl(y))}else{const m=$I(this.apiClient,e);return h=re("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Cl(y))}}async get(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=Tk(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>xl(y))}else{const m=JI(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Cl(y))}}async delete(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=Sk(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=Ak(),T=new AT;return Object.assign(T,y),T})}else{const m=YI(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=wk(),T=new AT;return Object.assign(T,y),T})}}async update(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=Ck(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>xl(y))}else{const m=jI(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Cl(y))}}async listInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=Ek(e);return h=re("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=Mk(y),S=new MT;return Object.assign(S,T),S})}else{const m=WI(e);return h=re("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=bk(y),S=new MT;return Object.assign(S,T),S})}}}function UT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(t){return this instanceof qe?(this.v=t,this):new qe(t)}function so(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(C){return function(b){return Promise.resolve(b).then(C,T)}}function h(C,b){i[C]&&(r[C]=function(E){return new Promise(function(A,R){l.push([C,E,A,R])>1||p(C,E)})},b&&(r[C]=b(r[C])))}function p(C,b){try{m(i[C](b))}catch(E){S(l[0][3],E)}}function m(C){C.value instanceof qe?Promise.resolve(C.value.v).then(y,T):S(l[0][2],C)}function y(C){p("next",C)}function T(C){p("throw",C)}function S(C,b){C(b),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Ir(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof UT=="function"?UT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(c){return new Promise(function(h,p){c=t[l](c),r(h,p,c.done,c.value)})}}function r(l,c,h,p){Promise.resolve(p).then(function(m){l({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dk(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:MC(n)}function MC(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Nk(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function LT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let l=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),l&&!MC(t[i])&&(l=!1),i++;l?e.push(...r):e.pop()}return e}class Pk{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ik(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ik{constructor(e,n,i,r={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),Nk(l)}async sendMessage(e){var n;await this.sendPromise;const i=vt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,h;const p=await r,m=(c=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(T))!==null&&h!==void 0?h:[]);const C=m?[m]:[];this.recordHistory(i,C,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=vt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?LT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,r;return so(this,arguments,function*(){var c,h,p,m;const y=[];try{for(var T=!0,S=Ir(e),C;C=yield qe(S.next()),c=C.done,!c;T=!0){m=C.value,T=!1;const b=m;if(Dk(b)){const E=(r=(i=b.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;E!==void 0&&y.push(E)}yield yield qe(b)}}catch(b){h={error:b}}finally{try{!T&&!c&&(p=S.return)&&(yield qe(p.call(S)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(l=>l.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...LT(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Jl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),n}function Uk(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],kk(n,e)),e}function Lk(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["message"]);i!=null&&f(e,["message"],i);const r=u(t,["code"]);return r!=null&&f(e,["code"],r),e}function Vk(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["mimeType"]);r!=null&&f(e,["mimeType"],r);const l=u(t,["sizeBytes"]);l!=null&&f(e,["sizeBytes"],l);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&f(e,["downloadUri"],T);const S=u(t,["state"]);S!=null&&f(e,["state"],S);const C=u(t,["source"]);C!=null&&f(e,["source"],C);const b=u(t,["videoMetadata"]);b!=null&&f(e,["videoMetadata"],b);const E=u(t,["error"]);return E!=null&&f(e,["error"],Lk(E)),e}function Ok(t){const e={},n=u(t,["file"]);n!=null&&f(e,["file"],Vk(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function Bk(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],TC(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function qk(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],TC(n));const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function Hk(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const i=u(t,["message"]);i!=null&&f(e,["message"],i);const r=u(t,["code"]);return r!=null&&f(e,["code"],r),e}function Ad(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["mimeType"]);r!=null&&f(e,["mimeType"],r);const l=u(t,["sizeBytes"]);l!=null&&f(e,["sizeBytes"],l);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=u(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=u(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&f(e,["downloadUri"],T);const S=u(t,["state"]);S!=null&&f(e,["state"],S);const C=u(t,["source"]);C!=null&&f(e,["source"],C);const b=u(t,["videoMetadata"]);b!=null&&f(e,["videoMetadata"],b);const E=u(t,["error"]);return E!=null&&f(e,["error"],Hk(E)),e}function Gk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Ad(c))),f(e,["files"],l)}return e}function zk(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function Fk(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $k extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $r(Yi.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ad(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Uk(e);return l=re("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),r.then(p=>{const m=Gk(p),y=new uP;return Object.assign(y,m),y})}}async createInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ok(e);return l=re("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=zk(p),y=new cP;return Object.assign(y,m),y})}}async get(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Bk(e);return l=re("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Ad(p))}}async delete(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=qk(e);return l=re("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(()=>{const p=Fk(),m=new fP;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jk(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function RC(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],Jk(n)),e}function Yk(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],RC(i)),e}function Kk(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Yk(r))),f(e,["speakerVoiceConfigs"],i)}return e}function jk(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],RC(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],Kk(i));const r=u(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function Xk(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function Wk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Qk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Zk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],Xk(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],Wk(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],Qk(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function e2(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Zk(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function t2(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function n2(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function i2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n2(n)),e}function s2(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function o2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],s2(n)),e}function r2(){return{}}function a2(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>t2(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],i2(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],o2(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],r2());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function l2(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function VT(){return{}}function u2(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const r=u(t,["endOfSpeechSensitivity"]);r!=null&&f(e,["endOfSpeechSensitivity"],r);const l=u(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function c2(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],u2(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const r=u(t,["turnCoverage"]);return r!=null&&f(e,["turnCoverage"],r),e}function f2(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function d2(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],f2(i)),e}function h2(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function m2(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const r=u(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=u(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","speechConfig"],jk(wh(T)));const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const C=u(t,["systemInstruction"]);e!==void 0&&C!=null&&f(e,["setup","systemInstruction"],e2(vt(C)));const b=u(t,["tools"]);if(e!==void 0&&b!=null){let N=po(b);Array.isArray(N)&&(N=N.map(V=>a2(mo(V)))),f(e,["setup","tools"],N)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],l2(E));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],VT());const R=u(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&f(e,["setup","outputAudioTranscription"],VT());const k=u(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],c2(k));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&f(e,["setup","contextWindowCompression"],d2(D));const L=u(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],h2(L)),n}function p2(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],m2(r,n)),n}function g2(){return{}}function y2(){return{}}function v2(t){const e={},n=u(t,["media"]);n!=null&&f(e,["mediaChunks"],hC(n));const i=u(t,["audio"]);i!=null&&f(e,["audio"],pC(i));const r=u(t,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const l=u(t,["video"]);l!=null&&f(e,["video"],mC(l));const c=u(t,["text"]);return c!=null&&f(e,["text"],c),u(t,["activityStart"])!=null&&f(e,["activityStart"],g2()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],y2()),e}function DC(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function T2(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>DC(r))),f(e,["weightedPrompts"],i)}return e}function NC(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&f(e,["topK"],i);const r=u(t,["seed"]);r!=null&&f(e,["seed"],r);const l=u(t,["guidance"]);l!=null&&f(e,["guidance"],l);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const h=u(t,["density"]);h!=null&&f(e,["density"],h);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&f(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&f(e,["muteDrums"],T);const S=u(t,["onlyBassAndDrums"]);return S!=null&&f(e,["onlyBassAndDrums"],S),e}function S2(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],NC(n)),e}function PC(t){const e={},n=u(t,["model"]);return n!=null&&f(e,["model"],n),e}function IC(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>DC(r))),f(e,["weightedPrompts"],i)}return e}function Md(t){const e={},n=u(t,["setup"]);n!=null&&f(e,["setup"],PC(n));const i=u(t,["clientContent"]);i!=null&&f(e,["clientContent"],IC(i));const r=u(t,["musicGenerationConfig"]);r!=null&&f(e,["musicGenerationConfig"],NC(r));const l=u(t,["playbackControl"]);return l!=null&&f(e,["playbackControl"],l),e}function _2(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function C2(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],_2(n)),e}function x2(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],C2(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function E2(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function w2(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function b2(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function A2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],E2(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],w2(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],b2(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function M2(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>A2(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function R2(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const r=u(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function D2(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function N2(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],D2(n)),e}function P2(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function I2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],P2(n)),e}function k2(){return{}}function U2(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function L2(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],U2(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const r=u(t,["googleServiceAccountConfig"]);r!=null&&f(e,["googleServiceAccountConfig"],r);const l=u(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function V2(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],L2(n)),e}function O2(){return{}}function B2(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(S=>R2(S))),f(e,["functionDeclarations"],T)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const r=u(t,["googleSearch"]);r!=null&&f(e,["googleSearch"],N2(r));const l=u(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],I2(l)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],k2());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],V2(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],O2());const m=u(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const y=u(t,["computerUse"]);return y!=null&&f(e,["computerUse"],y),e}function q2(t){const e={},n=u(t,["handle"]);n!=null&&f(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&f(e,["transparent"],i),e}function OT(){return{}}function H2(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const r=u(t,["endOfSpeechSensitivity"]);r!=null&&f(e,["endOfSpeechSensitivity"],r);const l=u(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function G2(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],H2(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const r=u(t,["turnCoverage"]);return r!=null&&f(e,["turnCoverage"],r),e}function z2(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function F2(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],z2(i)),e}function $2(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function J2(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const r=u(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=u(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","speechConfig"],x2(wh(T)));const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const C=u(t,["systemInstruction"]);e!==void 0&&C!=null&&f(e,["setup","systemInstruction"],M2(vt(C)));const b=u(t,["tools"]);if(e!==void 0&&b!=null){let N=po(b);Array.isArray(N)&&(N=N.map(V=>B2(mo(V)))),f(e,["setup","tools"],N)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],q2(E));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],OT());const R=u(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&f(e,["setup","outputAudioTranscription"],OT());const k=u(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],G2(k));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&f(e,["setup","contextWindowCompression"],F2(D));const L=u(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],$2(L)),n}function Y2(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],J2(r,n)),n}function K2(){return{}}function j2(){return{}}function X2(t){const e={},n=u(t,["media"]);n!=null&&f(e,["mediaChunks"],hC(n));const i=u(t,["audio"]);i!=null&&f(e,["audio"],pC(i));const r=u(t,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const l=u(t,["video"]);l!=null&&f(e,["video"],mC(l));const c=u(t,["text"]);return c!=null&&f(e,["text"],c),u(t,["activityStart"])!=null&&f(e,["activityStart"],K2()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],j2()),e}function W2(){return{}}function Q2(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function Z2(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function eU(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function tU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],Q2(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],Z2(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],eU(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function nU(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>tU(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function BT(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function iU(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function sU(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>iU(r))),f(e,["urlMetadata"],i)}return e}function oU(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],nU(n));const i=u(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const r=u(t,["interrupted"]);r!=null&&f(e,["interrupted"],r);const l=u(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],BT(h));const p=u(t,["outputTranscription"]);p!=null&&f(e,["outputTranscription"],BT(p));const m=u(t,["urlContextMetadata"]);return m!=null&&f(e,["urlContextMetadata"],sU(m)),e}function rU(t){const e={},n=u(t,["id"]);n!=null&&f(e,["id"],n);const i=u(t,["args"]);i!=null&&f(e,["args"],i);const r=u(t,["name"]);return r!=null&&f(e,["name"],r),e}function aU(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>rU(r))),f(e,["functionCalls"],i)}return e}function lU(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function pl(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function uU(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const r=u(t,["responseTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);const l=u(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(C=>pl(C))),f(e,["promptTokensDetails"],S)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(C=>pl(C))),f(e,["cacheTokensDetails"],S)}const y=u(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>pl(C))),f(e,["responseTokensDetails"],S)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(C=>pl(C))),f(e,["toolUsePromptTokensDetails"],S)}return e}function cU(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function fU(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&f(e,["resumable"],i);const r=u(t,["lastConsumedClientMessageIndex"]);return r!=null&&f(e,["lastConsumedClientMessageIndex"],r),e}function dU(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],W2());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],oU(i));const r=u(t,["toolCall"]);r!=null&&f(e,["toolCall"],aU(r));const l=u(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],lU(l));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],uU(c));const h=u(t,["goAway"]);h!=null&&f(e,["goAway"],cU(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],fU(p)),e}function hU(){return{}}function mU(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function pU(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>mU(r))),f(e,["weightedPrompts"],i)}return e}function gU(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&f(e,["topK"],i);const r=u(t,["seed"]);r!=null&&f(e,["seed"],r);const l=u(t,["guidance"]);l!=null&&f(e,["guidance"],l);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const h=u(t,["density"]);h!=null&&f(e,["density"],h);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=u(t,["scale"]);m!=null&&f(e,["scale"],m);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&f(e,["muteDrums"],T);const S=u(t,["onlyBassAndDrums"]);return S!=null&&f(e,["onlyBassAndDrums"],S),e}function yU(t){const e={},n=u(t,["clientContent"]);n!=null&&f(e,["clientContent"],pU(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],gU(i)),e}function vU(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&f(e,["mimeType"],i);const r=u(t,["sourceMetadata"]);return r!=null&&f(e,["sourceMetadata"],yU(r)),e}function TU(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>vU(r))),f(e,["audioChunks"],i)}return e}function SU(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&f(e,["filteredReason"],i),e}function _U(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],hU());const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],TU(i));const r=u(t,["filteredPrompt"]);return r!=null&&f(e,["filteredPrompt"],SU(r)),e}function CU(t){const e={},n=u(t,["sessionId"]);return n!=null&&f(e,["sessionId"],n),e}function xU(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function EU(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function wU(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function bU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],xU(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],EU(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],wU(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function AU(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>bU(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function qT(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const i=u(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function MU(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],AU(n));const i=u(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const r=u(t,["interrupted"]);r!=null&&f(e,["interrupted"],r);const l=u(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const h=u(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],qT(h));const p=u(t,["outputTranscription"]);return p!=null&&f(e,["outputTranscription"],qT(p)),e}function RU(t){const e={},n=u(t,["args"]);n!=null&&f(e,["args"],n);const i=u(t,["name"]);return i!=null&&f(e,["name"],i),e}function DU(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>RU(r))),f(e,["functionCalls"],i)}return e}function NU(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function gl(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function PU(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const r=u(t,["candidatesTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);const l=u(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=u(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=u(t,["promptTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(b=>gl(b))),f(e,["promptTokensDetails"],C)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(b=>gl(b))),f(e,["cacheTokensDetails"],C)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(b=>gl(b))),f(e,["responseTokensDetails"],C)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(b=>gl(b))),f(e,["toolUsePromptTokensDetails"],C)}const S=u(t,["trafficType"]);return S!=null&&f(e,["trafficType"],S),e}function IU(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function kU(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&f(e,["resumable"],i);const r=u(t,["lastConsumedClientMessageIndex"]);return r!=null&&f(e,["lastConsumedClientMessageIndex"],r),e}function UU(t){const e={},n=u(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],CU(n));const i=u(t,["serverContent"]);i!=null&&f(e,["serverContent"],MU(i));const r=u(t,["toolCall"]);r!=null&&f(e,["toolCall"],DU(r));const l=u(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],NU(l));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],PU(c));const h=u(t,["goAway"]);h!=null&&f(e,["goAway"],IU(h));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],kU(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LU(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function VU(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function OU(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function BU(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],LU(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],VU(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],OU(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function Yl(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>BU(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function qU(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["enum"]);l!=null&&f(e,["enum"],l);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&f(e,["maxProperties"],T);const S=u(t,["maximum"]);S!=null&&f(e,["maximum"],S);const C=u(t,["minItems"]);C!=null&&f(e,["minItems"],C);const b=u(t,["minLength"]);b!=null&&f(e,["minLength"],b);const E=u(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const R=u(t,["nullable"]);R!=null&&f(e,["nullable"],R);const k=u(t,["pattern"]);k!=null&&f(e,["pattern"],k);const D=u(t,["properties"]);D!=null&&f(e,["properties"],D);const L=u(t,["propertyOrdering"]);L!=null&&f(e,["propertyOrdering"],L);const N=u(t,["required"]);N!=null&&f(e,["required"],N);const V=u(t,["title"]);V!=null&&f(e,["title"],V);const z=u(t,["type"]);return z!=null&&f(e,["type"],z),e}function HU(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function GU(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function zU(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function FU(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],zU(n)),e}function $U(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function JU(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],$U(n)),e}function YU(){return{}}function KU(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>GU(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],FU(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],JU(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],YU());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function jU(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function XU(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function WU(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],XU(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function QU(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],jU(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],WU(i)),e}function ZU(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function kC(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],ZU(n)),e}function eL(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],kC(i)),e}function tL(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>eL(r))),f(e,["speakerVoiceConfigs"],i)}return e}function nL(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],kC(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],tL(i));const r=u(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function iL(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function sL(t,e,n){const i={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&f(n,["systemInstruction"],Yl(vt(r)));const l=u(e,["temperature"]);l!=null&&f(i,["temperature"],l);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&f(i,["responseLogprobs"],T);const S=u(e,["logprobs"]);S!=null&&f(i,["logprobs"],S);const C=u(e,["presencePenalty"]);C!=null&&f(i,["presencePenalty"],C);const b=u(e,["frequencyPenalty"]);b!=null&&f(i,["frequencyPenalty"],b);const E=u(e,["seed"]);E!=null&&f(i,["seed"],E);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const R=u(e,["responseSchema"]);R!=null&&f(i,["responseSchema"],qU(xh(R)));const k=u(e,["responseJsonSchema"]);if(k!=null&&f(i,["responseJsonSchema"],k),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let Z=D;Array.isArray(Z)&&(Z=Z.map(ne=>HU(ne))),f(n,["safetySettings"],Z)}const L=u(e,["tools"]);if(n!==void 0&&L!=null){let Z=po(L);Array.isArray(Z)&&(Z=Z.map(ne=>KU(mo(ne)))),f(n,["tools"],Z)}const N=u(e,["toolConfig"]);if(n!==void 0&&N!=null&&f(n,["toolConfig"],QU(N)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&f(n,["cachedContent"],On(t,V));const z=u(e,["responseModalities"]);z!=null&&f(i,["responseModalities"],z);const j=u(e,["mediaResolution"]);j!=null&&f(i,["mediaResolution"],j);const J=u(e,["speechConfig"]);if(J!=null&&f(i,["speechConfig"],nL(Eh(J))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&f(i,["thinkingConfig"],iL(Q)),i}function HT(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=Xt(r);Array.isArray(c)&&(c=c.map(h=>Yl(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["generationConfig"],sL(t,l,n)),n}function oL(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const r=u(t,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);const l=u(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function rL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);r!=null&&f(n,["requests[]","content"],yC(t,r));const l=u(e,["config"]);l!=null&&f(n,["config"],oL(l,n));const c=u(e,["model"]);return c!==void 0&&f(n,["requests[]","model"],Ne(t,c)),n}function aL(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const r=u(t,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);const l=u(t,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const m=u(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const y=u(t,["language"]);e!==void 0&&y!=null&&f(e,["parameters","language"],y);const T=u(t,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const S=u(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function lL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["config"]);return l!=null&&f(n,["config"],aL(l,n)),n}function uL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function cL(t,e,n){const i={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&f(n,["_query","pageSize"],r);const l=u(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],SC(t,h)),i}function fL(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],cL(t,i,n)),n}function dL(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const r=u(t,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const l=u(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function hL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],dL(r,n)),n}function mL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function pL(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function gL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=Xt(r);Array.isArray(c)&&(c=c.map(h=>Yl(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["config"],pL(l)),n}function yL(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],Wi(n));const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function vL(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(t,["durationSeconds"]);if(e!==void 0&&r!=null&&f(e,["parameters","durationSeconds"],r),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=u(t,["aspectRatio"]);if(e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=u(t,["personGeneration"]);if(e!==void 0&&c!=null&&f(e,["parameters","personGeneration"],c),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);const p=u(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&f(e,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function TL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["image"]);if(l!=null&&f(n,["instances[0]","image"],yL(l)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=u(e,["config"]);return c!=null&&f(n,["config"],vL(c,n)),n}function SL(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function _L(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function CL(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function xL(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],SL(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],_L(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],CL(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function yo(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>xL(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function EL(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&f(e,["default"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["enum"]);l!=null&&f(e,["enum"],l);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const h=u(t,["format"]);h!=null&&f(e,["format"],h);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const m=u(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&f(e,["maxProperties"],T);const S=u(t,["maximum"]);S!=null&&f(e,["maximum"],S);const C=u(t,["minItems"]);C!=null&&f(e,["minItems"],C);const b=u(t,["minLength"]);b!=null&&f(e,["minLength"],b);const E=u(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const A=u(t,["minimum"]);A!=null&&f(e,["minimum"],A);const R=u(t,["nullable"]);R!=null&&f(e,["nullable"],R);const k=u(t,["pattern"]);k!=null&&f(e,["pattern"],k);const D=u(t,["properties"]);D!=null&&f(e,["properties"],D);const L=u(t,["propertyOrdering"]);L!=null&&f(e,["propertyOrdering"],L);const N=u(t,["required"]);N!=null&&f(e,["required"],N);const V=u(t,["title"]);V!=null&&f(e,["title"],V);const z=u(t,["type"]);return z!=null&&f(e,["type"],z),e}function wL(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&f(e,["featureSelectionPreference"],n),e}function bL(t){const e={},n=u(t,["method"]);n!=null&&f(e,["method"],n);const i=u(t,["category"]);i!=null&&f(e,["category"],i);const r=u(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function AL(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const i=u(t,["name"]);i!=null&&f(e,["name"],i);const r=u(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const h=u(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function ML(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function RL(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],ML(n)),e}function DL(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function NL(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],DL(n)),e}function PL(){return{}}function IL(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function kL(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],IL(n));const i=u(t,["authType"]);i!=null&&f(e,["authType"],i);const r=u(t,["googleServiceAccountConfig"]);r!=null&&f(e,["googleServiceAccountConfig"],r);const l=u(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const h=u(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function UL(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],kL(n)),e}function LL(){return{}}function UC(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(S=>AL(S))),f(e,["functionDeclarations"],T)}const i=u(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const r=u(t,["googleSearch"]);r!=null&&f(e,["googleSearch"],RL(r));const l=u(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],NL(l)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],PL());const h=u(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],UL(h)),u(t,["urlContext"])!=null&&f(e,["urlContext"],LL());const m=u(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const y=u(t,["computerUse"]);return y!=null&&f(e,["computerUse"],y),e}function VL(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function OL(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function BL(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],OL(n));const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function qL(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],VL(n));const i=u(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],BL(i)),e}function HL(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function GL(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],HL(n)),e}function zL(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],GL(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function FL(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function $L(t,e,n){const i={},r=u(e,["systemInstruction"]);n!==void 0&&r!=null&&f(n,["systemInstruction"],yo(vt(r)));const l=u(e,["temperature"]);l!=null&&f(i,["temperature"],l);const c=u(e,["topP"]);c!=null&&f(i,["topP"],c);const h=u(e,["topK"]);h!=null&&f(i,["topK"],h);const p=u(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=u(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const y=u(e,["stopSequences"]);y!=null&&f(i,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&f(i,["responseLogprobs"],T);const S=u(e,["logprobs"]);S!=null&&f(i,["logprobs"],S);const C=u(e,["presencePenalty"]);C!=null&&f(i,["presencePenalty"],C);const b=u(e,["frequencyPenalty"]);b!=null&&f(i,["frequencyPenalty"],b);const E=u(e,["seed"]);E!=null&&f(i,["seed"],E);const A=u(e,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const R=u(e,["responseSchema"]);R!=null&&f(i,["responseSchema"],EL(xh(R)));const k=u(e,["responseJsonSchema"]);k!=null&&f(i,["responseJsonSchema"],k);const D=u(e,["routingConfig"]);D!=null&&f(i,["routingConfig"],D);const L=u(e,["modelSelectionConfig"]);L!=null&&f(i,["modelConfig"],wL(L));const N=u(e,["safetySettings"]);if(n!==void 0&&N!=null){let ve=N;Array.isArray(ve)&&(ve=ve.map(F=>bL(F))),f(n,["safetySettings"],ve)}const V=u(e,["tools"]);if(n!==void 0&&V!=null){let ve=po(V);Array.isArray(ve)&&(ve=ve.map(F=>UC(mo(F)))),f(n,["tools"],ve)}const z=u(e,["toolConfig"]);n!==void 0&&z!=null&&f(n,["toolConfig"],qL(z));const j=u(e,["labels"]);n!==void 0&&j!=null&&f(n,["labels"],j);const J=u(e,["cachedContent"]);n!==void 0&&J!=null&&f(n,["cachedContent"],On(t,J));const Q=u(e,["responseModalities"]);Q!=null&&f(i,["responseModalities"],Q);const Z=u(e,["mediaResolution"]);Z!=null&&f(i,["mediaResolution"],Z);const ne=u(e,["speechConfig"]);ne!=null&&f(i,["speechConfig"],zL(Eh(ne)));const Pe=u(e,["audioTimestamp"]);Pe!=null&&f(i,["audioTimestamp"],Pe);const ue=u(e,["thinkingConfig"]);return ue!=null&&f(i,["thinkingConfig"],FL(ue)),i}function GT(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=Xt(r);Array.isArray(c)&&(c=c.map(h=>yo(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["generationConfig"],$L(t,l,n)),n}function JL(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);const r=u(t,["title"]);e!==void 0&&r!=null&&f(e,["instances[]","title"],r);const l=u(t,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=u(t,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),n}function YL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);r!=null&&f(n,["instances[]","content"],yC(t,r));const l=u(e,["config"]);return l!=null&&f(n,["config"],JL(l,n)),n}function KL(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const r=u(t,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const l=u(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&f(e,["parameters","includeSafetyAttributes"],T);const S=u(t,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const C=u(t,["language"]);e!==void 0&&C!=null&&f(e,["parameters","language"],C);const b=u(t,["outputMimeType"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","mimeType"],b);const E=u(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const A=u(t,["addWatermark"]);e!==void 0&&A!=null&&f(e,["parameters","addWatermark"],A);const R=u(t,["imageSize"]);e!==void 0&&R!=null&&f(e,["parameters","sampleImageSize"],R);const k=u(t,["enhancePrompt"]);return e!==void 0&&k!=null&&f(e,["parameters","enhancePrompt"],k),n}function jL(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["config"]);return l!=null&&f(n,["config"],KL(l,n)),n}function Kl(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Wi(i));const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function XL(t){const e={},n=u(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);const r=u(t,["maskDilation"]);return r!=null&&f(e,["dilation"],r),e}function WL(t){const e={},n=u(t,["controlType"]);n!=null&&f(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function QL(t){const e={},n=u(t,["styleDescription"]);return n!=null&&f(e,["styleDescription"],n),e}function ZL(t){const e={},n=u(t,["subjectType"]);n!=null&&f(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&f(e,["subjectDescription"],i),e}function eV(t){const e={},n=u(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],Kl(n));const i=u(t,["referenceId"]);i!=null&&f(e,["referenceId"],i);const r=u(t,["referenceType"]);r!=null&&f(e,["referenceType"],r);const l=u(t,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],XL(l));const c=u(t,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],WL(c));const h=u(t,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],QL(h));const p=u(t,["subjectImageConfig"]);return p!=null&&f(e,["subjectImageConfig"],ZL(p)),e}function tV(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const r=u(t,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const l=u(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=u(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&f(e,["parameters","includeSafetyAttributes"],T);const S=u(t,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const C=u(t,["language"]);e!==void 0&&C!=null&&f(e,["parameters","language"],C);const b=u(t,["outputMimeType"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","mimeType"],b);const E=u(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const A=u(t,["addWatermark"]);e!==void 0&&A!=null&&f(e,["parameters","addWatermark"],A);const R=u(t,["editMode"]);e!==void 0&&R!=null&&f(e,["parameters","editMode"],R);const k=u(t,["baseSteps"]);return e!==void 0&&k!=null&&f(e,["parameters","editConfig","baseSteps"],k),n}function nV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>eV(p))),f(n,["instances[0]","referenceImages"],h)}const c=u(e,["config"]);return c!=null&&f(n,["config"],tV(c,n)),n}function iV(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&f(e,["parameters","includeRaiReason"],i);const r=u(t,["outputMimeType"]);e!==void 0&&r!=null&&f(e,["parameters","outputOptions","mimeType"],r);const l=u(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","compressionQuality"],l);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=u(t,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const m=u(t,["mode"]);return e!==void 0&&m!=null&&f(e,["parameters","mode"],m),n}function sV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["image"]);r!=null&&f(n,["instances[0]","image"],Kl(r));const l=u(e,["upscaleFactor"]);l!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=u(e,["config"]);return c!=null&&f(n,["config"],iV(c,n)),n}function oV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function rV(t,e,n){const i={},r=u(e,["pageSize"]);n!==void 0&&r!=null&&f(n,["_query","pageSize"],r);const l=u(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=u(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],SC(t,h)),i}function aV(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],rV(t,i,n)),n}function lV(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const r=u(t,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const l=u(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function uV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],lV(r,n)),n}function cV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","name"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],r),n}function fV(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],yo(vt(i)));const r=u(t,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>UC(h))),f(e,["tools"],c)}const l=u(t,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],l),n}function dV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=Xt(r);Array.isArray(c)&&(c=c.map(h=>yo(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["config"],fV(l,n)),n}function hV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["contents"]);if(r!=null){let c=Xt(r);Array.isArray(c)&&(c=c.map(h=>yo(h))),f(n,["contents"],c)}const l=u(e,["config"]);return l!=null&&f(n,["config"],l),n}function mV(t){const e={},n=u(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Wi(i));const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function pV(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const l=u(t,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const p=u(t,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const m=u(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const T=u(t,["pubsubTopic"]);e!==void 0&&T!=null&&f(e,["parameters","pubsubTopic"],T);const S=u(t,["negativePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","negativePrompt"],S);const C=u(t,["enhancePrompt"]);e!==void 0&&C!=null&&f(e,["parameters","enhancePrompt"],C);const b=u(t,["generateAudio"]);e!==void 0&&b!=null&&f(e,["parameters","generateAudio"],b);const E=u(t,["lastFrame"]);e!==void 0&&E!=null&&f(e,["instances[0]","lastFrame"],Kl(E));const A=u(t,["compressionQuality"]);return e!==void 0&&A!=null&&f(e,["parameters","compressionQuality"],A),n}function gV(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["_url","model"],Ne(t,i));const r=u(e,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const l=u(e,["image"]);l!=null&&f(n,["instances[0]","image"],Kl(l));const c=u(e,["video"]);c!=null&&f(n,["instances[0]","video"],mV(c));const h=u(e,["config"]);return h!=null&&f(n,["config"],pV(h,n)),n}function yV(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function vV(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function TV(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function SV(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],yV(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],vV(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],TV(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function _V(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>SV(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function CV(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function xV(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function EV(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>xV(r))),f(e,["urlMetadata"],i)}return e}function wV(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],_V(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],CV(i));const r=u(t,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);const l=u(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],EV(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&f(e,["safetyRatings"],T),e}function zT(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>wV(p))),f(e,["candidates"],h)}const r=u(t,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);const l=u(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=u(t,["usageMetadata"]);return c!=null&&f(e,["usageMetadata"],c),e}function bV(t){const e={},n=u(t,["values"]);return n!=null&&f(e,["values"],n),e}function AV(){return{}}function MV(t){const e={},n=u(t,["embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>bV(l))),f(e,["embeddings"],r)}return u(t,["metadata"])!=null&&f(e,["metadata"],AV()),e}function RV(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],Wi(n));const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function LC(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const r=u(t,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function DV(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],RV(n));const i=u(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const r=u(t,["_self"]);return r!=null&&f(e,["safetyAttributes"],LC(r)),e}function NV(t){const e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>DV(l))),f(e,["generatedImages"],r)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],LC(i)),e}function PV(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const r=u(t,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function Rd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["version"]);l!=null&&f(e,["version"],l);const c=u(t,["_self"]);c!=null&&f(e,["tunedModelInfo"],PV(c));const h=u(t,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const p=u(t,["outputTokenLimit"]);p!=null&&f(e,["outputTokenLimit"],p);const m=u(t,["supportedGenerationMethods"]);return m!=null&&f(e,["supportedActions"],m),e}function IV(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["_self"]);if(r!=null){let l=_C(r);Array.isArray(l)&&(l=l.map(c=>Rd(c))),f(e,["models"],l)}return e}function kV(){return{}}function UV(t){const e={},n=u(t,["totalTokens"]);n!=null&&f(e,["totalTokens"],n);const i=u(t,["cachedContentTokenCount"]);return i!=null&&f(e,["cachedContentTokenCount"],i),e}function LV(t){const e={},n=u(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],Wi(i));const r=u(t,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function VV(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],LV(n)),e}function OV(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>VV(c))),f(e,["generatedVideos"],l)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const r=u(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function BV(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const r=u(t,["done"]);r!=null&&f(e,["done"],r);const l=u(t,["error"]);l!=null&&f(e,["error"],l);const c=u(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],OV(c)),e}function qV(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function HV(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["data"]);i!=null&&f(e,["data"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function GV(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function zV(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],qV(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],HV(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],GV(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function FV(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>zV(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function $V(t){const e={},n=u(t,["citations"]);return n!=null&&f(e,["citations"],n),e}function JV(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function YV(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>JV(r))),f(e,["urlMetadata"],i)}return e}function KV(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],FV(n));const i=u(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],$V(i));const r=u(t,["finishMessage"]);r!=null&&f(e,["finishMessage"],r);const l=u(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],YV(c));const h=u(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=u(t,["index"]);m!=null&&f(e,["index"],m);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&f(e,["safetyRatings"],T),e}function FT(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(y=>KV(y))),f(e,["candidates"],m)}const r=u(t,["createTime"]);r!=null&&f(e,["createTime"],r);const l=u(t,["responseId"]);l!=null&&f(e,["responseId"],l);const c=u(t,["modelVersion"]);c!=null&&f(e,["modelVersion"],c);const h=u(t,["promptFeedback"]);h!=null&&f(e,["promptFeedback"],h);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function jV(t){const e={},n=u(t,["truncated"]);n!=null&&f(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function XV(t){const e={},n=u(t,["values"]);n!=null&&f(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&f(e,["statistics"],jV(i)),e}function WV(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&f(e,["billableCharacterCount"],n),e}function QV(t){const e={},n=u(t,["predictions[]","embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>XV(l))),f(e,["embeddings"],r)}const i=u(t,["metadata"]);return i!=null&&f(e,["metadata"],WV(i)),e}function ZV(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Wi(i));const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function VC(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const r=u(t,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function bh(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],ZV(n));const i=u(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const r=u(t,["_self"]);r!=null&&f(e,["safetyAttributes"],VC(r));const l=u(t,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function eO(t){const e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>bh(l))),f(e,["generatedImages"],r)}const i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],VC(i)),e}function tO(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>bh(r))),f(e,["generatedImages"],i)}return e}function nO(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>bh(r))),f(e,["generatedImages"],i)}return e}function iO(t){const e={},n=u(t,["endpoint"]);n!=null&&f(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function sO(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);const r=u(t,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function oO(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&f(e,["epoch"],i);const r=u(t,["step"]);return r!=null&&f(e,["step"],r),e}function Dd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["displayName"]);i!=null&&f(e,["displayName"],i);const r=u(t,["description"]);r!=null&&f(e,["description"],r);const l=u(t,["versionId"]);l!=null&&f(e,["version"],l);const c=u(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(S=>iO(S))),f(e,["endpoints"],T)}const h=u(t,["labels"]);h!=null&&f(e,["labels"],h);const p=u(t,["_self"]);p!=null&&f(e,["tunedModelInfo"],sO(p));const m=u(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const y=u(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>oO(S))),f(e,["checkpoints"],T)}return e}function rO(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["_self"]);if(r!=null){let l=_C(r);Array.isArray(l)&&(l=l.map(c=>Dd(c))),f(e,["models"],l)}return e}function aO(){return{}}function lO(t){const e={},n=u(t,["totalTokens"]);return n!=null&&f(e,["totalTokens"],n),e}function uO(t){const e={},n=u(t,["tokensInfo"]);return n!=null&&f(e,["tokensInfo"],n),e}function cO(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],Wi(i));const r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function fO(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],cO(n)),e}function dO(t){const e={},n=u(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>fO(c))),f(e,["generatedVideos"],l)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const r=u(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function hO(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const r=u(t,["done"]);r!=null&&f(e,["done"],r);const l=u(t,["error"]);l!=null&&f(e,["error"],l);const c=u(t,["response"]);return c!=null&&f(e,["response"],dO(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mO="Content-Type",pO="X-Server-Timeout",gO="User-Agent",Nd="x-goog-api-client",yO="1.11.0",vO=`google-genai-sdk/${yO}`,TO="v1beta1",SO="v1beta",$T=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _O{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:TO,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:SO,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))r.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(n))typeof l=="object"?i[r]=Object.assign(Object.assign({},i[r]),l):l!==void 0&&(i[r]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const r=new AbortController,l=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>r.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=l}return n&&n.extraBody!==null&&CO(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await JT(r),new xd(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await JT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return so(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:p}=yield qe(r.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=l.decode(p,{stream:!0});try{const T=JSON.parse(m);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),C=S.status,b=S.code,E=`got status: ${C}. ${JSON.stringify(T)}`;if(b>=400&&b<600)throw new Jl({message:E,status:b})}}catch(T){if(T.name==="ApiError")throw T}c+=m;let y=c.match($T);for(;y;){const T=y[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new xd(S)),c=c.slice(y[0].length),y=c.match($T)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=vO+" "+this.clientOptions.userAgentExtra;return e[gO]=n,e[Nd]=n,e[mO]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))n.append(i,r);e.timeout&&e.timeout>0&&n.append(pO,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);r.sizeBytes=String(c.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const p=await this.fetchUploadUrl(r,n);return l.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},c=await this.request({path:re("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:r});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function JT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new Jl({message:r,status:n}):new Error(r)}}function CO(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,c){const h=Object.assign({},l);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const r=i(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xO="mcp_used/unknown";let EO=!1;function OC(t){for(const e of t)if(wO(e)||typeof e=="object"&&"inputSchema"in e)return!0;return EO}function BC(t){var e;const n=(e=t[Nd])!==null&&e!==void 0?e:"";t[Nd]=(n+` ${xO}`).trimStart()}function wO(t){return t!==null&&typeof t=="object"&&t instanceof Ah}function bO(t,e=100){return so(this,arguments,function*(){let i,r=0;for(;r<e;){const l=yield qe(t.listTools({cursor:i}));for(const c of l.tools)yield yield qe(c),r++;if(!l.nextCursor)break;i=l.nextCursor}})}class Ah{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ah(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const l={},c=[];for(const y of this.mcpClients)try{for(var h=!0,p=(n=void 0,Ir(bO(y))),m;m=await p.next(),e=m.done,!e;h=!0){r=m.value,h=!1;const T=r;c.push(T);const S=T.name;if(l[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);l[S]=y}}catch(T){n={error:T}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),_P(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await r.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AO(t,e,n){const i=new hP;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data);const l=_U(r);Object.assign(i,l),e(i)}class MO{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=NO(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(D=>{m=D}),T=e.callbacks,S=function(){m({})},C=this.apiClient,b={onopen:S,onmessage:D=>{AO(C,T.onmessage,D)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(D){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(D){}},E=this.webSocketFactory.create(p,DO(c),b);E.connect(),await y;const A=Ne(this.apiClient,e.model),R=PC({model:A}),k=Md({setup:R});return E.send(JSON.stringify(k)),new RO(E,this.apiClient)}}class RO{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=T2(e),i=IC(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=S2(e),i=Md(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Md({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(no.PLAY)}pause(){this.sendPlaybackControl(no.PAUSE)}stop(){this.sendPlaybackControl(no.STOP)}resetContext(){this.sendPlaybackControl(no.RESET_CONTEXT)}close(){this.conn.close()}}function DO(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function NO(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PO="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IO(t,e,n){const i=new dP;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const l=JSON.parse(r);if(t.isVertexAI()){const c=UU(l);Object.assign(i,c)}else{const c=dU(l);Object.assign(i,c)}e(i)}class kO{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new MO(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&OC(e.config.tools)&&BC(T);const S=OO(T);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const J=this.apiClient.getApiKey();let Q="BidiGenerateContent",Z="key";J!=null&&J.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",Z="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${Q}?${Z}=${J}`}let C=()=>{};const b=new Promise(J=>{C=J}),E=e.callbacks,A=function(){var J;(J=E==null?void 0:E.onopen)===null||J===void 0||J.call(E),C({})},R=this.apiClient,k={onopen:A,onmessage:J=>{IO(R,E.onmessage,J)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(J){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(J){}},D=this.webSocketFactory.create(y,VO(S),k);D.connect(),await b;let L=Ne(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const J=this.apiClient.getProject(),Q=this.apiClient.getLocation();L=`projects/${J}/locations/${Q}/`+L}let N={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[kl.AUDIO]}:e.config.responseModalities=[kl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],z=[];for(const J of V)if(this.isCallableTool(J)){const Q=J;z.push(await Q.tool())}else z.push(J);z.length>0&&(e.config.tools=z);const j={model:L,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?N=Y2(this.apiClient,j):N=p2(this.apiClient,j),delete N.config,D.send(JSON.stringify(N)),new LO(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const UO={turnComplete:!0};class LO{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Xt(n.turns),e.isVertexAI()?i=i.map(r=>yo(r)):i=i.map(r=>Yl(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(PO)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},UO),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:X2(e)}:n={realtimeInput:v2(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function VO(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function OO(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YT=10;function KT(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(oo(c)){r=!0;break}if(!r)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function oo(t){return"callTool"in t&&typeof t.callTool=="function"}function BO(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>oo(r)))!==null&&i!==void 0?i:!1}function qO(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!oo(r)))!==null&&i!==void 0?i:!1}function jT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HO extends Xi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,l,c,h;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!BO(n)||KT(n.config))return await this.generateContentInternal(p);if(qO(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const T=Xt(p.contents),S=(l=(r=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:YT;let C=0;for(;C<S&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const b=m.candidates[0].content,E=[];for(const A of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(oo(A)){const k=await A.callTool(m.functionCalls);E.push(...k)}C++,y={role:"user",parts:E},p.contents=Xt(p.contents),p.contents.push(b),p.contents.push(y),jT(p.config)&&(T.push(b),T.push(y))}return jT(p.config)&&(m.automaticFunctionCallingHistory=T),m},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),KT(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let l;const c=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:c.push(p);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l}:h={generatedImages:c},h}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new $r(Yi.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async p=>oo(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&OC(e.config.tools)){const p=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),BC(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,r;const l=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(oo(c)){const h=c,p=await h.tool();for(const m of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,h)}}return l}async processAfcStream(e){var n,i,r;const l=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:YT;let c=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,y,T){var S,C;return so(this,arguments,function*(){for(var b,E,A,R;h<l;){c&&(h++,c=!1);const N=yield qe(m.processParamsMaybeAddMcpUsage(T)),V=yield qe(m.generateContentStreamInternal(N)),z=[],j=[];try{for(var k=!0,D=(E=void 0,Ir(V)),L;L=yield qe(D.next()),b=L.done,!b;k=!0){R=L.value,k=!1;const J=R;if(yield yield qe(J),J.candidates&&(!((S=J.candidates[0])===null||S===void 0)&&S.content)){j.push(J.candidates[0].content);for(const Q of(C=J.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(h<l&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(Q.functionCall.name)){const Z=yield qe(y.get(Q.functionCall.name).callTool([Q.functionCall]));z.push(...Z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(J){E={error:J}}finally{try{!k&&!b&&(A=D.return)&&(yield qe(A.call(D)))}finally{if(E)throw E.error}}if(z.length>0){c=!0;const J=new _r;J.candidates=[{content:{role:"user",parts:z}}],yield yield qe(J);const Q=[];Q.push(...j),Q.push({role:"user",parts:z});const Z=Xt(T.contents).concat(Q);T.contents=Z}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=GT(this.apiClient,e);return h=re("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=FT(y),S=new _r;return Object.assign(S,T),S})}else{const m=HT(this.apiClient,e);return h=re("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=zT(y),S=new _r;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=GT(this.apiClient,e);return h=re("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(T){return so(this,arguments,function*(){var S,C,b,E;try{for(var A=!0,R=Ir(T),k;k=yield qe(R.next()),S=k.done,!S;A=!0){E=k.value,A=!1;const D=E,L=FT(yield qe(D.json()));L.sdkHttpResponse={headers:D.headers};const N=new _r;Object.assign(N,L),yield yield qe(N)}}catch(D){C={error:D}}finally{try{!A&&!S&&(b=R.return)&&(yield qe(b.call(R)))}finally{if(C)throw C.error}}})})}else{const m=HT(this.apiClient,e);return h=re("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(T){return so(this,arguments,function*(){var S,C,b,E;try{for(var A=!0,R=Ir(T),k;k=yield qe(R.next()),S=k.done,!S;A=!0){E=k.value,A=!1;const D=E,L=zT(yield qe(D.json()));L.sdkHttpResponse={headers:D.headers};const N=new _r;Object.assign(N,L),yield yield qe(N)}}catch(D){C={error:D}}finally{try{!A&&!S&&(b=R.return)&&(yield qe(b.call(R)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=YL(this.apiClient,e);return h=re("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=QV(y),S=new ST;return Object.assign(S,T),S})}else{const m=rL(this.apiClient,e);return h=re("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const T=MV(y),S=new ST;return Object.assign(S,T),S})}}async generateImagesInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=jL(this.apiClient,e);return h=re("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=eO(y),S=new _T;return Object.assign(S,T),S})}else{const m=lL(this.apiClient,e);return h=re("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const T=NV(y),S=new _T;return Object.assign(S,T),S})}}async editImageInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=nV(this.apiClient,e);return l=re("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=tO(p),y=new rP;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=sV(this.apiClient,e);return l=re("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=nO(p),y=new aP;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=oV(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Dd(y))}else{const m=uL(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Rd(y))}}async listInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=aV(this.apiClient,e);return h=re("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=rO(y),S=new CT;return Object.assign(S,T),S})}else{const m=fL(this.apiClient,e);return h=re("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=IV(y),S=new CT;return Object.assign(S,T),S})}}async update(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=uV(this.apiClient,e);return h=re("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Dd(y))}else{const m=hL(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Rd(y))}}async delete(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=cV(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(()=>{const y=aO(),T=new xT;return Object.assign(T,y),T})}else{const m=mL(this.apiClient,e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=kV(),T=new xT;return Object.assign(T,y),T})}}async countTokens(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=dV(this.apiClient,e);return h=re("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=lO(y),S=new ET;return Object.assign(S,T),S})}else{const m=gL(this.apiClient,e);return h=re("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const T=UV(y),S=new ET;return Object.assign(S,T),S})}}async computeTokens(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=hV(this.apiClient,e);return l=re("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const m=uO(p),y=new lP;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=gV(this.apiClient,e);return h=re("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const T=hO(y),S=new Ul;return Object.assign(S,T),S})}else{const m=TL(this.apiClient,e);return h=re("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const T=BV(y),S=new Ul;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GO(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function zO(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function FO(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&f(e,["_url","resourceName"],i);const r=u(t,["config"]);return r!=null&&f(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $O extends Xi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=zO(e);return h=re("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c}else{const m=GO(e);return h=re("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=FO(e);return l=re("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JO(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function qC(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],JO(n)),e}function YO(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],qC(i)),e}function KO(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>YO(r))),f(e,["speakerVoiceConfigs"],i)}return e}function jO(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],qC(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],KO(i));const r=u(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function XO(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const r=u(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function WO(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function QO(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function ZO(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],XO(n));const i=u(t,["thought"]);i!=null&&f(e,["thought"],i);const r=u(t,["inlineData"]);r!=null&&f(e,["inlineData"],WO(r));const l=u(t,["fileData"]);l!=null&&f(e,["fileData"],QO(l));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const h=u(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=u(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&f(e,["text"],T),e}function e3(t){const e={},n=u(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>ZO(l))),f(e,["parts"],r)}const i=u(t,["role"]);return i!=null&&f(e,["role"],i),e}function t3(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=u(t,["description"]);i!=null&&f(e,["description"],i);const r=u(t,["name"]);r!=null&&f(e,["name"],r);const l=u(t,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const h=u(t,["response"]);h!=null&&f(e,["response"],h);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function n3(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function i3(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n3(n)),e}function s3(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function o3(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],s3(n)),e}function r3(){return{}}function a3(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>t3(m))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],i3(i));const r=u(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],o3(r)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],r3());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=u(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function l3(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function XT(){return{}}function u3(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const r=u(t,["endOfSpeechSensitivity"]);r!=null&&f(e,["endOfSpeechSensitivity"],r);const l=u(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function c3(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],u3(n));const i=u(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const r=u(t,["turnCoverage"]);return r!=null&&f(e,["turnCoverage"],r),e}function f3(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function d3(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],f3(i)),e}function h3(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function m3(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const r=u(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=u(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=u(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","speechConfig"],jO(wh(T)));const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const C=u(t,["systemInstruction"]);e!==void 0&&C!=null&&f(e,["setup","systemInstruction"],e3(vt(C)));const b=u(t,["tools"]);if(e!==void 0&&b!=null){let N=po(b);Array.isArray(N)&&(N=N.map(V=>a3(mo(V)))),f(e,["setup","tools"],N)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],l3(E));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],XT());const R=u(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&f(e,["setup","outputAudioTranscription"],XT());const k=u(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],c3(k));const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&f(e,["setup","contextWindowCompression"],d3(D));const L=u(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],h3(L)),n}function p3(t,e){const n={},i=u(e,["model"]);i!=null&&f(n,["setup","model"],Ne(t,i));const r=u(e,["config"]);return r!=null&&f(n,["config"],m3(r,n)),n}function g3(t,e,n){const i={},r=u(e,["expireTime"]);n!==void 0&&r!=null&&f(n,["expireTime"],r);const l=u(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&f(n,["newSessionExpireTime"],l);const c=u(e,["uses"]);n!==void 0&&c!=null&&f(n,["uses"],c);const h=u(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&f(n,["bidiGenerateContentSetup"],p3(t,h));const p=u(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&f(n,["fieldMask"],p),i}function y3(t,e){const n={},i=u(e,["config"]);return i!=null&&f(n,["config"],g3(t,i,n)),n}function v3(t){const e={},n=u(t,["name"]);return n!=null&&f(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T3(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(l=>`${n}.${l}`);e.push(...r)}else e.push(n)}return e.join(",")}function S3(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const l=T3(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];l&&p.push(l),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class _3 extends Xi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=y3(this.apiClient,e);l=re("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const p=S3(h,e.config);return r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>v3(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C3(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function x3(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const l=u(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function E3(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],x3(n,e)),e}function w3(t){const e={},n=u(t,["textInput"]);n!=null&&f(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&f(e,["output"],i),e}function b3(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>w3(r))),f(e,["examples","examples"],i)}return e}function A3(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&f(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=u(t,["epochCount"]);e!==void 0&&r!=null&&f(e,["tuningTask","hyperparameters","epochCount"],r);const l=u(t,["learningRateMultiplier"]);if(l!=null&&f(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=u(t,["batchSize"]);e!==void 0&&c!=null&&f(e,["tuningTask","hyperparameters","batchSize"],c);const h=u(t,["learningRate"]);return e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","learningRate"],h),n}function M3(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&f(e,["tuningTask","trainingData"],b3(i));const r=u(t,["config"]);return r!=null&&f(e,["config"],A3(r,e)),e}function R3(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&f(e,["config"],i),e}function D3(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const r=u(t,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const l=u(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function N3(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],D3(n,e)),e}function P3(t,e){const n={},i=u(t,["gcsUri"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],i);const r=u(t,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],r),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function I3(t,e){const n={},i=u(t,["gcsUri"]);i!=null&&f(n,["validationDatasetUri"],i);const r=u(t,["vertexDatasetResource"]);return e!==void 0&&r!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],r),n}function k3(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec"],I3(i,n));const r=u(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&f(e,["tunedModelDisplayName"],r);const l=u(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const c=u(t,["epochCount"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=u(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=u(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=u(t,["adapterSize"]);if(e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function U3(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=u(t,["trainingDataset"]);i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],P3(i,e));const r=u(t,["config"]);return r!=null&&f(e,["config"],k3(r,e)),e}function L3(t){const e={},n=u(t,["name"]);n!=null&&f(e,["model"],n);const i=u(t,["name"]);return i!=null&&f(e,["endpoint"],i),e}function HC(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["state"]);i!=null&&f(e,["state"],vC(i));const r=u(t,["createTime"]);r!=null&&f(e,["createTime"],r);const l=u(t,["tuningTask","startTime"]);l!=null&&f(e,["startTime"],l);const c=u(t,["tuningTask","completeTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&f(e,["description"],p);const m=u(t,["baseModel"]);m!=null&&f(e,["baseModel"],m);const y=u(t,["_self"]);y!=null&&f(e,["tunedModel"],L3(y));const T=u(t,["distillationSpec"]);T!=null&&f(e,["distillationSpec"],T);const S=u(t,["experiment"]);S!=null&&f(e,["experiment"],S);const C=u(t,["labels"]);C!=null&&f(e,["labels"],C);const b=u(t,["pipelineJob"]);b!=null&&f(e,["pipelineJob"],b);const E=u(t,["satisfiesPzi"]);E!=null&&f(e,["satisfiesPzi"],E);const A=u(t,["satisfiesPzs"]);A!=null&&f(e,["satisfiesPzs"],A);const R=u(t,["serviceAccount"]);R!=null&&f(e,["serviceAccount"],R);const k=u(t,["tunedModelDisplayName"]);return k!=null&&f(e,["tunedModelDisplayName"],k),e}function V3(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>HC(c))),f(e,["tuningJobs"],l)}return e}function O3(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["metadata"]);i!=null&&f(e,["metadata"],i);const r=u(t,["done"]);r!=null&&f(e,["done"],r);const l=u(t,["error"]);return l!=null&&f(e,["error"],l),e}function B3(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&f(e,["epoch"],i);const r=u(t,["step"]);r!=null&&f(e,["step"],r);const l=u(t,["endpoint"]);return l!=null&&f(e,["endpoint"],l),e}function q3(t){const e={},n=u(t,["model"]);n!=null&&f(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&f(e,["endpoint"],i);const r=u(t,["checkpoints"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>B3(c))),f(e,["checkpoints"],l)}return e}function Pd(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const i=u(t,["state"]);i!=null&&f(e,["state"],vC(i));const r=u(t,["createTime"]);r!=null&&f(e,["createTime"],r);const l=u(t,["startTime"]);l!=null&&f(e,["startTime"],l);const c=u(t,["endTime"]);c!=null&&f(e,["endTime"],c);const h=u(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&f(e,["error"],p);const m=u(t,["description"]);m!=null&&f(e,["description"],m);const y=u(t,["baseModel"]);y!=null&&f(e,["baseModel"],y);const T=u(t,["tunedModel"]);T!=null&&f(e,["tunedModel"],q3(T));const S=u(t,["supervisedTuningSpec"]);S!=null&&f(e,["supervisedTuningSpec"],S);const C=u(t,["tuningDataStats"]);C!=null&&f(e,["tuningDataStats"],C);const b=u(t,["encryptionSpec"]);b!=null&&f(e,["encryptionSpec"],b);const E=u(t,["partnerModelTuningSpec"]);E!=null&&f(e,["partnerModelTuningSpec"],E);const A=u(t,["distillationSpec"]);A!=null&&f(e,["distillationSpec"],A);const R=u(t,["experiment"]);R!=null&&f(e,["experiment"],R);const k=u(t,["labels"]);k!=null&&f(e,["labels"],k);const D=u(t,["pipelineJob"]);D!=null&&f(e,["pipelineJob"],D);const L=u(t,["satisfiesPzi"]);L!=null&&f(e,["satisfiesPzi"],L);const N=u(t,["satisfiesPzs"]);N!=null&&f(e,["satisfiesPzs"],N);const V=u(t,["serviceAccount"]);V!=null&&f(e,["serviceAccount"],V);const z=u(t,["tunedModelDisplayName"]);return z!=null&&f(e,["tunedModelDisplayName"],z),e}function H3(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const r=u(t,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Pd(c))),f(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G3 extends Xi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new $r(Yi.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:Cd.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=R3(e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>Pd(y))}else{const m=C3(e);return h=re("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>HC(y))}}async listInternal(e){var n,i,r,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const m=N3(e);return h=re("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=H3(y),S=new bT;return Object.assign(S,T),S})}else{const m=E3(e);return h=re("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=V3(y),S=new bT;return Object.assign(S,T),S})}}async tuneInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=U3(e);return l=re("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Pd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=M3(e);return l=re("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>O3(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const F3=1024*1024*8,$3=3,J3=1e3,Y3=2,zf="x-goog-upload-status";async function K3(t,e,n){var i,r,l;let c=0,h=0,p=new xd(new Response),m="upload";for(c=t.size;h<c;){const T=Math.min(F3,c-h),S=t.slice(h,h+T);h+T>=c&&(m+=", finalize");let C=0,b=J3;for(;C<$3&&(p=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[zf]));)C++,await X3(b),b=b*Y3;if(h+=T,((r=p==null?void 0:p.headers)===null||r===void 0?void 0:r[zf])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((l=p==null?void 0:p.headers)===null||l===void 0?void 0:l[zf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function j3(t){return{size:t.size,type:t.type}}function X3(t){return new Promise(e=>setTimeout(e,t))}class W3{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await K3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await j3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q3{create(e,n,i){return new Z3(e,n,i)}}class Z3{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WT="x-goog-api-key";class eB{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(WT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(WT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tB="gl-node/";class nB{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=oP(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new eB(this.apiKey);this.apiClient=new _O({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:tB+"web",uploader:new W3,downloader:new z3}),this.models=new HO(this.apiClient),this.live=new kO(this.apiClient,r,new Q3),this.batches=new MI(this.apiClient),this.chats=new Pk(this.models,this.apiClient),this.caches=new Rk(this.apiClient),this.files=new $k(this.apiClient),this.operations=new $O(this.apiClient),this.authTokens=new _3(this.apiClient),this.tunings=new G3(this.apiClient)}}const iB=new nB({apiKey:"PLACEHOLDER_API_KEY"}),sB=(t,e,n)=>{if(t.length===0)return"Tidak ada data transaksi yang tersedia saat ini.";const i=t.filter(y=>y.type===Ve.INCOME).reduce((y,T)=>y+T.amount,0),r=t.filter(y=>y.type===Ve.EXPENSE).reduce((y,T)=>y+T.amount,0),l=i-r,c=y=>{const T=t.filter(S=>S.type===y).reduce((S,C)=>{var A,R;let b="Unknown";C.subtype===fn.PENDAPATAN||C.subtype===St.REGULER?b=((A=e.find(k=>k.id===C.source_id))==null?void 0:A.name)||C.source_id:b=((R=n.find(k=>k.id===C.source_id))==null?void 0:R.name)||C.source_id;const E=`${C.subtype} dari ${b}`;return S[E]=(S[E]||0)+C.amount,S},{});return Object.entries(T).map(([S,C])=>`- ${S}: Rp ${C.toLocaleString("id-ID")}`).join(`
`)},h=c(Ve.INCOME),p=c(Ve.EXPENSE);return`
## Ringkasan Keuangan Saat Ini
- Total Pemasukan: Rp ${i.toLocaleString("id-ID")}
- Total Pengeluaran: Rp ${r.toLocaleString("id-ID")}
- Saldo Saat Ini: Rp ${l.toLocaleString("id-ID")}

## Rincian Pemasukan
${h||"Tidak ada pemasukan."}

## Rincian Pengeluaran
${p||"Tidak ada pengeluaran."}
  `.trim()};async function*oB(t,e,n,i){const l=`
Data Keuangan:
${sB(t,n,i)}

Pertanyaan Pengguna:
"${e}"

Berdasarkan data keuangan di atas, berikan jawaban atau saran yang relevan untuk pertanyaan pengguna.
  `;try{const c=await iB.models.generateContentStream({model:"gemini-2.5-flash",contents:l,config:{systemInstruction:"Anda adalah 'SIKAT Advisor', seorang asisten keuangan yang ramah dan suportif untuk aplikasi SIKAT (Sistem Informasi Keuangan Al-Hasaniyyah Terpusat). Tujuan Anda adalah membantu pengguna mengelola keuangan organisasi dengan lebih baik. Berikan jawaban yang praktis, ringkas, dan memotivasi dalam Bahasa Indonesia. Analisis data yang diberikan untuk memberikan saran yang relevan."}});for await(const h of c)yield h.text}catch(c){console.error("Error calling Gemini API:",c),yield"Maaf, terjadi kesalahan saat menghubungi asisten AI. Silakan coba lagi nanti."}}const rB=()=>{const{transactions:t,lembagas:e,pemberiPinjamans:n}=ho(),[i,r]=q.useState([]),[l,c]=q.useState(""),[h,p]=q.useState(!1),m=q.useRef(null),y=q.useCallback(()=>{var b;(b=m.current)==null||b.scrollIntoView({behavior:"smooth"})},[]);q.useEffect(y,[i]),q.useEffect(()=>{setTimeout(()=>{r([{id:"initial",text:"Halo! Saya SIKAT Advisor. Tanyakan apa saja tentang data keuangan Anda, dan saya akan bantu menganalisisnya.",sender:"ai"}])},500)},[]);const T=q.useCallback(async()=>{if(l.trim()===""||h)return;const b={id:Date.now().toString(),text:l,sender:"user"},E={id:"ai-streaming-response",text:"",sender:"ai"};r(R=>[...R,b,E]);const A=l;c(""),p(!0);try{const R=oB(t,A,e,n);let k="";for await(const D of R)k+=D,r(L=>L.map(N=>N.id==="ai-streaming-response"?{...N,text:k}:N));r(D=>D.map(L=>L.id==="ai-streaming-response"?{...L,id:(Date.now()+1).toString()}:L))}catch{r(k=>k.map(D=>D.id==="ai-streaming-response"?{...D,id:(Date.now()+1).toString(),text:"Maaf, terjadi kesalahan. Coba lagi nanti."}:D))}finally{p(!1)}},[l,h,t,e,n,r,c,p]),S=q.useCallback(b=>{b.key==="Enter"&&T()},[T]),C=q.useCallback(b=>b.sender==="ai"&&b.text===""&&h?x.jsxs("div",{className:"flex items-center justify-center space-x-1 p-2",children:[x.jsx(oe.div,{className:"w-2 h-2 bg-slate-400 rounded-full",animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:0}}),x.jsx(oe.div,{className:"w-2 h-2 bg-slate-400 rounded-full",animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.2}}),x.jsx(oe.div,{className:"w-2 h-2 bg-slate-400 rounded-full",animate:{y:[0,-4,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut",delay:.4}})]}):x.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:b.text}),[h]);return x.jsxs("div",{className:"flex flex-col h-full p-4",children:[x.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[x.jsx(mn,{children:i.map(b=>x.jsxs(oe.div,{className:`flex items-end gap-2.5 ${b.sender==="user"?"justify-end":"justify-start"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},layout:!0,children:[b.sender==="ai"&&x.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-bca-blue flex items-center justify-center",children:x.jsx(RN,{className:"w-5 h-5 text-white"})}),x.jsx("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-4 py-3 rounded-3xl ${b.sender==="user"?"bg-bca-blue text-white rounded-br-lg":"bg-slate-200 text-slate-800 rounded-bl-lg"}`,children:C(b)})]},b.id))}),x.jsx("div",{ref:m})]}),x.jsxs("div",{className:"mt-4 flex-shrink-0 flex items-center gap-2",children:[x.jsx("input",{type:"text",value:l,onChange:b=>c(b.target.value),onKeyDown:S,placeholder:"Tanya SIKAT Advisor...",className:"w-full bg-white border border-slate-300 text-slate-900 rounded-full py-3 px-5 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",disabled:h}),x.jsx(oe.button,{onClick:T,disabled:h||l.trim()==="",className:"bg-bca-blue text-white p-3 rounded-full disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",whileTap:{scale:.9},children:x.jsx(MN,{className:"w-6 h-6"})})]})]})},aB=({isOpen:t,onClose:e,onSave:n,initialValue:i="",title:r,label:l,isSaving:c=!1})=>{const[h,p]=q.useState(i);q.useEffect(()=>{t&&p(i)},[t,i]);const m=S=>{S.preventDefault(),h.trim()&&!c&&n(h.trim())},y={visible:{opacity:1},hidden:{opacity:0}},T={visible:{opacity:1,scale:1,transition:{type:"spring",damping:20,stiffness:250}},hidden:{opacity:0,scale:.9}};return x.jsx(mn,{children:t&&x.jsx(oe.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:e,initial:"hidden",animate:"visible",exit:"hidden",variants:y,children:x.jsxs(oe.div,{className:"bg-white w-full max-w-sm rounded-2xl p-5 shadow-xl",onClick:S=>S.stopPropagation(),variants:T,initial:"hidden",animate:"visible",exit:"hidden",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r}),x.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800",disabled:c,children:x.jsx(rC,{className:"w-6 h-6"})})]}),x.jsx("form",{onSubmit:m,children:x.jsxs("fieldset",{disabled:c,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"master-data-name",className:"block text-sm font-medium text-slate-600 mb-1",children:l}),x.jsx("input",{type:"text",id:"master-data-name",value:h,onChange:S=>p(S.target.value),placeholder:`e.g. Nama ${l}`,className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",autoFocus:!0})]}),x.jsx(oe.button,{type:"submit",className:"w-full bg-bca-blue hover:bg-blue-800 text-white font-bold py-3 px-4 rounded-lg transition-all focus:outline-none focus:ring-4 focus:ring-bca-blue/50 shadow-md shadow-blue-600/30 disabled:bg-slate-400",whileTap:{scale:.98},children:c?"Menyimpan...":"Simpan"})]})})]})})})},GC=({isOpen:t,onConfirm:e,onCancel:n,title:i,children:r,isDeleting:l=!1})=>{const c={visible:{opacity:1},hidden:{opacity:0}},h={visible:{opacity:1,scale:1,transition:{type:"spring",damping:20,stiffness:250}},hidden:{opacity:0,scale:.9}};return x.jsx(mn,{children:t&&x.jsx(oe.div,{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex justify-center items-center p-4",initial:"hidden",animate:"visible",exit:"hidden",variants:c,onClick:n,"aria-modal":"true",role:"dialog",children:x.jsxs(oe.div,{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-xl",variants:h,initial:"hidden",animate:"visible",exit:"hidden",onClick:p=>p.stopPropagation(),children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:i}),x.jsx("div",{className:"text-slate-600 mb-6",children:r}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx(oe.button,{onClick:n,className:"px-5 py-2.5 rounded-lg bg-slate-100 text-slate-700 font-semibold transition-colors border border-slate-200 disabled:opacity-50",whileTap:{scale:.97},whileHover:{backgroundColor:"#e2e8f0"},disabled:l,children:"Batal"}),x.jsx(oe.button,{onClick:e,className:"px-5 py-2.5 rounded-lg bg-rose-500 text-white font-bold transition-colors shadow-sm shadow-rose-500/30 disabled:bg-rose-300 min-w-[90px]",whileTap:{scale:.97},whileHover:{backgroundColor:"#e11d48"},disabled:l,children:l?"Menghapus...":"Hapus"})]})]})})})},zC=({isOpen:t,onClose:e,title:n,children:i})=>{const r={visible:{opacity:1},hidden:{opacity:0}},l={visible:{opacity:1,scale:1,transition:{type:"spring",damping:20,stiffness:250}},hidden:{opacity:0,scale:.9}};return x.jsx(mn,{children:t&&x.jsx(oe.div,{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex justify-center items-center p-4",initial:"hidden",animate:"visible",exit:"hidden",variants:r,onClick:e,"aria-modal":"true",role:"dialog",children:x.jsxs(oe.div,{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-xl",variants:l,initial:"hidden",animate:"visible",exit:"hidden",onClick:c=>c.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:x.jsx(UN,{className:"w-6 h-6 text-amber-500"})}),x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:n})]}),x.jsx("div",{className:"text-slate-600 mb-6 ml-1",children:i}),x.jsx("div",{className:"flex justify-end",children:x.jsx(oe.button,{onClick:e,className:"px-6 py-2.5 rounded-lg bg-bca-blue text-white font-bold transition-colors shadow-sm shadow-blue-500/30",whileTap:{scale:.97},whileHover:{backgroundColor:"#00509a"},children:"Mengerti"})})]})})})},lB={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},uB={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},cB={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20,transition:{duration:.2}}},QT=({title:t,data:e,label:n,icon:i,onAdd:r,onUpdate:l,onDelete:c})=>{const[h,p]=q.useState(!1),[m,y]=q.useState(null),[T,S]=q.useState(null),[C,b]=q.useState(null),[E,A]=q.useState(!1),[R,k]=q.useState(!1),D=J=>{y(J||null),p(!0)},L=()=>{p(!1),y(null)},N=async J=>{A(!0);const Q=m?await l(m.id,J):await r(J);A(!1),Q.success?L():b({title:"Gagal Menyimpan",message:Q.message||"Terjadi kesalahan."})},V=J=>S(J),z=()=>S(null),j=async()=>{if(T){k(!0);const J=await c(T);k(!1),J.success||b({title:"Tindakan Diblokir",message:J.message||"Gagal menghapus item."})}S(null)};return x.jsxs(oe.div,{className:"bg-white p-4 rounded-xl shadow-md shadow-slate-200/50",variants:uB,children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"text-slate-500",children:i}),x.jsx("h3",{className:"font-bold text-lg text-slate-800",children:t})]}),x.jsxs(oe.button,{onClick:()=>D(),className:"flex items-center gap-1 bg-blue-100 text-bca-blue font-semibold py-2 px-3 rounded-lg text-sm transition-colors",whileHover:{backgroundColor:"#dbeafe"},whileTap:{scale:.95},children:[x.jsx(oC,{className:"w-4 h-4"}),"Tambah"]})]}),x.jsx("ul",{className:"space-y-2",children:x.jsx(mn,{children:e.length>0?e.map(J=>x.jsxs(oe.li,{className:"flex justify-between items-center py-2.5 px-3 bg-slate-50 rounded-lg",variants:cB,initial:"initial",animate:"animate",exit:"exit",layout:!0,children:[x.jsx("span",{className:"text-slate-700 font-medium",children:J.name}),x.jsxs("div",{className:"flex items-center",children:[x.jsx(oe.button,{whileTap:{scale:.9},onClick:()=>D(J),className:"p-2 text-slate-400 hover:text-bca-blue rounded-full",children:x.jsx(aC,{className:"w-4 h-4"})}),x.jsx(oe.button,{whileTap:{scale:.9},onClick:()=>V(J.id),className:"p-2 text-slate-400 hover:text-rose-500 rounded-full",children:x.jsx(lC,{className:"w-4 h-4"})})]})]},J.id)):x.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"Data masih kosong."})})}),x.jsx(aB,{isOpen:h,onClose:L,onSave:N,title:`${m?"Edit":"Tambah"} ${n}`,label:`Nama ${n}`,initialValue:(m==null?void 0:m.name)||"",isSaving:E}),x.jsx(GC,{isOpen:!!T,onConfirm:j,onCancel:z,title:`Hapus ${n}`,isDeleting:R,children:x.jsx("p",{children:"Apakah Anda yakin ingin menghapus item ini? Tindakan ini tidak dapat diurungkan."})}),x.jsx(zC,{isOpen:!!C,onClose:()=>b(null),title:(C==null?void 0:C.title)||"Informasi",children:x.jsx("p",{children:(C==null?void 0:C.message)||""})})]})},fB=()=>{const{lembagas:t,addLembaga:e,updateLembaga:n,deleteLembaga:i,pemberiPinjamans:r,addPemberiPinjaman:l,updatePemberiPinjaman:c,deletePemberiPinjaman:h}=ho();return x.jsxs(oe.div,{className:"p-4 space-y-5",variants:lB,initial:"hidden",animate:"visible",children:[x.jsx(QT,{title:"Kelola Lembaga",data:t,label:"Lembaga",icon:x.jsx(PN,{className:"w-6 h-6"}),onAdd:e,onUpdate:n,onDelete:i}),x.jsx(QT,{title:"Kelola Pemberi Pinjaman",data:r,label:"Pemberi Pinjaman",icon:x.jsx(IN,{className:"w-6 h-6"}),onAdd:l,onUpdate:c,onDelete:h})]})},dB=({isOpen:t,onClose:e,transactionToEdit:n,onSaveFailed:i})=>{const{lembagas:r,pemberiPinjamans:l,addTransaction:c,updateTransaction:h}=ho(),[p,m]=q.useState(Ve.EXPENSE),[y,T]=q.useState(St.REGULER),[S,C]=q.useState(""),[b,E]=q.useState(""),[A,R]=q.useState(""),[k,D]=q.useState(!1),L=!!n,N=()=>{m(Ve.EXPENSE),T(St.REGULER),C(""),E(""),R("")};q.useEffect(()=>{t?L&&n?(m(n.type),T(n.subtype),C(n.amount.toString()),E(n.description),R(n.source_id)):N():D(!1)},[t,L,n]);const V=ue=>{m(ue),R(""),ue===Ve.EXPENSE?T(St.REGULER):T(fn.PENDAPATAN)},z=ue=>{T(ue),R("")},{sourceList:j,sourceLabel:J}=q.useMemo(()=>y===fn.PENDAPATAN||y===St.REGULER?{sourceList:r,sourceLabel:"Lembaga"}:y===fn.PINJAMAN||y===St.BAYAR_PINJAMAN?{sourceList:l,sourceLabel:"Pemberi Pinjaman"}:{sourceList:[],sourceLabel:"Sumber"},[y,r,l]),Q=async ue=>{if(ue.preventDefault(),k)return;if(!S||!b||!A||parseFloat(S)<=0){i("Mohon isi semua field dengan benar. Jumlah harus lebih dari nol.");return}D(!0);const ve={type:p,subtype:y,amount:parseFloat(S),description:b,source_id:A},F=L&&(n!=null&&n.id)?await h(n.id,ve):await c(ve);D(!1),F.success?e():i(F.message||"Terjadi kesalahan yang tidak diketahui.")},Z=p===Ve.INCOME?Object.values(fn):Object.values(St),ne={visible:{opacity:1},hidden:{opacity:0}},Pe={visible:{y:0,transition:{type:"spring",damping:25,stiffness:200}},hidden:{y:"100%"}};return x.jsx(mn,{children:t&&x.jsx(oe.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-end",initial:"hidden",animate:"visible",exit:"hidden",variants:ne,onClick:e,children:x.jsxs(oe.div,{className:"bg-white w-full rounded-t-2xl p-5",style:{boxShadow:"0 -10px 25px -5px rgba(0, 0, 0, 0.1)"},variants:Pe,initial:"hidden",animate:"visible",exit:"hidden",onClick:ue=>ue.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[L?"Edit":"Tambah"," Transaksi"]}),x.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800",disabled:k,children:x.jsx(rC,{className:"w-6 h-6"})})]}),x.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[x.jsxs("fieldset",{disabled:k,children:[x.jsx("div",{children:x.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[x.jsx("button",{type:"button",onClick:()=>V(Ve.EXPENSE),className:`w-1/2 p-2 rounded-md text-sm font-semibold transition-colors ${p===Ve.EXPENSE?"bg-white text-rose-600 shadow-sm":"text-slate-600"}`,children:"Pengeluaran"}),x.jsx("button",{type:"button",onClick:()=>V(Ve.INCOME),className:`w-1/2 p-2 rounded-md text-sm font-semibold transition-colors ${p===Ve.INCOME?"bg-white text-emerald-600 shadow-sm":"text-slate-600"}`,children:"Pemasukan"})]})}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 mb-1",children:"Jumlah (Rp)"}),x.jsx("input",{type:"number",id:"amount",value:S,onChange:ue=>C(ue.target.value),placeholder:"0",className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-600 mb-1",children:"Deskripsi"}),x.jsx("input",{type:"text",id:"description",value:b,onChange:ue=>E(ue.target.value),placeholder:"e.g. Pembelian ATK",className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition"})]}),x.jsxs("div",{className:"custom-select-wrapper",children:[x.jsxs("label",{htmlFor:"subtype",className:"block text-sm font-medium text-slate-600 mb-1",children:["Jenis ",p===Ve.INCOME?"Pemasukan":"Pengeluaran"]}),x.jsx("select",{id:"subtype",value:y,onChange:ue=>z(ue.target.value),className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",children:Z.map(ue=>x.jsx("option",{value:ue,children:ue},ue))}),x.jsx("div",{className:"custom-select-arrow text-slate-500",children:x.jsx(vd,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"custom-select-wrapper",children:[x.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-slate-600 mb-1",children:J}),x.jsxs("select",{id:"source",value:A,onChange:ue=>R(ue.target.value),className:"w-full bg-slate-100 border-slate-200 border text-slate-900 rounded-lg p-3 focus:ring-2 focus:ring-bca-blue focus:border-bca-blue transition",disabled:j.length===0,children:[x.jsx("option",{value:"",disabled:!0,children:j.length===0?`Data ${J} kosong`:`Pilih ${J}`}),j.map(ue=>x.jsx("option",{value:ue.id,children:ue.name},ue.id))]}),x.jsx("div",{className:"custom-select-arrow text-slate-500",children:x.jsx(vd,{className:"w-5 h-5"})})]})]}),x.jsx(oe.button,{type:"submit",className:"w-full bg-bca-blue text-white font-bold py-4 px-4 rounded-lg transition-all mt-6 shadow-md shadow-blue-600/30 focus:outline-none focus:ring-4 focus:ring-bca-blue/50 disabled:bg-slate-400",whileTap:{scale:.98},disabled:k,children:k?"Menyimpan...":L?"Update Transaksi":"Simpan Transaksi"})]})]})})})},cn={isMobile:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isIOSSafari:()=>{const t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),n=/WebKit/.test(t),i=/Safari/.test(t);return e&&n&&i&&!(t.indexOf("CriOS")>-1)&&!(t.indexOf("FxiOS")>-1)},isChromeAndroid:()=>{const t=navigator.userAgent;return/Android/.test(t)&&/Chrome/.test(t)},isStandalone:()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0},Mh=()=>{const[t,e]=q.useState({isInstallable:!1,isInstalled:cn.isStandalone(),isUpdateAvailable:!1,isOnline:navigator.onLine,promptEvent:null}),[n,i]=q.useState(!1),[r,l]=q.useState("install"),c=m=>{e(y=>({...y,...m}))};q.useEffect(()=>{if(t.isInstalled){console.log("PWA: App already installed");return}let m;const y=A=>{console.log("PWA: beforeinstallprompt event received"),A.preventDefault();const R=A.detail||A;c({isInstallable:!0,promptEvent:R}),m=setTimeout(()=>{l("install"),i(!0)},2e3)},T=()=>{console.log("PWA: App installed successfully"),c({isInstalled:!0,isInstallable:!1,promptEvent:null}),i(!1),clearTimeout(m)},S=()=>c({isOnline:!0}),C=()=>c({isOnline:!1}),b=()=>{console.log("PWA: Service worker update available"),c({isUpdateAvailable:!0}),l("update"),i(!0)},E=()=>{!t.isInstalled&&cn.isMobile()&&(console.log("PWA: Manual install prompt triggered"),c({isInstallable:!0}),l("install"),i(!0))};return window.addEventListener("beforeinstallprompt",y),window.addEventListener("appinstalled",T),window.addEventListener("online",S),window.addEventListener("offline",C),window.addEventListener("swUpdate",b),window.addEventListener("manualInstallPrompt",E),window.deferredPrompt&&!t.promptEvent&&(console.log("PWA: Found deferred prompt on window object"),c({isInstallable:!0,promptEvent:window.deferredPrompt}),m=setTimeout(()=>{l("install"),i(!0)},2e3)),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{t.isUpdateAvailable||b()}),()=>{clearTimeout(m),window.removeEventListener("beforeinstallprompt",y),window.removeEventListener("appinstalled",T),window.removeEventListener("online",S),window.removeEventListener("offline",C),window.removeEventListener("swUpdate",b),window.removeEventListener("manualInstallPrompt",E)}},[t.isInstalled,t.promptEvent]);const h=async()=>{console.log("PWA: Install triggered",{promptType:r,hasPromptEvent:!!t.promptEvent});try{if(r==="update"){if("serviceWorker"in navigator){const T=await navigator.serviceWorker.getRegistration();if(T!=null&&T.waiting){T.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload();return}}c({isUpdateAvailable:!1}),i(!1);return}if(cn.isIOSSafari()){console.log("PWA: iOS Safari detected - showing install instructions");return}const m=t.promptEvent||window.deferredPrompt;if(!m){if(console.log("PWA: No prompt event available"),cn.isMobile()){const T=cn.isChromeAndroid()?`Untuk menginstall aplikasi:

1. Tap menu (⋮) di pojok kanan atas
2. Pilih "Add to Home screen"
3. Tap "Add" untuk menyelesaikan`:`Untuk menginstall aplikasi:

1. Buka menu browser
2. Pilih "Add to Home Screen"
3. Ikuti instruksi yang muncul`;alert(T)}i(!1);return}if(typeof m.prompt!="function"){console.error("PWA: Prompt event does not have a prompt method"),i(!1);return}await m.prompt();const y=await m.userChoice;console.log("PWA: User choice result:",y),y.outcome==="accepted"?(console.log("PWA: User accepted the install prompt"),c({isInstalled:!0})):console.log("PWA: User dismissed the install prompt"),window.deferredPrompt=null,c({promptEvent:null})}catch(m){console.error("PWA: Error during installation:",m),cn.isMobile()&&alert(`Untuk menginstall aplikasi:

1. Buka menu browser
2. Pilih "Add to Home Screen"
3. Ikuti instruksi yang muncul`)}finally{i(!1)}},p=()=>{console.log("PWA: Prompt dismissed"),i(!1),r==="update"&&c({isUpdateAvailable:!1})};return{isInstallable:t.isInstallable,isInstalled:t.isInstalled,isUpdateAvailable:t.isUpdateAvailable,isOnline:t.isOnline,isPromptVisible:n,promptType:r,handleInstall:h,handleDismiss:p,deviceInfo:{isMobile:cn.isMobile(),isIOSSafari:cn.isIOSSafari(),isChromeAndroid:cn.isChromeAndroid(),isStandalone:cn.isStandalone()}}},FC=()=>{const{isPromptVisible:t,promptType:e,handleInstall:n,handleDismiss:i,deviceInfo:r}=Mh();if(!t)return null;const l=e==="update",{isMobile:c,isIOSSafari:h,isChromeAndroid:p}=r,y={install:{title:"Install SIKAT App",description:"Install aplikasi SIKAT untuk akses yang lebih cepat dan pengalaman yang lebih baik.",actionText:"Install App",benefits:["🚀 Akses lebih cepat","📱 Bekerja offline","🔔 Notifikasi push","💾 Hemat data"]},update:{title:"Update Available",description:"Versi baru aplikasi SIKAT tersedia dengan perbaikan dan fitur terbaru.",actionText:"Update Now",benefits:["🔧 Bug fixes","✨ Fitur baru","⚡ Performa lebih baik","🔒 Keamanan ditingkatkan"]}}[e],T=()=>c?h?x.jsxs("div",{className:"text-sm text-gray-600 mt-3 p-3 bg-blue-50 rounded-lg",children:[x.jsx("p",{className:"font-medium mb-2",children:"Cara install di iOS Safari:"}),x.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[x.jsx("li",{children:"Tap tombol Share (📤) di bawah"}),x.jsx("li",{children:'Scroll dan pilih "Add to Home Screen"'}),x.jsx("li",{children:'Tap "Add" untuk menyelesaikan'})]})]}):p?x.jsxs("div",{className:"text-sm text-gray-600 mt-3 p-3 bg-blue-50 rounded-lg",children:[x.jsx("p",{className:"font-medium mb-2",children:"Cara install di Android Chrome:"}),x.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[x.jsx("li",{children:'Tap tombol "Install App" di bawah'}),x.jsx("li",{children:'Atau tap menu (⋮) → "Add to Home screen"'}),x.jsx("li",{children:'Tap "Add" untuk menyelesaikan'})]})]}):x.jsxs("div",{className:"text-sm text-gray-600 mt-3 p-3 bg-blue-50 rounded-lg",children:[x.jsx("p",{className:"font-medium mb-2",children:"Cara install:"}),x.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[x.jsx("li",{children:"Buka menu browser"}),x.jsx("li",{children:'Pilih "Add to Home Screen"'}),x.jsx("li",{children:"Ikuti instruksi yang muncul"})]})]}):x.jsxs("div",{className:"text-sm text-gray-600 mt-3 p-3 bg-blue-50 rounded-lg",children:[x.jsx("p",{className:"font-medium mb-2",children:"Cara install di desktop:"}),x.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[x.jsx("li",{children:'Klik tombol "Install App" di bawah'}),x.jsx("li",{children:"Atau klik ikon install (⬇️) di address bar"}),x.jsx("li",{children:'Pilih "Install" pada dialog yang muncul'})]})]});return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[x.jsx("div",{className:`px-6 py-4 ${l?"bg-gradient-to-r from-orange-500 to-red-500":"bg-gradient-to-r from-blue-500 to-purple-600"}`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:x.jsx("span",{className:"text-2xl",children:l?"🔄":"📱"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-white font-bold text-lg",children:y.title}),x.jsx("p",{className:"text-white text-opacity-90 text-sm",children:"SIKAT - Kas Management"})]})]}),x.jsx("button",{onClick:i,className:"text-white hover:text-gray-200 transition-colors","aria-label":"Close",children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),x.jsxs("div",{className:"px-6 py-4",children:[x.jsx("p",{className:"text-gray-700 mb-4",children:y.description}),x.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:y.benefits.map((S,C)=>x.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:x.jsx("span",{children:S})},C))}),!l&&T()]}),x.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex space-x-3",children:[x.jsx("button",{onClick:i,className:"flex-1 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:l?"Nanti":"Tidak Sekarang"}),x.jsx("button",{onClick:n,className:`flex-1 px-4 py-2 text-white rounded-lg font-medium transition-colors ${l?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700"}`,children:y.actionText})]})]})})},hB=({activeView:t})=>{const{transactions:e,deleteTransaction:n}=ho(),{logout:i}=Ol(),{isPromptVisible:r,isOnline:l,promptType:c,handleInstall:h,handleDismiss:p}=Mh(),[m,y]=q.useState(!1),[T,S]=q.useState(null),[C,b]=q.useState(null),[E,A]=q.useState(!1),[R,k]=q.useState(null),D=q.useRef(null),{scrollY:L}=iC({container:D});Z_(L,"change",X=>{A(X>10)});const N=C?e.find(X=>X.id===C):null,V=q.useCallback(X=>{k({title:"Transaksi Gagal",message:X})},[]),z=q.useCallback(()=>{y(!1),S(null)},[]),j=q.useCallback(()=>{S(null),y(!0)},[]),J=q.useCallback(X=>{S(X),y(!0)},[]),Q=q.useCallback(X=>{b(X)},[]),Z=q.useCallback(()=>{b(null)},[]),ne=q.useCallback(()=>{C&&n(C),b(null)},[C,n]),Pe={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},ue=()=>{switch(t){case"dashboard":return x.jsx(Il,{});case"list":return x.jsx(fC,{onEdit:J,onDelete:Q});case"ai":return x.jsx(rB,{});case"settings":return x.jsx(fB,{});default:return x.jsx(Il,{})}},ve={dashboard:"Dashboard Admin",list:"Riwayat Transaksi",ai:"SIKAT Advisor",settings:"Data Master"},F=({view:X,label:ie,icon:xe})=>x.jsxs(oe.button,{onClick:()=>window.location.hash=`#/admin/${X}`,className:`flex flex-col items-center justify-center w-full transition-colors duration-200 h-full ${t===X?"text-bca-blue":"text-slate-500 hover:text-bca-blue"}`,whileTap:{scale:.9},children:[x.jsx(oe.div,{className:"relative",animate:t===X?{scale:[1,1.25,1]}:{},transition:{duration:.4,ease:"easeOut"},children:xe}),x.jsx("span",{className:"text-xs font-medium mt-1.5",children:ie})]});return x.jsxs("div",{className:"h-screen w-screen bg-slate-50 flex flex-col font-sans max-w-md mx-auto shadow-2xl shadow-slate-400/20 border-x border-slate-200/80",children:[x.jsxs(oe.header,{layout:!0,className:`flex justify-between items-center flex-shrink-0 px-4 pt-6 pb-4 sticky top-0 z-20 transition-all duration-300 ${E?"bg-slate-50/80 backdrop-blur-lg shadow-sm":"bg-transparent"}`,children:[x.jsx(oe.h1,{layout:"position",className:"text-2xl font-extrabold text-slate-900 text-left",children:ve[t]}),x.jsx(oe.button,{onClick:i,whileTap:{scale:.95},className:"p-2 text-slate-500 hover:text-rose-600 hover:bg-rose-50 rounded-full","aria-label":"Logout",children:x.jsx(kN,{className:"w-6 h-6"})})]}),x.jsx("main",{ref:D,className:"flex-grow overflow-y-auto pb-28",children:x.jsx(mn,{mode:"wait",children:x.jsx(oe.div,{variants:Pe,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.2},children:ue()},t)})}),x.jsx(mn,{children:t!=="ai"&&t!=="settings"&&!r&&x.jsx(oe.div,{initial:{scale:0,y:50},animate:{scale:1,y:0},exit:{scale:0,y:50},transition:{type:"spring",stiffness:260,damping:20},className:"fixed bottom-24 right-6 z-40",children:x.jsx(oe.button,{onClick:j,className:"bg-bca-blue text-white rounded-full p-4 shadow-lg shadow-blue-600/30 focus:outline-none focus:ring-4 focus:ring-bca-blue/50","aria-label":"Tambah Transaksi",whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:x.jsx(oC,{className:"w-8 h-8"})})})}),x.jsx(FC,{isVisible:r,onInstall:h,onDismiss:p,type:c}),!l&&x.jsx("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500 text-white text-center py-2 text-sm z-50",children:"Mode Offline - Beberapa fitur mungkin tidak tersedia"}),x.jsx(dB,{isOpen:m,onClose:z,transactionToEdit:T,onSaveFailed:V}),x.jsx(GC,{isOpen:!!C,onConfirm:ne,onCancel:Z,title:"Konfirmasi Penghapusan",children:x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("p",{children:"Apakah Anda yakin ingin menghapus transaksi ini?"}),N&&x.jsxs("div",{className:"bg-slate-100 p-3 rounded-lg border border-slate-200",children:[x.jsx("p",{className:"font-semibold text-slate-800 truncate",children:N.description}),x.jsxs("p",{className:"text-sm text-slate-500",children:[N.type===Ve.INCOME?"+":"-","Rp ",N.amount.toLocaleString("id-ID")]})]}),x.jsx("p",{className:"text-xs text-rose-500 pt-2",children:"Tindakan ini tidak dapat diurungkan."})]})}),x.jsx(zC,{isOpen:!!R,onClose:()=>k(null),title:(R==null?void 0:R.title)||"Informasi",children:x.jsx("p",{children:(R==null?void 0:R.message)||""})}),x.jsx("footer",{className:"fixed bottom-0 left-0 right-0 h-20 bg-white/70 backdrop-blur-lg border-t border-slate-200/80 shadow-[0_-5px_20px_-10px_rgba(0,0,0,0.07)] z-30 max-w-md mx-auto",children:x.jsxs("nav",{className:"flex items-center justify-around h-full px-2",children:[x.jsx(F,{view:"dashboard",label:"Dashboard",icon:x.jsx(Ch,{className:"w-6 h-6"})}),x.jsx(F,{view:"list",label:"Riwayat",icon:x.jsx(sC,{className:"w-6 h-6"})}),x.jsx(F,{view:"ai",label:"Advisor",icon:x.jsx(AN,{className:"w-6 h-6"})}),x.jsx(F,{view:"settings",label:"Data",icon:x.jsx(DN,{className:"w-6 h-6"})})]})})]})},mB=({activeView:t})=>{const{isPromptVisible:e,promptType:n,handleInstall:i,handleDismiss:r}=Mh(),[l,c]=q.useState(!1),h=q.useRef(null),{scrollY:p}=iC({container:h});Z_(p,"change",C=>{c(C>10)});const m={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},y=()=>{switch(t){case"dashboard":return x.jsx(Il,{});case"list":return x.jsx(fC,{onEdit:()=>{},onDelete:()=>{},isReadOnly:!0});default:return x.jsx(Il,{})}},T={dashboard:"Dashboard Publik",list:"Riwayat Transaksi"},S=({view:C,label:b,icon:E})=>x.jsxs(oe.button,{onClick:()=>window.location.hash=`#/public/${C}`,className:`flex flex-col items-center justify-center w-full transition-colors duration-200 h-full ${t===C?"text-bca-blue":"text-slate-500 hover:text-bca-blue"}`,whileTap:{scale:.9},children:[x.jsx(oe.div,{className:"relative",animate:t===C?{scale:[1,1.25,1]}:{},transition:{duration:.4,ease:"easeOut"},children:E}),x.jsx("span",{className:"text-xs font-medium mt-1.5",children:b})]});return x.jsxs("div",{className:"h-screen w-screen bg-slate-50 flex flex-col font-sans max-w-md mx-auto shadow-2xl shadow-slate-400/20 border-x border-slate-200/80",children:[x.jsxs(oe.header,{layout:!0,className:`flex justify-between items-center flex-shrink-0 px-4 pt-6 pb-4 sticky top-0 z-20 transition-all duration-300 ${l?"bg-slate-50/80 backdrop-blur-lg shadow-sm":"bg-transparent"}`,children:[x.jsx(oe.h1,{layout:"position",className:"text-2xl font-extrabold text-slate-900 text-left",children:T[t]}),x.jsx("button",{onClick:()=>window.location.hash="#/login",className:"text-sm font-semibold text-bca-blue hover:underline",children:"Login Admin"})]}),x.jsx("main",{ref:h,className:"flex-grow overflow-y-auto pb-28",children:x.jsx(mn,{mode:"wait",children:x.jsx(oe.div,{variants:m,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.2},children:y()},t)})}),x.jsx(FC,{isVisible:e,onInstall:i,onDismiss:r,type:n}),x.jsx("footer",{className:"fixed bottom-0 left-0 right-0 h-20 bg-white/70 backdrop-blur-lg border-t border-slate-200/80 shadow-[0_-5px_20px_-10px_rgba(0,0,0,0.07)] z-30 max-w-md mx-auto",children:x.jsxs("nav",{className:"flex items-center justify-around h-full px-2",children:[x.jsx(S,{view:"dashboard",label:"Dashboard",icon:x.jsx(Ch,{className:"w-6 h-6"})}),x.jsx(S,{view:"list",label:"Riwayat",icon:x.jsx(sC,{className:"w-6 h-6"})})]})})]})},pB=["dashboard","list","ai","settings"],gB=["dashboard","list"],yB=()=>{const{isAuthenticated:t}=Ol(),{route:e}=DA(),n=e[0]||"",i=e[1]||"dashboard";if(t){if(n==="admin"){const r=pB.includes(i)?i:"dashboard";return x.jsx(hB,{activeView:r})}return window.location.hash="#/admin/dashboard",null}if(n==="public"){const r=gB.includes(i)?i:"dashboard";return x.jsx(mB,{activeView:r})}return n==="login"?x.jsx(VN,{}):(window.location.hash&&window.location.hash!=="#/"&&(window.location.hash="#/"),x.jsx(LN,{}))},$C=document.getElementById("root");if(!$C)throw new Error("Could not find root element to mount to");const vB=bw.createRoot($C);vB.render(x.jsx(vw.StrictMode,{children:x.jsx(RA,{children:x.jsx(ON,{children:x.jsx(yB,{})})})}));
